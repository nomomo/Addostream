// ==UserScript==
// @name Addostream
// @version 1.57.13
// @author Nomo
// @description 두스트림에 기능을 추가한다.
// @supportURL https://github.com/nomomo/Addostream/issues
// @namespace Addostream
// @include *.dostream.com/*
// @include *insagirl-toto.appspot.com/hrm/*
// @include *player.twitch.tv/*
// @include https://chzzk.naver.com/*?embed
// @exclude *insagirl-toto.appspot.com/hrm/notfound.html
// @icon https://raw.githubusercontent.com/nomomo/Addostream/master/images/logo.png
// @homepageURL https://nomomo.github.io/Addostream/
// @downloadURL https://raw.githubusercontent.com/nomomo/Addostream/master/Addostream.user.js
// @updateURL https://raw.githubusercontent.com/nomomo/Addostream/master/Addostream.user.js
// @run-at document-start
// @require https://greasemonkey.github.io/gm4-polyfill/gm4-polyfill.js
// @require https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js
// @require https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js
// @require https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js
// @require https://embed.twitch.tv/embed/v1.js
// @grant GM.addStyle
// @grant GM_addStyle
// @grant GM.getValue
// @grant GM_getValue
// @grant GM.setValue
// @grant GM_setValue
// @grant GM.deleteValue
// @grant GM_deleteValue
// @grant GM.listValues
// @grant GM_listValues
// @grant GM.info
// @grant GM_info
// @grant GM.xmlHttpRequest
// @grant GM_xmlhttpRequest
// @grant GM.registerMenuCommand
// @grant GM_registerMenuCommand
// @grant GM.notification
// @grant GM_notification
// @grant GM.addValueChangeListener
// @grant GM_addValueChangeListener
// @grant GM.removeValueChangeListener
// @grant GM_removeValueChangeListener
// @grant unsafeWindow
// @connect *
// ==/UserScript==

(()=>{var t={253:(t,e,n)=>{var a=n(81),o=n(645)(a);o.push([t.id,'\nbody{\n    overflow-x: hidden;\n}\n\nul.nav {\n    display: none !important;\n}\n\n.onstream .nav-brand_mod {\n    height: 45px;\n    text-decoration: none;\n    color: #fff;\n}\n\n.nav-brand_mod {\n    display: block;\n    float: left;\n    width: 112px;\n    height: 63px;\n    margin: 0 20px 0 24.5px;\n    background-position: center center;\n    background-repeat: no-repeat;\n}\n\n.nav-brand,\n.nav-brand_mod {\n    color: #fff;\n    overflow: visible;\n    margin-left: 24.5px;\n    /* position: relative; */\n    background-image: url("https://raw.githubusercontent.com/nomomo/Addostream/master/assets/logo_dostreamplus.png");\n}\n.nav-brand:focus, .nav-brand_mod:focus,\n.nav-brand:active, .nav-brand_mod:active{\n    border: none;\n    text-decoration: none;\n}\n/* .nav-brand:before, .nav-brand_mod:before{\n    content:\'+\';\n    position: relative;\n    top:10px;\n    right:0;\n    box-sizing: border-box;\n    font-size:20px;\n    font-weight: 400;\n    font-family: sans-serif;\n    display:inline;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -webkit-user-drag: none;\n    border: none;\n    text-decoration: none;\n}\n.onstream .nav-brand:before, .onstream .nav-brand_mod:before{\n    top:1px;\n} */\n\n.nav-brand:hover,\n.nav-brand:visited,\n.nav-brand:active,\n.nav-brand_mod:hover,\n.nav-brand_mod:visited,\n.nav-brand_mod:active {\n    text-decoration: none;\n    color: #fff;\n}\n\n.onstream .AD_title {\n    height: 45px;\n    padding: 7px 0\n}\n\n.AD_title {\n    position: absolute;\n    top: 0;\n    right: 10px;\n    height: 63px;\n    padding: 16px 0;\n    font-size: 11px;\n    color: #999;\n    z-index: 1500;\n    user-select: none;\n}\n\n.icon_star {\n    position: absolute !important;\n    top: 10px;\n    right: 25px;\n    z-index: 10;\n}\n\n.icon_pushpin {\n    position: absolute !important;\n    top: 10px;\n    right: 10px;\n    z-index: 50;\n}\n\n#ADD_config {\n    cursor: pointer;\n    padding-right: 10px;\n}\n\n#ADD_test_button {\n    cursor: pointer;\n    position: absolute;\n    right: -100px;\n}\n\n#multitwitch {\n    cursor: pointer;\n    display: inline-block;\n    font-size: 12px;\n    line-height: 20px;\n    margin: 0 5px 0 0;\n    padding: 5px 10px;\n    background: #eee;\n    color: #222;\n}\n\n.stream-wrap>.info>.game {\n    float: left;\n    margin-left: 10px;\n    /* color: #333 */\n}\n\n#popup_ADD_test {\n    top: 50px;\n    right: -90px;\n}\n\n#popup_ADD_config,\n#popup_ADD_quick,\n#popup_ADD_test {\n    display: none;\n    font-size: 12px;\n    z-index: 10000;\n    position: absolute;\n    width: 502px;\n}\n\n#popup_ADD_config table td:nth-child(1) {\n    width: 160px;\n}\n\n#popup_ADD_config table td:nth-child(2) {\n    /*width:310px;*/\n}\n\n#popup_ADD_config {\n    top: 50px;\n    right: 10px;\n}\n\n#popup_ADD_config .input_text_by_tag {\n    display: none;\n}\n\n#popup_ADD_config .no_border {\n    border: none;\n}\n\n#ADD_change_multi,\n#ADD_twip {\n    opacity: 0;\n    display: inline-block\n}\n\n/*{ display:none; }*/\n/*.onstream #ADD_change_multi { opacity:1; display:inline-block !important;}*/\n#ADD_quick_list {\n    opacity: 0;\n    display: inline-block\n}\n\n/*{ display:none; }*/\n/*.onstream #ADD_quick_list { opacity:1; display:inline-block !important;}*/\n#popup_ADD_quick .modal-body {\n    padding: 10px;\n    position: relative;\n}\n\n#popup_ADD_quick {\n    top: 50px;\n    right: 10px;\n}\n\n#popup_ADD_quick .quick_list_title {\n    padding: 0 5px 2px 5px;\n    margin-bottom: 0px;\n    border-bottom: 2px solid rgb(221, 221, 221);\n    font-weight: 700;\n}\n\n#popup_ADD_quick ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    display: block;\n    font-size: 11px;\n}\n\n#popup_ADD_quick li {\n    border-bottom: 1px solid #eee;\n    display: block;\n}\n\n#popup_ADD_quick a {\n    padding: 5px 5px 5px 5px;\n    display: block;\n    color: #333;\n    text-decoration: none;\n}\n\n#popup_ADD_quick li>a:hover {\n    background-color: #d3d3d3;\n}\n\n#popup_ADD_quick img {\n    float: left;\n    display: block;\n    width: 60px;\n    height: 30px;\n    vertical-align: middle;\n    border: 0;\n    margin-right: 10px;\n}\n\n#popup_ADD_quick .title {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    padding-right: 40px;\n    color: #222\n}\n\n#popup_ADD_quick .info {}\n\n#popup_ADD_quick .from {\n    float: left;\n    color: #666;\n}\n\n#popup_ADD_quick .viewers {\n    text-align: right;\n    color: #7d7d7b;\n}\n\n#popup_ADD_quick .ADD_checkbox {\n    display: none;\n}\n\n#popup_ADD_quick .ADD_li_box {\n    right: 45px;\n    top: -27px;\n    height: 10px;\n    font-size: 10px;\n}\n\n#popup_ADD_quick .ADD_li_box .btn {\n    font-size: 9px;\n    padding: 1px 2px;\n    letter-spacing: -0.5px;\n    border: 0;\n    opacity: 0.7;\n    border-radius: 0px;\n}\n\n#popup_ADD_quick .icon_star {\n    top: 7px;\n    right: 15px;\n    z-index: 10;\n}\n\n#popup_ADD_quick .icon_pushpin {\n    top: 7px;\n    right: 5px;\n    z-index: 50;\n}\n\n#popup_ADD_quick .ADD_thumb_elem {\n    left: 80px;\n}\n\n#popup_ADD_quick .ADD_thumb_elem {\n    width: 290px;\n    height: 163px !important;\n}\n\n#popup_ADD_quick .stream_list_scroll {\n    overflow-y: auto;\n    max-height: calc(100vh - 105px);\n    scrollbar-width: thin;\n}\n\n.modal-content {\n    box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);\n    background-clip: padding-box;\n    background-color: #fff;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 6px;\n    outline: 0 none;\n}\n\n.modal-content {\n    opacity: 0.93\n}\n\n.modal-body {\n    padding: 10px 10px 5px 10px;\n}\n\n.modal-footer {\n    border-top: 1px solid #e5e5e5;\n    padding: 10px 15px;\n    text-align: right;\n}\n\n#ADD_config_Success {\n    font-size: 11px;\n}\n\n.btn {\n    font-size: 12px;\n}\n\n.main-streams>ul>li>a {\n    padding: 10px 5px 10px 15px !important;\n}\n\n.ADD_li_box_container {\n    position: relative;\n}\n\n.ADD_li_box {\n    position: absolute;\n    top: -42px;\n    right: 70px;\n    height: 30px;\n    vertical-align: middle;\n    text-align: center;\n    font-size: 12px;\n    z-index: 5;\n    margin: 0;\n}\n\n.ADD_li_box:before {\n    content: "";\n    display: inline-block;\n    vertical-align: middle;\n    height: 100%;\n}\n\n#popup_ADD_quick .ADD_checkbox_container {\n    display: none;\n}\n\n#popup_ADD_quick .multitwitch_button btn:hover {\n    background: none;\n}\n\n.ADD_checkbox_container {\n    display: inline-block;\n    line-height: 100%;\n    vertical-align: middle;\n}\n\n.ADD_checkbox {\n    display: none;\n    width: 15px;\n    height: 15px;\n    margin: 1px 2px 1px 0 !important;\n    border: none !important;\n}\n\n.ADD_li_box .btn-default {\n    color: #7d7d7d\n}\n\n.ADD_checkbox_container .btn span.glyphicon {\n    opacity: 0.2;\n}\n\n.ADD_checkbox_container .btn.active span.glyphicon {\n    opacity: 1;\n    color: #9B59B6\n}\n\n.multitwitch_button {\n    vertical-align: middle;\n    display: inline-block;\n}\n\n/* background-color:#eee; padding:5px 8px; height:26px; */\n.form_disabled {\n    color: #888;\n}\n\n.form_enabled {\n    color: #222;\n}\n\n#popup_ADD_config table td {\n    height: 26px;\n    line-height: 1.5;\n    font-size: 11px;\n    padding: 2px 5px 2px 10px;\n    vertical-align: middle;\n    /* border-top-color: #e5e5e5; */\n}\n\n#popup_ADD_config table td label {\n    vertical-align: middle;\n}\n\n#popup_ADD_config table td input[type="text"] {\n    font-size: 11px;\n}\n\n#popup_ADD_config table td input[type="checkbox"] {\n    vertical-align: middle;\n    margin-bottom: 0;\n    margin-top: 0;\n}\n\n#popup_ADD_config table td input[type="radio"] {\n    vertical-align: middle;\n    margin-bottom: 0;\n    margin-top: 0;\n}\n\n#popup_ADD_config table td .tooltip_container {\n    float: right;\n}\n\n.btn-success {\n    margin-right: 10px;\n}\n\n.btn-success:hover,\n.btn-success:focus,\n.btn-success:active,\n.btn-success.active,\n.open .dropdown-toggle.btn-success {\n    background-color: #5cb85c;\n    border-color: #4cae4c;\n    color: #fff;\n    cursor: Default;\n    margin-right: 10px;\n}\n\n.confirm_selection {\n    animation: glow .5s infinite alternate;\n}\n\n@keyframes glow {\n    to {\n        text-shadow: 0 0 10px white;\n        box-shadow: 0 0 10px #5cb85c;\n    }\n}\n\n.multitwitch_ready {\n    animation: glow2 0.5s 4 alternate;\n}\n\n@keyframes glow2 {\n    to {\n        text-shadow: 0 0 10px white;\n        box-shadow: 0 0 10px #6441A4;\n    }\n}\n\n.fixed_streamer {\n    /* background-color: #f5f5f5; */\n}\n\n.td_strong {\n    font-weight: 700;\n}\n\n#ADD_blocked_text,\n#ADD_blocked_text table {\n    font-size: 12px;\n}\n\n#history_elem {\n    color: #666;\n    position: relative;\n    top: 0px;\n    left: 0px;\n    height: 63px;\n    padding-top: 5px;\n    text-align: left;\n    margin-right: 170px;\n    vertical-align: middle;\n    z-index: 800;\n}\n\n.onstream #history_elem {\n    height: 45px;\n}\n\n#history_elem:before {\n    content: "";\n    display: inline-block;\n    vertical-align: middle;\n    height: 100%;\n}\n\n/* .h_container:before {\n    content: "";\n    position: absolute;\n    top: 0;\n    right: -5px;\n    background-image: linear-gradient(to right, rgba(255, 255, 255, 0) 0px, rgba(255, 255, 255, 1) 40px);\n    width: 50px;\n    height: 57px;\n    pointer-events: none;\n    margin: 3px 0;\n} */\n\n.onstream .h_container:before {\n    height: 39px;\n}\n\n#history_elem a {\n    /* color: #555; */\n    color: unset;\n    font-size: 12px;\n    height: 20px;\n    display: inline-block;\n    text-transform: capitalize\n}\n\n#history_elem a:hover {\n    /* color: #000; */\n}\n\n#history_elem .h_text_container {\n    display: inline-block\n}\n\n#history_elem .h_container {\n    vertical-align: middle;\n    display: inline-block;\n    width: 100%;\n    white-space: nowrap;\n    overflow: hidden;\n}\n\n#history_elem .h_icon {\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    margin: 2px 4px 5px 0px;\n    background-position: 0px 0px;\n    background-repeat: no-repeat;\n    vertical-align: middle;\n    user-select: none;\n}\n\n#history_elem .h_twitch {\n    background-image: url("https://raw.githubusercontent.com/nomomo/Addostream/master/assets/icon_twitch.png");\n}\n\n#history_elem .h_afreeca {\n    background-image: url("https://raw.githubusercontent.com/nomomo/Addostream/master/assets/icon_aftv.png");\n}\n\n#history_elem .h_youtube {\n    background-image: url("https://raw.githubusercontent.com/nomomo/Addostream/master/assets/icon_youtube.png");\n}\n\n#history_elem .h_kakao {\n    background-image: url("https://raw.githubusercontent.com/nomomo/Addostream/master/assets/icon_kakao.png");\n}\n\n#history_elem .h_okru {\n    background-image: url("https://raw.githubusercontent.com/nomomo/Addostream/master/assets/icon_okru.png");\n}\n\n#history_elem.twip_margin,\n#history_elem.toonat_margin {\n    margin-right: 221px;\n}\n\n#history_elem.twip_margin.toonat_margin {\n    margin-right: 272px;\n}\n\n#notice_text_elem {\n    display: none;\n    font-size: 10px;\n    color: #666;\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 63px;\n    text-align: left;\n    padding-right: 170px;\n    vertical-align: middle;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    z-index: 1000;\n    background: white;\n    white-space: nowrap;\n}\n\n.onstream #notice_text_elem {\n    height: 45px;\n}\n\n#notice_text_elem:before {\n    content: "";\n    display: inline-block;\n    vertical-align: middle;\n    height: 100%;\n    background: white;\n}\n\n#notice_text,\n#notice_text2 {\n    display: inline-block;\n    vertical-align: middle;\n    line-height: 150%;\n}\n\n#at {\n    cursor: pointer;\n    display: inline-block;\n    margin: 4px 2px 0 2px;\n    height: 24px;\n    animation-name: at_spin;\n    animation-duration: 18s;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n}\n\n@keyframes at_spin {\n    0% {\n        transform: rotate(0)\n    }\n\n    25% {\n        transform: rotate(90deg);\n        text-shadow: 0 0 3px #F0F8FF\n    }\n\n    50% {\n        transform: rotate(180deg);\n        text-shadow: 0 0 8px #B0E0E6\n    }\n\n    100% {\n        transform: rotate(359deg)\n    }\n}\n\n.ADD_under_dev {\n    display: none;\n}\n\n.lightbox-opened img {\n    max-width: 100%;\n    box-shadow: 0 0 6px 3px #333;\n    opacity: 1.0;\n    margin-top: 40px;\n}\n\n.lightbox-opened img.chat_image,\n.lightbox-opened video.chat_image {\n    display: block;\n    max-width: 100%;\n    box-shadow: 0 0 6px 3px #333;\n    opacity: 1.0;\n    margin: 40px auto 0px auto;\n}\n\n.lightbox-opened {\n    z-index: 100000;\n    background-color: rgba(51, 51, 51, 0.8);\n    cursor: pointer;\n    height: 100%;\n    left: 0;\n    overflow-y: scroll;\n    padding: 24px;\n    position: fixed;\n    text-align: center;\n    top: 0;\n    width: 100%;\n}\n\n.lightbox-opened:before {\n    background-color: rgba(51, 51, 51, 0.8);\n    color: #eee;\n    content: "x";\n    font-family: sans-serif;\n    padding: 6px 12px;\n    position: fixed;\n    text-transform: uppercase;\n}\n\n.no-scroll {\n    overflow: hidden;\n}\n\n#ADD_send_location_container {\n    position: absolute;\n    bottom: 55px;\n    right: 10px;\n    z-index: 10;\n    vertical-align: middle;\n}\n\n#ADD_send_location_notice {\n    display: none;\n    width: 60px;\n    height: 24px;\n    font-size: 10px;\n    color: #333;\n    background-color: #f5f5f5;\n}\n\n#ADD_send_location_button {\n    width: 24px;\n    height: 24px;\n    font-size: 18px;\n    cursor: pointer;\n}\n\ndiv.ADD_thumb_elem_container {\n    position: relative;\n    display: none;\n}\n\n#popup_ADD_quick .ADD_thumb_elem_container {\n    position: inherit;\n}\n\ndiv.ADD_thumb_elem_container div.ADD_thumb_elem {\n    position: absolute;\n    top: 0px;\n    left: 105px;\n    z-index: 300;\n}\n\ndiv.ADD_thumb_elem_container img.ADD_thumb_img {\n    z-index: 400;\n}\n\ndiv.ADD_thumb_elem_container div.ADD_thumb_size_0 {\n    width: 240px;\n    height: 180px;\n}\n\ndiv.ADD_thumb_elem_container div.ADD_thumb_size_1 {\n    width: 20vw;\n    height: calc(20vw / 16 * 9);\n}\n\ndiv.ADD_thumb_elem_container div.ADD_thumb_size_2 {\n    width: 30vw;\n    height: calc(30vw / 16 * 9);\n}\n\ndiv.ADD_thumb_elem_container div.ADD_thumb_size_3 {\n    width: 40vw;\n    height: calc(40vw / 16 * 9);\n}\n\ndiv.ADD_thumb_elem_container div.ADD_thumb_elem::before {\n    content: "";\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n    width: 60px;\n    height: 60px;\n    animation: ADD_180_rotate 0.8s infinite linear;\n    border: 8px solid #333;\n    border-right-color: transparent;\n    border-radius: 50%;\n    z-index: -1;\n}\n\n.loader_container {\n    position: relative;\n    width: 100%;\n    height: 100%;\n}\n\n.loader {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    right: -20px;\n    margin: auto 0;\n    border: 2px solid #f3f3f3;\n    border-top: 2px solid #666;\n    border-radius: 50%;\n    width: 20px;\n    height: 20px;\n    animation: ADD_180_rotate 0.8s cubic-bezier(0.4, 0, 1, 1) infinite;\n}\n\n@keyframes ADD_180_rotate {\n    0% {\n        transform: rotate(0deg);\n    }\n\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n.ADD_chat_again,\n.ADD_twitch_api_again,\n.ADD_twitch_api_again_with_chat {\n    cursor: pointer;\n}\n\n.modal-body tbody tr:hover {\n    background-color: #E6E6E6;\n}\n\n.lightbox-opened-white-background {\n    background-color: #fff;\n    max-width: 600px;\n    margin: 0 auto;\n    text-align: left;\n    padding: 15px;\n    font-size: 12px\n}\n\n.modal-body tbody .btn-xxs {\n    padding: 1px 2px;\n    font-size: 9px;\n    line-height: 1.0;\n    border-radius: 3px;\n    margin: 0 2px 2px 0;\n    cursor: pointer;\n}\n\n.modal-body tbody .btn-xxs .glyphicon {}\n\n.modal-body tbody .btn-xxs span.glyphicon {\n    opacity: 0.2;\n}\n\n.modal-body tbody .btn-xxs.active span.glyphicon {\n    opacity: 1;\n}\n\n.modal-body tbody .btn-xxs.disable {\n    opacity: 0.3;\n    cursor: not-allowed;\n}\n\n#popup_ADD_config .modal-body tbody input[type="checkbox"] {\n    display: none;\n}\n\n#new_version_available_text a {\n    color: #E3242B\n}\n\n.chat-btns{\n    background-color: #446cb3;\n}\n#btnOpenHrm_ADD {\n    transition: background-color 0s;\n    margin-left: -80px;\n    margin-top: 22.5px;\n    height: 22.5px;\n}\n\n#hrm_layout {\n    display: none;\n    z-index: 1001;\n    position: absolute;\n    top: 45px;\n    /*bottom: 50%;*/\n    width: 100%;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    border-left: 1px solid #bdc3c7;\n}\n.leftchat #hrm_layout {\n    border-left: none;\n    border-right: 1px solid #bdc3c7;\n}\n\n#hrm_layout ul {\n    list-style: none;\n    margin: 0;\n    padding: 5px 0 0 0;\n}\n\n#hrm_layout li {\n    /* color: #000; */\n    padding: 3px 5px;\n    word-break: break-all;\n    font-size: 12px;\n}\n\n#hrm_layout .ch_text {\n    font-weight:700;\n    vertical-align:top;\n}\n\n#hrm_layout a:visited {\n    color: #660099;\n}\n\n.btn-group>.btn-group:not(:last-child)>.btn,\n.btn-group>.btn:not(:last-child):not(.dropdown-toggle) {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n}\n\n.btn-group>.btn-group:not(:first-child)>.btn,\n.btn-group>.btn:not(:first-child) {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n}\n\n.btn-group .btn+.btn,\n.btn-group .btn+.btn-group,\n.btn-group .btn-group+.btn,\n.btn-group .btn-group+.btn-group,\n.btn-group-vertical .btn+.btn,\n.btn-group-vertical .btn+.btn-group,\n.btn-group-vertical .btn-group+.btn,\n.btn-group-vertical .btn-group+.btn-group {\n    margin-left: -1px;\n}\n\n.btn-group-vertical>.btn:hover,\n.btn-group>.btn:hover {\n    z-index: 1;\n}\n\n.btn-group-vertical>.btn,\n.btn-group>.btn {\n    position: relative;\n    -ms-flex: 0 1 auto;\n    flex: 0 1 auto;\n}\n\n#stream .main-streams>ul.main_list_two_column>li {\n    display: inline-block;\n    width: calc(50% - 5px);\n    float: left;\n    padding: 0;\n    box-sizing: border-box;\n}\n\n#stream .main-streams>ul.main_list_two_column>li:nth-child(odd) {\n    margin: 0 10px 0 0;\n}\n\n#memo_contents td,\n#memo_contents th {\n    padding: 2px 5px !important;\n}\n\n#memo_contents th {\n    white-space: nowrap;\n}\n\n/* left chatwrap*/\nbody.leftchat div.chat {\n    right: unset;\n    left: 0;\n}\n\nbody.leftchat div.wrap {\n    margin-right: unset;\n    margin-left: 345px;\n}\n\nbody.leftchat div.wrap.wide {\n    margin: 0;\n}\n\nbody.leftchat .chat.closed button.chat-close {\n    right: unset;\n    left: 0;\n}\n\nbody.leftchat .chat-btns button.chat-close {\n    float: left;\n}\n\nbody.leftchat .stream_zoomout {\n    left: unset !important;\n    right: 30px;\n}\n\nbody.leftchat .wrap, body.leftchat .chat-ignore, body.leftchat .chat-container {\n    /* border-left:none !important; */\n    /* border-right:1px solid #d3d3d3; */\n}\n\n/* playing_chat_iframe */\nbody:not(.leftchat) .stream_chat {\n    left: 0;\n}\n\nbody.leftchat .stream_chat {\n    right: 0;\n}\n\n/* body:not(.leftchat) #stream.onstream {\n    text-align: right;\n} */\n\nbody.leftchat #stream.onstream {\n    text-align: left;\n}\n\n.stream_zoomout .stream_chat {\n    display: none !important;\n}\n\n.stream_zoomout>iframe {\n    width: 100% !important;\n}\n\nbody.night_mode_transition,\nbody.night_mode_transition * {\n    -webkit-transition: background-image 1s, background 1s, background-color 1s, border-color 1s, color 1s ease-out !important;\n    transition: background-image 1s, background 1s, background-color 1s, border-color 1s, color 1s ease-out !important;\n    -webkit-transition-delay: 0;\n    transition-delay: 0;\n}\n\n#m3u8video {\n    outline: none !important;\n    border: none !important;\n}',""]),t.exports=o},431:(t,e,n)=>{var a=n(81),o=n(645)(a);o.push([t.id,'/* microtip.css\n* @author Ghosh\n* https://github.com/ghosh/microtip\n* MIT licensed\n*/\n[aria-label][role~="tooltip"] {\n    position: relative\n}\n[role~="tooltip"] {\n    position: relative\n}\n\n[aria-label][role~="tooltip"]:before,\n[aria-label][role~="tooltip"]:after {\n    transform: translate3d(0, 0, 0);\n    -webkit-backface-visibility: hidden;\n    backface-visibility: hidden;\n    will-change: transform;\n    opacity: 0;\n    pointer-events: none;\n    transition: all var(--microtip-transition-duration, .18s) var(--microtip-transition-easing, ease-in-out) var(--microtip-transition-delay, 0s);\n    position: absolute;\n    box-sizing: border-box;\n    z-index: 10;\n    transform-origin: top\n}\n\n[aria-label][role~="tooltip"]:before {\n    background-size: 100% auto !important;\n    content: ""\n}\n\n[aria-label][role~="tooltip"]:after {\n    background: rgba(17, 17, 17, .9);\n    border-radius: 4px;\n    color: #fff;\n    content: attr(aria-label);\n    font-size: var(--microtip-font-size, 11px);\n    font-weight: var(--microtip-font-weight, normal);\n    text-transform: var(--microtip-text-transform, none);\n    padding: .5em 1em;\n    white-space: nowrap;\n    box-sizing: content-box\n}\n\n[aria-label][role~="tooltip"]:hover:before,\n[aria-label][role~="tooltip"]:hover:after,\n[aria-label][role~="tooltip"]:focus:before,\n[aria-label][role~="tooltip"]:focus:after {\n    opacity: 1;\n    pointer-events: auto\n}\n\n[role~="tooltip"][data-microtip-position|="top"]:before {\n    background: url(data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2236px%22%20height%3D%2212px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%280%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E) no-repeat;\n    height: 6px;\n    width: 18px;\n    margin-bottom: 5px\n}\n\n[role~="tooltip"][data-microtip-position|="top"]:after {\n    margin-bottom: 11px\n}\n\n[role~="tooltip"][data-microtip-position|="top"]:before {\n    transform: translate3d(-50%, 0, 0);\n    bottom: 100%;\n    left: 50%\n}\n\n[role~="tooltip"][data-microtip-position|="top"]:hover:before {\n    transform: translate3d(-50%, -5px, 0)\n}\n\n[role~="tooltip"][data-microtip-position|="top"]:after {\n    transform: translate3d(-50%, 0, 0);\n    bottom: 100%;\n    left: 50%\n}\n\n[role~="tooltip"][data-microtip-position="top"]:hover:after {\n    transform: translate3d(-50%, -5px, 0)\n}\n\n[role~="tooltip"][data-microtip-position="top-left"]:after {\n    transform: translate3d(calc(-100% + 16px), 0, 0);\n    bottom: 100%\n}\n\n[role~="tooltip"][data-microtip-position="top-left"]:hover:after {\n    transform: translate3d(calc(-100% + 16px), -5px, 0)\n}\n\n[role~="tooltip"][data-microtip-position="top-right"]:after {\n    transform: translate3d(calc(0% + -16px), 0, 0);\n    bottom: 100%\n}\n\n[role~="tooltip"][data-microtip-position="top-right"]:hover:after {\n    transform: translate3d(calc(0% + -16px), -5px, 0)\n}\n\n[role~="tooltip"][data-microtip-position|="bottom"]:before {\n    background: url(data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2236px%22%20height%3D%2212px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%28180%2018%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E) no-repeat;\n    height: 6px;\n    width: 18px;\n    margin-top: 5px;\n    margin-bottom: 0\n}\n\n[role~="tooltip"][data-microtip-position|="bottom"]:after {\n    margin-top: 11px\n}\n\n[role~="tooltip"][data-microtip-position|="bottom"]:before {\n    transform: translate3d(-50%, -10px, 0);\n    bottom: auto;\n    left: 50%;\n    top: 100%\n}\n\n[role~="tooltip"][data-microtip-position|="bottom"]:hover:before {\n    transform: translate3d(-50%, 0, 0)\n}\n\n[role~="tooltip"][data-microtip-position|="bottom"]:after {\n    transform: translate3d(-50%, -10px, 0);\n    top: 100%;\n    left: 50%\n}\n\n[role~="tooltip"][data-microtip-position="bottom"]:hover:after {\n    transform: translate3d(-50%, 0, 0)\n}\n\n[role~="tooltip"][data-microtip-position="bottom-left"]:after {\n    transform: translate3d(calc(-100% + 16px), -10px, 0);\n    top: 100%\n}\n\n[role~="tooltip"][data-microtip-position="bottom-left"]:hover:after {\n    transform: translate3d(calc(-100% + 16px), 0, 0)\n}\n\n[role~="tooltip"][data-microtip-position="bottom-right"]:after {\n    transform: translate3d(calc(0% + -16px), -10px, 0);\n    top: 100%\n}\n\n[role~="tooltip"][data-microtip-position="bottom-right"]:hover:after {\n    transform: translate3d(calc(0% + -16px), 0, 0)\n}\n\n[role~="tooltip"][data-microtip-position="left"]:before,\n[role~="tooltip"][data-microtip-position="left"]:after {\n    bottom: auto;\n    left: auto;\n    right: 100%;\n    top: 50%;\n    transform: translate3d(10px, -50%, 0)\n}\n\n[role~="tooltip"][data-microtip-position="left"]:before {\n    background: url(data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%28-90%2018%2018%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E) no-repeat;\n    height: 18px;\n    width: 6px;\n    margin-right: 5px;\n    margin-bottom: 0\n}\n\n[role~="tooltip"][data-microtip-position="left"]:after {\n    margin-right: 11px\n}\n\n[role~="tooltip"][data-microtip-position="left"]:hover:before,\n[role~="tooltip"][data-microtip-position="left"]:hover:after {\n    transform: translate3d(0, -50%, 0)\n}\n\n[role~="tooltip"][data-microtip-position="right"]:before,\n[role~="tooltip"][data-microtip-position="right"]:after {\n    bottom: auto;\n    left: 100%;\n    top: 50%;\n    transform: translate3d(-10px, -50%, 0)\n}\n\n[role~="tooltip"][data-microtip-position="right"]:before {\n    background: url(data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%2890%206%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E) no-repeat;\n    height: 18px;\n    width: 6px;\n    margin-bottom: 0;\n    margin-left: 5px\n}\n\n[role~="tooltip"][data-microtip-position="right"]:after {\n    margin-left: 11px\n}\n\n[role~="tooltip"][data-microtip-position="right"]:hover:before,\n[role~="tooltip"][data-microtip-position="right"]:hover:after {\n    transform: translate3d(0, -50%, 0)\n}\n\n[role~="tooltip"][data-microtip-size="small"]:after {\n    white-space: pre-line;\n    width: 80px\n}\n\n[role~="tooltip"][data-microtip-size="medium"]:after {\n    white-space: pre-line;\n    width: 150px\n}\n\n[role~="tooltip"][data-microtip-size="large"]:after {\n    white-space: pre-line;\n    width: 260px\n}\n\n[role~="tooltip"][data-microtip-size="custom"]:after {\n    white-space: pre;\n    text-align: center\n}\n\n[data-microtip-size="custom2"]:after {\n    white-space: pre-line;\n    text-align: center\n}\n\n/* Customize CSS for tagit*/\nul.tagit {\n    cursor: pointer;\n    margin: 0px;\n    -webkit-padding-start: 5px !important;\n    min-height: 30px;\n}\n\nul.tagit li span {\n    text-overflow: ellipsis;\n}\n\nul.tagit li.tagit-choice {\n    cursor: default;\n}\n\nul.tagit li.tagit-new {\n    padding: .25em 4px .25em 3px !important;\n    min-width: 80px;\n    width: 80px;\n    max-width: 120px;\n    float: left;\n}\n\n/* https://raw.githubusercontent.com/aehlke/tag-it/master/css/jquery.tagit.css */\nul.tagit {\n    padding: 1px 5px;\n    overflow: auto;\n    margin-left: inherit;\n    /* usually we don\'t want the regular ul margins. */\n    margin-right: inherit;\n}\n\nul.tagit li {\n    display: block;\n    float: left;\n    margin: 2px 5px 2px 0;\n}\n\nul.tagit li.tagit-choice {\n    position: relative;\n    line-height: inherit;\n}\n\ninput.tagit-hidden-field {\n    display: none;\n}\n\nul.tagit li.tagit-choice-read-only {\n    padding: .2em .5em .2em .5em;\n}\n\nul.tagit li.tagit-choice-editable {\n    padding: .2em 18px .2em .5em;\n}\n\nul.tagit li.tagit-new {\n    padding: .25em 4px .25em 0;\n}\n\nul.tagit li.tagit-choice a.tagit-label {\n    cursor: pointer;\n    text-decoration: none;\n}\n\nul.tagit li.tagit-choice .tagit-close {\n    cursor: pointer;\n    position: absolute;\n    right: .1em;\n    top: 50%;\n    margin-top: -8px;\n    line-height: 17px;\n}\n\n/* used for some custom themes that don\'t need image icons */\nul.tagit li.tagit-choice .tagit-close .text-icon {\n    display: none;\n}\n\nul.tagit li.tagit-choice input {\n    display: block;\n    float: left;\n    margin: 2px 5px 2px 0;\n}\n\nul.tagit input[type="text"] {\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n\n    -moz-box-shadow: none;\n    -webkit-box-shadow: none;\n    box-shadow: none;\n\n    border: none;\n    margin: 0;\n    padding: 0;\n    width: inherit;\n    background-color: inherit;\n    outline: none;\n}\n\n/* Optional scoped theme for tag-it which mimics the zendesk widget. */\nul.tagit {\n    border-style: solid;\n    border-width: 1px;\n    border-color: #C6C6C6;\n    background: inherit;\n}\n\nul.tagit li.tagit-choice {\n    -moz-border-radius: 6px;\n    border-radius: 6px;\n    -webkit-border-radius: 6px;\n    border: 1px solid #CAD8F3;\n    background: none;\n    background-color: #DEE7F8;\n\n    font-weight: normal;\n}\n\nul.tagit li.tagit-choice .tagit-label:not(a) {\n    /*color: #555;*/\n}\n\nul.tagit li.tagit-choice a.tagit-close {\n    text-decoration: none;\n}\n\nul.tagit li.tagit-choice .tagit-close {\n    right: .4em;\n}\n\nul.tagit li.tagit-choice .ui-icon {\n    display: none;\n}\n\nul.tagit li.tagit-choice .tagit-close .text-icon {\n    display: inline;\n    font-family: arial, sans-serif;\n    font-size: 16px;\n    line-height: 16px;\n    color: #777;\n}\n\nul.tagit li.tagit-choice:hover,\nul.tagit li.tagit-choice.remove {\n    background-color: #bbcef1;\n    border-color: #6d95e0;\n}\n\nul.tagit li.tagit-choice a.tagLabel:hover,\nul.tagit li.tagit-choice a.tagit-close .text-icon:hover {\n    color: #222;\n}\n\nul.tagit input[type="text"] {\n    color: #333333;\n    background: none;\n}\n\n.ui-widget {\n    font-size: 1.0em;\n}\n\n/* Forked from a jQuery UI theme, so that we don\'t require the jQuery UI CSS as a dependency. */\n.tagit-autocomplete.ui-autocomplete {\n    position: absolute;\n    cursor: default;\n}\n\n* html .tagit-autocomplete.ui-autocomplete {\n    width: 1px;\n}\n\n/* without this, the menu expands to 100% in IE6 */\n.tagit-autocomplete.ui-menu {\n    list-style: none;\n    padding: 2px;\n    margin: 0;\n    display: block;\n    float: left;\n}\n\n.tagit-autocomplete.ui-menu .ui-menu {\n    margin-top: -3px;\n}\n\n.tagit-autocomplete.ui-menu .ui-menu-item {\n    font-size: 11px;\n    ;\n    margin: 0;\n    padding: 0;\n    zoom: 1;\n    float: left;\n    clear: left;\n    width: 100%;\n}\n\n.tagit-autocomplete.ui-menu .ui-menu-item a {\n    text-decoration: none;\n    display: block;\n    padding: .2em .4em;\n    line-height: 1.5;\n    zoom: 1;\n}\n\n.tagit-autocomplete .ui-menu .ui-menu-item a.ui-state-hover,\n.tagit-autocomplete .ui-menu .ui-menu-item a.ui-state-active {\n    font-weight: normal;\n    margin: -1px;\n}\n\n.tagit-autocomplete.ui-widget-content {\n    border: 1px solid #aaaaaa;\n    background: #ffffff 50% 50% repeat-x;\n    color: #222222;\n}\n\n.tagit-autocomplete.ui-corner-all,\n.tagit-autocomplete .ui-corner-all {\n    -moz-border-radius: 4px;\n    -webkit-border-radius: 4px;\n    -khtml-border-radius: 4px;\n    border-radius: 4px;\n}\n\n.tagit-autocomplete .ui-state-hover,\n.tagit-autocomplete .ui-state-focus {\n    border: 1px solid #999999;\n    background: #dadada;\n    font-weight: normal;\n    color: #212121;\n}\n\n.tagit-autocomplete .ui-state-active {\n    border: 1px solid #aaaaaa;\n}\n\n.tagit-autocomplete .ui-widget-content {\n    border: 1px solid #aaaaaa;\n}\n\n.tagit .ui-helper-hidden-accessible {\n    position: absolute !important;\n    clip: rect(1px, 1px, 1px, 1px);\n}',""]),t.exports=o},59:(t,e,n)=>{var a=n(81),o=n(645)(a);o.push([t.id,'body{\n    --body-font-color: #999;\n    --body-background-color: #000;\n    --body-border-color: #222;\n\n    --drag-font-color:#000;\n    --drag-background:#ccc;\n\n    --a-font-color: #999;\n    /* --a-text-decoration: none; */\n    --a-visited-font-color: #666;\n    --a-hover-font-color: #2a6496;\n    /* --a-hover-text-decoration: underline; */\n\n    --logo-image:url("https://raw.githubusercontent.com/nomomo/Addostream/master/assets/logo_dostreamplus_blacktheme.png");\n    \n    /* Main Page */\n    --main-background-color:var(--body-background-color);\n    --wrap-background-color:var(--main-background-color);\n\n    --table-border-color:#303030;\n    --table-th-border-color:#303030;\n\n    /* Header */\n    --header-background-color:var(--body-background-color);\n    --header-font-color:var(--body-font-color);\n\n    /* Header - History */\n    --header-history-font-color:var(--header-font-color);\n    --header-history-font-color-hover:var(--header-font-color);\n    --header-history-font-color-focus:var(--header-font-color);\n\n    /* Main Page - List */\n    --list-ul-background-color:var(--main-background-color);\n\n    --list-li-background-color:var(--main-background-color);\n    --list-li-background-color-hover:#050505;\n    --list-li-background-color-focus:#050505;\n\n    --list-li-border-color:#222;\n    --list-li-border-size:2px;\n\n    --list-li-title-font-color:#999;\n    --list-li-views-font-color:#999;\n    --list-li-glyphicon-pushpin-font-color:#999;\n    --list-li-glyphicon-star-font-color:#999;\n    --list-li-game-font-color:#999;\n    \n    --list-li-info-font-color:#999;\n    --list-li-info-background-color:#111;\n\n    --list-li-info-twitch-font-color:var(--list-li-info-font-color);\n    --list-li-info-twitch-background-color:var(--list-li-info-background-color);\n\n    --list-li-info-kakao-font-color:var(--list-li-info-font-color);\n    --list-li-info-kakao-background-color:var(--list-li-info-background-color);\n\n    --list-li-info-youtube-font-color:var(--list-li-info-font-color);\n    --list-li-info-youtube-background-color:var(--list-li-info-background-color);\n\n    /* 메인 리스트 상단 버튼(Search) */\n    --list-top-button-twitch-font-color:#AAA;\n    --list-top-button-twitch-background-color:#111;\n    --list-top-button-twitch-checked-font-color:#AAA;\n    --list-top-button-twitch-checked-background-color:#111;\n    \n    --list-top-button-kakao-font-color:#AAA;\n    --list-top-button-kakao-background-color:#111;\n    --list-top-button-kakao-checked-font-color:#AAA;\n    --list-top-button-kakao-checked-background-color:#111;\n    \n    --list-top-button-youtube-font-color:#AAA;\n    --list-top-button-youtube-background-color:#111;\n    --list-top-button-youtube-checked-font-color:#AAA;\n    --list-top-button-youtube-checked-background-color:#111;\n    \n    --list-top-button-afreeca-font-color:#AAA;\n    --list-top-button-afreeca-background-color:#111;\n    --list-top-button-afreeca-checked-font-color:#AAA;\n    --list-top-button-afreeca-checked-background-color:#111;\n\n    --list-top-button-chzzk-font-color:#AAA;\n    --list-top-button-chzzk-background-color:#111;\n    --list-top-button-chzzk-checked-font-color:#AAA;\n    --list-top-button-chzzk-checked-background-color:#111;\n\n    --list-top-button-multitwitch-font-color:#AAA;\n    --list-top-button-multitwitch-background-color:#222;\n    --list-top-button-multitwitch-hover-font-color:#AAA;\n    --list-top-button-multitwitch-hover-background-color:#222;\n\n\n    /* bootstrap button  */\n    --btn-default-font-color:#999;\n    --btn-default-background-color:#111;\n    --btn-default-border-color:#444;\n    --btn-default-border-width:0px;\n\n    --btn-default-hover-font-color:#FFF;\n    --btn-default-hover-background-color:#222;\n    --btn-default-hover-border-color:#444;\n\n    --btn-primary-font-color:#FFF;\n    --btn-primary-background-color:#111;\n    --btn-primary-border:none;\n\n    --btn-primary-hover-font-color:#FFF;\n    --btn-primary-hover-background-color:#222;\n    --btn-primary-hover-border:none;\n    \n    /* ************************************************************ */\n    /* UCHAT */\n    /* ************************************************************ */\n    --chat-container-border-color:#222;\n\n    --chat-font-color:#ccc;\n    --chat-background-color:#000;\n    --chat-border-color:#111;\n\n    --chat-top-font-color:var(--chat-font-color);\n    --chat-top-background-color:var(--chat-background-color);\n\n    --chat-middle-font-color:var(--chat-font-color);\n    --chat-middle-background-color:var(--chat-background-color);\n\n    --chat-bottom-font-color:var(--chat-font-color);\n    --chat-bottom-background-color:var(--chat-background-color);\n    --chat-bottom-border-color:#222;\n    --chat-bottom-input-font-color:#AAA;\n\n    /* 채팅 자동 좌표 */\n    --chat-autokeyword-font-color:var(--chat-font-color);\n    --chat-autokeyword-background-color:lightslategrey;\n    --chat-autokeyword-twitch-font-color:var(--chat-font-color);\n    --chat-autokeyword-twitch-background-color:#9b59b6;\n    --chat-autokeyword-chzzk-font-color:var(--chat-font-color);\n    --chat-autokeyword-chzzk-background-color:#00ffa3b3;\n\n    /* 채팅 참여자 목록 */\n    --chat-userListWrap-font-color:#ccc;\n    --chat-userListWrap-background-color:var(--chat-background-color);\n    --chat-userListWrap-border-color:#000;\n\n    --chat-userListWrap-i-font-color:#fff;\n    --chat-userListWrap-i-background-color:#181818;\n    --chat-userListWrap-i-font-weight:700;\n\n    /* 채팅 팝업 메뉴 */\n    --chat-usermenu_popup-font-color:var(--chat-font-color);\n    --chat-usermenu_popup-background-color:var(--chat-background-color);\n    --chat-usermenu_popup-border-color:#111;\n    \n    --chat-usermenu_popup-btn-floor-border-color:#111;\n    --chat-usermenu_popup-btn-floor-hover-background-color:#222;\n\n    /* 채팅 각 라인의 컨텐츠 기본 색상 */\n    --chat-chanContent-font-color:#ccc;\n    \n    /* 내 라인 */\n    --chat-myLine-font-color:var(--chat-chanContent-font-color);\n    --chat-myLine-background-color:#050505;\n\n    /* 자동완성 */\n    --chat-autokeyword-font-color:var(--chat-chanContent-font-color);\n    --chat-autokeyword-background-color:#999;\n\n    /* imgur 이미지 컨테이너 */\n    --chat-imgur_container-font-color:var(--chat-chanContent-font-color);\n    --chat-imgur_container-background-color:#181818;\n\n    /* 새 메모 작성  */\n    --memo_simple_layout_container-background-color:rgba(20,20,20,0.8);\n    \n    --memo_simple_layout_content-font-color:#AAA;\n    --memo_simple_layout_content-background-color:#181818;\n    --memo_simple_layout_content-border:0px;\n    --memo_simple_layout_content-border-color:#303030;\n\n    --memo_isSavedMemo-font-color:lightblue;\n    --memo_detail_content-font-color:#FFF;\n    --memo_detail_content-background-color:#202020;\n    --memo_detail_content-input-font-color:#FFF;\n    --memo_detail_content-input-background-color:#202020;\n    \n    --memo_button_container-font-color:#AAA;\n    --memo_button_container-background-color:#202020;\n\n    /*                 */\n    /* Buttons on chat */\n    /*                 */\n    /* 버튼을 일괄 수정하는 경우 */\n    --buttons-on-chat-conatiner-background-color:var(--header-background-color);\n\n    --buttons-on-chat-font-color:var(--body-font-color);\n    --buttons-on-chat-background-color:var(--header-background-color);\n    --buttons-on-chat-background-color-hover:var(--header-background-color);\n    --buttons-on-chat-background-color-focus:var(--header-background-color);\n    \n    /* 버튼을 각각 수정하는 경우 */\n    /* X 버튼 */\n    --button-chat-close-font-color:var(--buttons-on-chat-font-color);\n    --button-chat-close-background-color:var(--buttons-on-chat-background-color);\n    --button-chat-close-background-color-hover:var(--buttons-on-chat-background-color-hover);\n    --button-chat-close-background-color-focus:var(--buttons-on-chat-background-color-focus);\n    \n    /* 새로고침 버튼 */\n    --button-btnRefreshCha-font-color:var(--buttons-on-chat-font-color);\n    --button-btnRefreshCha-background-color:var(--buttons-on-chat-background-color);\n    --button-btnRefreshCha-background-color-hover:var(--buttons-on-chat-background-color-hover);\n    --button-btnRefreshCha-background-color-focus:var(--buttons-on-chat-background-color-focus);\n    \n    /* 차단목록 버튼 */\n    --button-btnIgnoreList-font-color:var(--buttons-on-chat-font-color);\n    --button-btnIgnoreList-background-color:var(--buttons-on-chat-background-color);\n    --button-btnIgnoreList-background-color-hover:var(--buttons-on-chat-background-color-hover);\n    --button-btnIgnoreList-background-color-focus:var(--buttons-on-chat-background-color-focus);\n\n    /* 좌표 버튼 (기본) */\n    --button-btnOpenHrm-font-color:var(--buttons-on-chat-font-color);\n    --button-btnOpenHrm-background-color:var(--buttons-on-chat-background-color);\n    --button-btnOpenHrm-background-color-hover:var(--buttons-on-chat-background-color-hover);\n    --button-btnOpenHrm-background-color-focus:var(--buttons-on-chat-background-color-focus);\n    \n    /* 좌표 버튼 (펼침 버튼) */\n    --button-btnOpenHrm_ADD-font-color:var(--buttons-on-chat-font-color);\n    --button-btnOpenHrm_ADD-background-color:var(--buttons-on-chat-background-color);\n    --button-btnOpenHrm_ADD-background-color-hover:var(--buttons-on-chat-background-color-hover);\n    --button-btnOpenHrm_ADD-background-color-focus:var(--buttons-on-chat-background-color-focus);\n\n\n\n    /* ************************************************************ */\n    /* bootstrap modal dialog, modal contents (설정창 등) */\n    /* ************************************************************ */\n    --modal-dialog-background-color:#000;\n\n    --ADD_config-td-border-color:#222;\n    --ADD_config-tr-border-color:#222;\n    --ADD_config-tr-hover-background-color:#111;\n\n    --modal-footer-border-color:#222;\n\n    --modal-footer-button-font-color:var(--body-font-color);\n    --modal-footer-button-background-color:#111;\n    --modal-footer-button-border:none;\n    --modal-footer-button-hover-font-color:var(--body-font-color);\n    --modal-footer-button-hover-background-color:#222;\n    --modal-footer-button-hover-border:none;\n\n    --modal-body-input-font-color:var(--body-font-color);\n    --modal-body-input-background-color:#222;\n    --modal-body-input-border-color:#111;\n\n    --modal-body-textarea-font-color:var(--modal-body-input-font-color);\n    --modal-body-textarea-background-color:var(--modal-body-input-background-color);\n    --modal-body-textarea-border-color:var(--modal-body-input-border-color);\n\n    /* GM_Setting */\n    --GM_setting-border-color:var(--body-border-color);\n    --GM_setting-underdev-title-font-color:#6441a5;\n    --GM_setting-title-font-color:#FFF;\n    --GM_setting-title-desc-color:#AAA;\n\n    /* hrm */\n    --hrm-font-color:var(--chat-middle-font-color);\n    --hrm-border:none;\n    --hrm-link-font-color:#428bca;\n    --hrm-link-hover-font-color:#2a6496;\n    --hrm-link-visited-font-color:#666;\n\n    --chat-type_and_go-color: inherit;\n    --chat-type_and_go-opacity: 0.1;\n    --chat-type_and_go-focus-color: inherit;\n    --chat-type_and_go-focus-opacity: 0.6;\n}\n/*  */\n/* BLACK_ONLY */\n\n/* 채팅 좌우 선 */\n.wrap{\n    border-left: none !important;\n    border-right: none !important;\n}\nbody.leftchat .chat-ignore,\nbody.leftchat .chat-container,\n.chat-ignore, .chat-container {\n    border-left: 1px solid #222 !important;\n    border-right: 1px solid #222 !important;\n}\n\n/* 채팅 로고 스타일 */\ndiv.wrap .top .logo {\n    filter:grayscale(1) brightness(0.5) contrast(3.5);\n}\n\n/* 메인 스크롤바 */\n::-webkit-scrollbar {\n}\n::-webkit-scrollbar-thumb {\n    background-color: #4a4a4a;\n}\n::-webkit-scrollbar-track {\n    background-color: rgba(0,0,0,0);\n    border:none;\n}\n::-webkit-scrollbar-track-piece {\n    background-color: rgba(0,0,0,0);\n}\n\n/* 채팅 스크롤바 */\n.wrap .content::-webkit-scrollbar {\n}\n.nano > .nano-pane {\n    background-color: rgba(0,0,0,0);\n}\n.nano > .nano-pane > .nano-slider {\n    background-color: #222;\n}\n.nano > .nano-content {\n}\n\n.nav-brand_mod {\n    background-image:var(--logo-image) !important;\n}\n\n.top .countIcon{\n    filter: contrast(0.0);\n}\n.inputWrap .plus, .top .menu .bgicon{\n    filter: contrast(0.0);\n    opacity:0.1;\n}\n.inputWrap .plus:hover, .top.black .menu .bgicon:hover{\n    filter: contrast(0.0);\n    opacity:1.0;\n}\n\n.chat-btns button {\n    border-right:1px solid #222;\n    border-top:1px solid #222;\n    border-bottom:1px solid #222;\n}\n.chat-btns .chat-close{\n    border-left:1px solid #222;\n}\nbody.leftchat .chat-btns .chat-close{\n    border-right:0px solid #222;\n}\n.chat-btns button#btnOpenHrm_ADD{\n    border-top:0px;\n}\n.chat-btns button#btnRefreshChat {\n    border-left :1px solid #222 !important;\n}\nbody.leftchat .chat-btns button#btnRefreshChat {\n    border-left: 1px solid #222 !important;\n}\n\n\n.modal-content {\n    opacity:0.93;\n    box-shadow:rgba(205, 205, 205, 0.25) 0px 3px 9px 0px;\n}\ndiv.wrap header.clearfix.onstream {\n    border-bottom: 1px solid #222;\n}\n\n#uha_chat_form {\n    border-top:1px solid #222 !important;\n    padding:2px 0 !important;\n    height:40px !important;\n}\n\n#uha_chat_form, #uha_chat_form > div, #uha_chat_form > div > #uha_chat_input {\n    box-shadow: none !important;\n}\n#uha_chat_form > div > #uha_chat_input:focus {\n    box-shadow: none !important;\n}\n#uha_chat_top_text {\n    box-shadow: none !important;\n}\nbody #uha_chat {\n    border-top-width: 0px !important;\n    border-right-width: 0px !important;\n    border-left-width: 0px !important;\n    border-color:#222;\n}\nbody.leftchat #uha_chat {\n    border-left-width: 1px !important;\n}\n',""]),t.exports=o},793:(t,e,n)=>{var a=n(81),o=n(645)(a);o.push([t.id,"body{\n    --body-font-color: #AAA;\n    --body-background-color: #202020;\n    --body-border-color: #383838;\n\n    --drag-font-color:#000;\n    --drag-background:#CCC;\n    \n    --a-font-color: #428bca;\n    /* --a-text-decoration: none; */\n    --a-visited-font-color: #428bca;\n    --a-hover-font-color: #2a6496;\n    /* --a-hover-text-decoration: underline; */\n\n    --logo-image:url('https://www.dostream.com/images/logo.dark.png');\n\n    /* Main Page */\n    --main-background-color:#181818;\n    --wrap-background-color:var(--main-background-color);\n\n    --table-border-color:#303030;\n    --table-th-border-color:#303030;\n\n    /* Header */\n    --header-background-color:#202020;\n    --header-font-color:#AAAAAA;\n\n    /* Header - History */\n    --header-history-font-color:var(--header-font-color);\n    --header-history-font-color-hover:#FFF;\n    --header-history-font-color-focus:#FFF;\n\n    /* Main Page - List */\n    --list-ul-background-color:var(--main-background-color);\n\n    --list-li-background-color:var(--main-background-color);\n    --list-li-background-color-hover:#212121;\n    --list-li-background-color-focus::#212121;\n\n    --list-li-border-color:var(--main-background-color);\n    --list-li-border-size:0px;\n\n    --list-li-title-font-color:#FFF;\n    --list-li-views-font-color:#AAAAAA;\n    --list-li-glyphicon-pushpin-font-color:#AAAAAA;\n    --list-li-glyphicon-star-font-color:#AAAAAA;\n    --list-li-game-font-color:#AAAAAA;\n    \n    --list-li-info-font-color:#AAAAAA;\n    --list-li-info-background-color:unset;\n\n    --list-li-info-twitch-font-color:var(--list-li-info-font-color);\n    --list-li-info-twitch-background-color:var(--list-li-info-background-color);\n\n    --list-li-info-kakao-font-color:var(--list-li-info-font-color);\n    --list-li-info-kakao-background-color:var(--list-li-info-background-color);\n\n    --list-li-info-youtube-font-color:var(--list-li-info-font-color);\n    --list-li-info-youtube-background-color:var(--list-li-info-background-color);\n\n    /* 메인 리스트 상단 버튼(Search) */\n    --list-top-button-twitch-font-color:#FFF;\n    --list-top-button-twitch-background-color:#202020;\n    --list-top-button-twitch-checked-font-color:#FFF;\n    --list-top-button-twitch-checked-background-color:#303030;\n    \n    --list-top-button-kakao-font-color:#FFF;\n    --list-top-button-kakao-background-color:#202020;\n    --list-top-button-kakao-checked-font-color:#FFF;\n    --list-top-button-kakao-checked-background-color:#303030;\n    \n    --list-top-button-youtube-font-color:#FFF;\n    --list-top-button-youtube-background-color:#202020;\n    --list-top-button-youtube-checked-font-color:#FFF;\n    --list-top-button-youtube-checked-background-color:#303030;\n    \n    --list-top-button-afreeca-font-color:#FFF;\n    --list-top-button-afreeca-background-color:#202020;\n    --list-top-button-afreeca-checked-font-color:#FFF;\n    --list-top-button-afreeca-checked-background-color:#303030;\n    \n    --list-top-button-chzzk-font-color:#FFF;\n    --list-top-button-chzzk-background-color:#202020;\n    --list-top-button-chzzk-checked-font-color:#FFF;\n    --list-top-button-chzzk-checked-background-color:#303030;\n    \n    --list-top-button-multitwitch-font-color:#AAA;\n    --list-top-button-multitwitch-background-color:#202020;\n    --list-top-button-multitwitch-hover-font-color:#FFF;\n    --list-top-button-multitwitch-hover-background-color:#303030;\n\n\n    /* bootstrap button  */\n    --btn-default-font-color:#AAA;\n    --btn-default-background-color:unset;\n    --btn-default-border-color:unset;\n    --btn-default-border-width:0px;\n\n    --btn-default-hover-font-color:#FFF;\n    --btn-default-hover-background-color:#383838;\n    --btn-default-hover-border-color:unset;\n\n    --btn-primary-font-color:#FFF;\n    --btn-primary-background-color:#303030;\n    --btn-primary-border:none;\n\n    --btn-primary-hover-font-color:#FFF;\n    --btn-primary-hover-background-color:#383838;\n    --btn-primary-hover-border:none;\n    \n    /* ************************************************************ */\n    /* UCHAT */\n    /* ************************************************************ */\n    --chat-container-border-color:unset;\n\n    --chat-font-color:#fff;\n    --chat-background-color:#202020;\n    --chat-border-color:#202020;\n\n    --chat-top-font-color:var(--chat-font-color);\n    --chat-top-background-color:var(--chat-background-color);\n\n    --chat-middle-font-color:var(--chat-font-color);\n    --chat-middle-background-color:var(--chat-background-color);\n\n    --chat-bottom-font-color:var(--chat-font-color);\n    --chat-bottom-background-color:var(--chat-background-color);\n    --chat-bottom-border-color:var(--chat-background-color);\n    --chat-bottom-input-font-color:#AAA;\n\n    /* 채팅 자동 좌표 */\n    --chat-autokeyword-font-color:var(--chat-font-color);\n    --chat-autokeyword-background-color:var(--chat-font-color);\n    --chat-autokeyword-twitch-font-color:var(--chat-font-color);\n    --chat-autokeyword-twitch-background-color:#9b59b6;\n    --chat-autokeyword-chzzk-font-color:var(--chat-font-color);\n    --chat-autokeyword-chzzk-background-color:#00ffa3b3;\n\n    /* 채팅 참여자 목록 */\n    --chat-userListWrap-font-color:#FFF;\n    --chat-userListWrap-background-color:var(--chat-background-color);\n    --chat-userListWrap-border-color:#000;\n\n    --chat-userListWrap-i-font-color:#FFF;\n    --chat-userListWrap-i-background-color:#181818;\n    --chat-userListWrap-i-font-weight:700;\n\n    /* 채팅 팝업 메뉴 */\n    --chat-usermenu_popup-font-color:var(--chat-font-color);\n    --chat-usermenu_popup-background-color:var(--chat-background-color);\n    --chat-usermenu_popup-border-color:var(--chat-border-color);\n    \n    --chat-usermenu_popup-btn-floor-border-color:#202020;\n    --chat-usermenu_popup-btn-floor-hover-background-color:#383838;\n\n    /* 채팅 각 라인의 컨텐츠 기본 색상 */\n    --chat-chanContent-font-color:#FFF;\n    \n    /* 내 라인 */\n    --chat-myLine-font-color:var(--chat-chanContent-font-color);\n    --chat-myLine-background-color:#181818;\n\n    /* 자동완성 */\n    --chat-autokeyword-font-color:var(--chat-chanContent-font-color);\n    --chat-autokeyword-background-color:#999;\n\n    /* imgur 이미지 컨테이너 */\n    --chat-imgur_container-font-color:var(--chat-chanContent-font-color);\n    --chat-imgur_container-background-color:#181818;\n\n    /* 새 메모 작성  */\n    --memo_simple_layout_container-background-color:rgba(50,50,50,0.8);\n    \n    --memo_simple_layout_content-font-color:#AAA;\n    --memo_simple_layout_content-background-color:#181818;\n    --memo_simple_layout_content-border:0px;\n    --memo_simple_layout_content-border-color:#303030;\n\n    --memo_isSavedMemo-font-color:lightblue;\n    --memo_detail_content-font-color:#FFF;\n    --memo_detail_content-background-color:#202020;\n    --memo_detail_content-input-font-color:#FFF;\n    --memo_detail_content-input-background-color:#202020;\n    \n    --memo_button_container-font-color:#AAA;\n    --memo_button_container-background-color:#202020;\n\n    /*                 */\n    /* Buttons on chat */\n    /*                 */\n    /* 버튼을 일괄 수정하는 경우 */\n    --buttons-on-chat-conatiner-background-color:var(--header-background-color);\n\n    --buttons-on-chat-font-color:#FFF;\n    --buttons-on-chat-background-color:var(--header-background-color);\n    --buttons-on-chat-background-color-hover:#383838;\n    --buttons-on-chat-background-color-focus:#383838;\n    \n    /* 버튼을 각각 수정하는 경우 */\n    /* X 버튼 */\n    --button-chat-close-font-color:var(--buttons-on-chat-font-color);\n    --button-chat-close-background-color:var(--buttons-on-chat-background-color);\n    --button-chat-close-background-color-hover:var(--buttons-on-chat-background-color-hover);\n    --button-chat-close-background-color-focus:var(--buttons-on-chat-background-color-focus);\n    \n    /* 새로고침 버튼 */\n    --button-btnRefreshCha-font-color:var(--buttons-on-chat-font-color);\n    --button-btnRefreshCha-background-color:var(--buttons-on-chat-background-color);\n    --button-btnRefreshCha-background-color-hover:var(--buttons-on-chat-background-color-hover);\n    --button-btnRefreshCha-background-color-focus:var(--buttons-on-chat-background-color-focus);\n    \n    /* 차단목록 버튼 */\n    --button-btnIgnoreList-font-color:var(--buttons-on-chat-font-color);\n    --button-btnIgnoreList-background-color:var(--buttons-on-chat-background-color);\n    --button-btnIgnoreList-background-color-hover:var(--buttons-on-chat-background-color-hover);\n    --button-btnIgnoreList-background-color-focus:var(--buttons-on-chat-background-color-focus);\n\n    /* 좌표 버튼 (기본) */\n    --button-btnOpenHrm-font-color:var(--buttons-on-chat-font-color);\n    --button-btnOpenHrm-background-color:var(--buttons-on-chat-background-color);\n    --button-btnOpenHrm-background-color-hover:var(--buttons-on-chat-background-color-hover);\n    --button-btnOpenHrm-background-color-focus:var(--buttons-on-chat-background-color-focus);\n    \n    /* 좌표 버튼 (펼침 버튼) */\n    --button-btnOpenHrm_ADD-font-color:var(--buttons-on-chat-font-color);\n    --button-btnOpenHrm_ADD-background-color:var(--buttons-on-chat-background-color);\n    --button-btnOpenHrm_ADD-background-color-hover:var(--buttons-on-chat-background-color-hover);\n    --button-btnOpenHrm_ADD-background-color-focus:var(--buttons-on-chat-background-color-focus);\n\n\n\n    /* ************************************************************ */\n    /* bootstrap modal dialog, modal contents (설정창 등) */\n    /* ************************************************************ */\n    --modal-dialog-background-color:#212121;\n\n    --ADD_config-td-border-color:#303030;\n    --ADD_config-tr-border-color:#303030;\n    --ADD_config-tr-hover-background-color:#383838;\n\n    --modal-footer-border-color:#303030;\n\n    --modal-footer-button-font-color:#AAA;\n    --modal-footer-button-background-color:#303030;\n    --modal-footer-button-border:none;\n    --modal-footer-button-hover-font-color:#AAA;\n    --modal-footer-button-hover-background-color:#383838;\n    --modal-footer-button-hover-border:none;\n\n    --modal-body-input-font-color:#AAA;\n    --modal-body-input-background-color:#181818;\n    --modal-body-input-border-color:#181818;\n\n    --modal-body-textarea-font-color:var(--modal-body-input-font-color);\n    --modal-body-textarea-background-color:var(--modal-body-input-background-color);\n    --modal-body-textarea-border-color:var(--modal-body-input-border-color);\n\n    /* GM_Setting */\n    --GM_setting-border-color:var(--body-border-color);\n    --GM_setting-underdev-title-font-color:#6441a5;\n    --GM_setting-title-font-color:#FFF;\n    --GM_setting-title-desc-color:#AAA;\n\n    /* hrm */\n    --hrm-font-color:var(--chat-middle-font-color);\n    --hrm-border:none;\n    --hrm-link-font-color:#428bca;\n    --hrm-link-hover-font-color:#2a6496;\n    --hrm-link-visited-font-color:#666;\n\n    \n    --chat-type_and_go-color: inherit;\n    --chat-type_and_go-opacity: 0.05;\n    --chat-type_and_go-focus-color: inherit;\n    --chat-type_and_go-focus-opacity: 0.3;\n}\n/*  */\n/* BLACK_YOUTUBE_ONLY */\n/* btn */\n.btn {\n    border-radius: 0px;\n}\n\n/* 채팅 좌우 선 */\n.wrap, .chat-ignore, .chat-container {\n    border-left: none !important;\n    border-right: none !important;\n}\n\n/* 채팅 로고 스타일 */\ndiv.wrap .top .logo {\n    filter:grayscale(1) brightness(0.6) contrast(2.5);\n}\n\n/* 메인 스크롤바 */\n::-webkit-scrollbar {\n    width: 8px;\n    height: 4px;\n}\n::-webkit-scrollbar-thumb {\n    background-color: #4a4a4a;\n}\n::-webkit-scrollbar-track {\n    background-color: rgba(0,0,0,0);\n    border:none;\n}\n::-webkit-scrollbar-track-piece {\n    background-color: rgba(0,0,0,0);\n}\n\n/* 채팅 스크롤바 */\n.wrap .content::-webkit-scrollbar {\n    width: 0px !important;\n}\n.nano > .nano-pane {\n    background-color: rgba(0,0,0,0);\n}\n.nano > .nano-pane > .nano-slider {\n    border-radius: 0px;\n    background-color: #4a4a4a;\n}\n.nano > .nano-content {\n    right: 0px !important;\n}\n\nheader:not(.onstream) {\n    position: fixed;\n    width: calc(100% - 345px);\n    z-index:1000;\n    height:45px;\n}\n.nav-brand_mod{\n    height:45px;\n}\n#history_elem {\n    height:45px;\n    padding:0px;\n}\n.AD_title{\n    height:45px;\n    padding:7px 0;\n}\n#stream {\n    margin-top:calc(45px + 10px);\n}\n\n.nav-brand_mod {\n    background-image:var(--logo-image) !important;\n}\n\n.top .countIcon{\n    filter: contrast(0.0);\n}\n.inputWrap .plus, .top .menu .bgicon{\n    filter: contrast(0.0);\n    opacity:0.1;\n}\n.inputWrap .plus:hover, .top.black .menu .bgicon:hover{\n    filter: contrast(0.0);\n    opacity:1.0;\n}\n.modal-content {\n    border-radius: 0px;\n}\n\n#uha_chat_form {\n    border-top:1px solid #181818 !important;\n    padding:2px 0 !important;\n    height:40px !important;\n}\n#uha_chat_form, #uha_chat_form > div, #uha_chat_form > div > #uha_chat_input {\n    box-shadow: none !important;\n}\n#uha_chat_form > div > #uha_chat_input:focus {\n    box-shadow: none !important;\n}\n#uha_chat_top_text {\n    box-shadow: none !important;\n}",""]),t.exports=o},952:(t,e,n)=>{var a=n(81),o=n(645)(a);o.push([t.id,'body{\n    --main-background-color:#2f3136;\n    --main-border-color:#2f3136;\n    --main-font-color:#dcddde;\n\n    --drag-font-color:#202225;\n    --drag-background:#ccc;\n\n    --link-font-color:#4d76da;\n    --link-visited-font-color:#666;\n\n    --bs-button-background:#202225;\n    --bs-button-border-color:#333;\n    --bs-button-font-color:#393c43;\n    --bs-button-hover-background:#393c43;\n    --bs-button-hover-border-color:#444;\n    --bs-button-hover-font-color:#888;\n\n    --tagit-label-background:#202225;\n    --tagit-label-font-color:#aaa;\n    --tagit-label-border-color:#202225;\n\n    --tooltip-background:rgba(38,38,38,.9);\n    --tooltip-font-color:#aaa;\n    --tooltip-arrow-right:url(data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2838,%2038,%2038,%200.9%29%22%20transform%3D%22rotate%2890%206%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E) no-repeat;\n    --tooltip-arrow-left:url(data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2838,%2038,%2038,%200.9%29%22%20transform%3D%22rotate%28-90%2018%2018%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E) no-repeat;\n    --tooltip-arrow-bottom:url(data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2236px%22%20height%3D%2212px%22%3E%3Cpath%20fill%3D%22rgba%2838,%2038,%2038,%200.9%29%22%20transform%3D%22rotate%28180%2018%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E) no-repeat;\n    --tooltip-arrow-top:url(data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2236px%22%20height%3D%2212px%22%3E%3Cpath%20fill%3D%22rgba%2838,%2038,%2038,%200.9%29%22%20transform%3D%22rotate%280%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E) no-repeat;\n\n    --main-list-font-color:#aaa;\n    --main-list-line-color:#202225;\n    --main-list-top-button-font-color:#aaa;\n    --main-list-top-button-background:#2f3136;\n    --main-list-top-button-multi-background:#202225;\n    \n    --main-list-fixed-streamer-background:#202225;\n\n    --main-list-flatform-font-color:#aaa;\n    --main-list-viewer-font-color:#aaa;\n    --main-list-viewer-twitch-background:#2f3136;\n    --main-list-viewer-afreeca-background:#2f3136;\n    --main-list-viewer-kakao-background:#2f3136;\n    --main-list-viewer-daumpot-background:#2f3136;\n    --main-list-viewer-youtube-background:#2f3136;\n\n    --main-list-background:#32353b;\n\n    --main-list-hover-background:#36393f;\n    \n    --logo-image:url("https://raw.githubusercontent.com/nomomo/Addostream/master/assets/logo_dostreamplus_blacktheme.png");\n    \n    --modal-content-shadow:0 3px 9px rgba(205,205,205,.25);\n\n    --history-font-color:#999;\n    --history-gradient:unset;\n\n    --hrm-doe-font-color:#3498db;\n\n    --chat-nick-color:#ccc;\n    --chat-content-color:#ccc;\n    --chat-image-container-background-color:#222;\n    --chat-image-container-color:#ccc;\n    --chat-input-color:#ccc;\n\n    --chat-more-color:#fff;\n    --chat-more-background:rgba(0,0,0,.75);\n    --chat-myLine-nick-color:#3498db;\n    --chat-myLine-color:#fff;\n    --chat-myLine-font-weight:bold;\n\n    --scroll-bar-color:#202225;\n    --scroll-bar-thumb-color:#2f3136;\n\n    --chat-type_and_go-color: inherit;\n    --chat-type_and_go-opacity: 0.1;\n    --chat-type_and_go-focus-color: inherit;\n    --chat-type_and_go-focus-opacity: 0.6;\n}\n\nbody header {\n    background:#202225;\n}\n\nbody .chat-btns button,\nbody .chat-btns button.btn-blue,\nbody .chat-btns button.btn-blue:hover,\nbody .chat-btns button.btn-blue:focus,\nbody .chat-btns button.btn-blue:active {\n    color: var(--main-font-color) !important;\n    border-color: #202225 !important;\n\n    border-radius: 10px;\n    background: #202225 !important;\n    margin: 5px;\n    height: 35px;\n}\n\n\nbody header,\nbody .nav-brand_mod,\nbody #notice_text_elem,\nbody #history_elem,\nbody .AD_title,\nbody #popup_ADD_quick,\nbody #popup_ADD_test,\nbody #popup_ADD_config{\n    height:45px;\n}\n\nbody .AD_title {\n    padding:7px 0;\n}\n\nbody #uha_chat {\n    background:#36393f;\n}',""]),t.exports=o},394:(t,e,n)=>{var a=n(81),o=n(645)(a);o.push([t.id,"",""]),t.exports=o},204:(t,e,n)=>{var a=n(81),o=n(645)(a);o.push([t.id,'\nbody {\n    color:var(--body-font-color);\n    background-color:var(--body-background-color);\n    border-color:var(--body-border-color);\n}\nbody.theme ::selection {\n    background: var(--drag-background);\n    color: var(--drag-font-color);\n    text-shadow: none;\n}\na:hover, a:focus {\n    color: var(--a-hover-font-color);\n    /* text-decoration: var(--a-hover-text-decoration); */\n}\na, a:link {\n    color: var(--a-font-color);\n    /* text-decoration: var(--a-text-decoration); */\n}\na:visited {\n    color: var(--a-visited-font-color);\n}\ntable, table tbody, table td{\n    /* border-color:var(--table-border-color) !important; */\n}\ntable>thead>tr>th {\n    border-color:var(--table-th-border-color) !important;\n}\n.wrap {\n    background-color:var(--wrap-background-color);\n}\n\n/* ************************************************************ */\n/* Header */\n/* ************************************************************ */\n.wrap header {\n    background-color:var(--header-background-color);\n    color:var(--header-font-color);\n}\n/* Header - History */\n#history_elem a {\n    color:var(--header-history-font-color);\n}\n#history_elem a:hover {\n    color:var(--header-history-font-color-hover);\n}\n#history_elem a:focus, #history_elem a:active {\n    color:var(--header-history-font-color-focus);\n}\n\n\n/* ************************************************************ */\n/* 메인 리스트 */\n/* ************************************************************ */\n#stream .main-streams>ul{\n    background-color:var(--list-ul-background-color);\n}\n#stream .main-streams>ul>li{\n    background-color: var(--list-li-background-color);\n    border-color: var(--list-li-border-color);\n    border-bottom-width: var(--list-li-border-size);\n}\n#stream .main-streams>ul>li:hover, .main-streams>ul>li>a:hover{\n    background-color: var(--list-li-background-color-hover);\n}\n#stream .main-streams>ul>li:focus, .main-streams>ul>li>a:focus{\n    background-color: var(--list-li-background-color-focus);\n}\n\n.main-streams>ul>li .stream-wrap>.title{\n    color:var(--list-li-title-font-color);\n}\n.stream-wrap>.info>.game{\n    color:var(--list-li-game-font-color);\n}\n.main-streams>ul>li .stream-wrap>.info>.from.twitch {\n    color:var(--list-li-info-twitch-font-color);\n    background-color: var(--list-li-info-twitch-background-color);\n}\n.main-streams>ul>li .stream-wrap>.info>.viewers {\n    color:var(--list-li-views-font-color);\n}\n.main-streams>ul>li .glyphicon-pushpin{\n    color:var(--list-li-glyphicon-pushpin-font-color);\n}\n.main-streams>ul>li .glyphicon-star{\n    color:var(--list-li-glyphicon-star-font-color);\n}\n\n/* 메인 리스트 상단 버튼 */\n#stream .search .twitch.checkbox {\n    color:var(--list-top-button-twitch-font-color);\n    background-color: var(--list-top-button-twitch-background-color);       \n}\n#stream .search .twitch.checkbox.checked {\n    color:var(--list-top-button-twitch-checked-font-color);\n    background-color: var(--list-top-button-twitch-checked-background-color);          \n}\n\n#stream .search .kakao.checkbox {\n    color:var(--list-top-button-kakao-font-color);\n    background-color: var(--list-top-button-kakao-background-color);      \n}\n#stream .search .kakao.checkbox.checked {\n    color:var(--list-top-button-kakao-checked-font-color);\n    background-color: var(--list-top-button-kakao-checked-background-color);      \n}\n\n#stream .search .youtube.checkbox {\n    color:var(--list-top-button-youtube-font-color);\n    background-color: var(--list-top-button-youtube-background-color);      \n}\n#stream .search .youtube.checkbox.checked {\n    color:var(--list-top-button-youtube-checked-font-color);\n    background-color: var(--list-top-button-youtube-checked-background-color);      \n}\n\n#stream .search .afreeca.checkbox {\n    color:var(--list-top-button-checkbox-font-color);\n    background-color: var(--list-top-button-checkbox-background-color);      \n}\n#stream .search .afreeca.checkbox.checked {\n    color:var(--list-top-button-checkbox-checked-font-color);\n    background-color: var(--list-top-button-checkbox-checked-background-color);      \n}\n\n#stream .search .chzzk.checkbox {\n    color:var(--list-top-button-chzzk-font-color);\n    background-color: var(--list-top-button-chzzk-background-color);      \n}\n#stream .search .chzzk.checkbox.checked {\n    color:var(--list-top-button-chzzk-checked-font-color);\n    background-color: var(--list-top-button-chzzk-checked-background-color);      \n}\n\n#stream .search #multitwitch {\n    color:var(--list-top-button-multitwitch-font-color);\n    background-color: var(--list-top-button-multitwitch-background-color);   \n}\n#stream .search #multitwitch:hover {\n    color:var(--list-top-button-multitwitch-hover-font-color);\n    background-color: var(--list-top-button-multitwitch-hover-background-color);  \n}\n\n/* 퀵 리스트 */\n#popup_ADD_quick, #popup_ADD_quick .modal-dialog, #popup_ADD_quick .modal-content {\n    color: var(--main-font-color);\n    background-color: var(--list-li-background-color);\n}\n#popup_ADD_quick .title {\n    color:var(--list-li-title-font-color);\n}\n#popup_ADD_quick .from {\n    color:var(--list-li-info-twitch-font-color);\n    background-color: var(--list-li-info-twitch-background-color);\n}\n#popup_ADD_quick .stream-wrap>.info>.viewers {\n    color:var(--list-li-views-font-color);\n}\n#popup_ADD_quick .glyphicon-pushpin{\n    color:var(--list-li-glyphicon-pushpin-font-color);\n}\n#popup_ADD_quick .glyphicon-star{\n    color:var(--list-li-glyphicon-star-font-color);\n}\n#popup_ADD_quick .quick_list_title{\n    border-color: var(--list-li-border-color);\n}\n#popup_ADD_quick li{\n    background-color: var(--list-li-background-color);\n    border-color: var(--list-li-border-color);\n    border-bottom-width: var(--list-li-border-size);\n}\n#popup_ADD_quick li>a:hover{\n    background-color: var(--list-li-background-color-hover);\n}\n\n/* ************************************************************ */\n/* bootstrap modal dialog, modal contents (설정창 등) */\n/* ************************************************************ */\n.modal-body{\n    border-color: var(--modal-body-border-color);\n}\n.modal-dialog, .modal-content {\n    background-color: var(--modal-dialog-background-color);\n}\n.modal-footer {\n    border-color:var(--modal-footer-border-color) !important;\n}\n.modal-footer button {\n    color:var(--modal-footer-button-font-color) !important;\n    background-color: var(--modal-footer-button-background-color) !important;\n    border:var(--modal-footer-button-border) !important;\n}\n.modal-footer button:hover {\n    color:var(--modal-footer-button-hover-font-color) !important;\n    background-color: var(--modal-footer-button-hover-background-color) !important;\n    border:var(--modal-footer-button-hover-border) !important;\n}\n\n#popup_ADD_config td {\n    border-color: var(--ADD_config-td-border-color) !important;\n}\n#popup_ADD_config tr {\n    border-color: var(--ADD_config-tr-border-color) !important;\n}\n#popup_ADD_config tr:hover {\n    background-color: var(--ADD_config-tr-hover-background-color);\n}\n\n.modal-body input {\n    color:var(--modal-body-input-font-color) !important;\n    background-color: var(--modal-body-input-background-color) !important;\n    border-color:var(--modal-body-input-border-color) !important;\n}\n\n.modal-body textarea {\n    color:var(--modal-body-textarea-font-color) !important;\n    background-color: var(--modal-body-textarea-background-color) !important;\n    border-color:var(--modal-body-textarea-border-color) !important;\n}\n\n/* GM Setting */\n\n#GM_setting li {\n    border-color:var(--GM_setting-border-color);\n}\n#GM_setting .GM_setting_title, #GM_setting .GM_setting_category_name{\n    color:var(--GM_setting-title-font-color);\n}\n#GM_setting .GM_setting_depth1.GM_setting_category{\n    border-color:var(--GM_setting-border-color);\n}\n#GM_setting .GM_setting_under_dev .GM_setting_title{\n    color:var(--GM_setting-underdev-title-font-color);\n}\n#GM_setting .GM_setting_item_disable, #GM_setting .GM_setting_item_disable .GM_setting_title, #GM_setting .GM_setting_item_disable .GM_setting_desc{\n    color:var(--GM_setting-desc-font-color);\n}\n#GM_setting input {\n    color:var(--modal-body-input-font-color) !important;\n    background-color: var(--modal-body-input-background-color) !important;\n    border-color:var(--modal-body-input-border-color) !important;\n}\n#GM_setting select {\n    color:var(--modal-body-input-font-color) !important;\n    background-color: var(--modal-body-input-background-color) !important;\n    border-color:var(--modal-body-input-border-color) !important;\n}\n#GM_setting textarea {\n    color:var(--modal-body-textarea-font-color) !important;\n    background-color: var(--modal-body-textarea-background-color) !important;\n    border-color:var(--modal-body-textarea-border-color) !important;\n}\n\n\n/* tagit */\nul.tagit {\n    color:#AAA !important;\n    border-color:#303030 !important;\n}\nul.tagit li.tagit-choice{\n    color:#AAA !important;\n    background-color: #202020 !important;\n    border-color: #101010 !important;\n}\nul.tagit li.tagit-choice:hover, ul.tagit li.tagit-choice.remove {\n    background-color: #303030 !important;\n    border-color: #202020 !important;\n}\nul.tagit input[type="text"]{\n    color:#AAA !important;\n    background-color:#101010 !important;\n}\n\n/* ************************************************************ */\n/* Buttons    */\n/* ************************************************************ */\n/* 기본 Button */\n.btn-default {\n    color: var(--btn-default-font-color);\n    background-color: var(--btn-default-background-color);\n    border-color: var(--btn-default-border-color);\n    border-width: var(--btn-default-border-width);\n}\n.btn-default:hover, .btn-default:focus, .btn-default:active, .btn-default.active, .open .dropdown-toggle.btn-default {\n    color: var(--btn-default-hover-font-color);\n    background-color: var(--btn-default-hover-background-color);\n    border-color: var(--btn-default-hover-border-color);\n}\n.btn-primary {\n    color: var(--btn-primary-font-color);\n    background-color: var(--btn-primary-background-color);\n    border: var(--btn-primary-border);\n}\n.btn-primary:hover, .btn-primary:focus, .btn-primary:active, .btn-primary.active, .open .dropdown-toggle.btn-primary {\n    color: var(--btn-primary-hover-font-color);\n    background-color: var(--btn-primary-hover-background-color);\n    border: var(--btn-primary-hover-border);\n}\n\n/* chat 위쪽에 있는 버튼들 기본 배경 */\ndiv.chat-btns{\n    background-color: var(--buttons-on-chat-conatiner-background-color);\n}\ndiv.chat-btns button {\n    transition: none;\n}\n\n/* Close button */\n.chat-btns button.chat-close {\n    color:var(--button-chat-close-font-color);\n    background-color:var(--button-chat-close-background-color);\n}\n.chat-btns button.chat-close:hover {\n    background-color:var(--button-chat-close-background-color-hover);\n}\n.chat-btns button.chat-close:focus, .chat-btns button.chat-close:active {\n    background-color:var(--button-chat-close-background-color-focus);\n}\n\n/* 새로고침 버튼 */\n.chat-btns button#btnRefreshChat {\n    color:var(--button-btnRefreshCha-font-color);\n    background-color:var(--button-btnRefreshCha-background-color);\n}\n.chat-btns button#btnRefreshChat:hover {\n    background-color:var(--button-btnRefreshCha-background-color-hover);\n}\n.chat-btns button#btnRefreshChat:focus, .chat-btns button#btnRefreshChat:active {\n    background-color:var(--button-btnRefreshCha-background-color-focus);\n}\n\n\n/* 차단목록 버튼 */\n.chat-btns button#btnIgnoreList {\n    color:var(--button-btnIgnoreList-font-color);\n    background-color:var(--button-btnIgnoreList-background-color);\n}\n.chat-btns button#btnIgnoreList:hover {\n    background-color:var(--button-btnIgnoreList-background-color-hover);\n}\n.chat-btns button#btnIgnoreList:focus, .chat-btns button#btnIgnoreList:active {\n    background-color:var(--button-btnIgnoreList-background-color-focus);\n}\n\n/* 좌표 버튼 (기본) */\n.chat-btns button#btnOpenHrm {\n    color:var(--button-btnOpenHrm-font-color);\n    background-color:var(--button-btnOpenHrm-background-color);\n}\n.chat-btns button#btnOpenHrm:hover {\n    background-color:var(--button-btnOpenHrm-background-color-hover);\n}\n.chat-btns button#btnOpenHrm:focus, .chat-btns button#btnOpenHrm:active {\n    background-color:var(--button-btnOpenHrm-background-color-focus);\n}\n\n/* 좌표 버튼 (펼침 버튼) */\n.chat-btns button#btnOpenHrm_ADD {\n    color:var(--button-btnOpenHrm_ADD-font-color);\n    background-color:var(--button-btnOpenHrm_ADD-background-color);\n}\n.chat-btns button#btnOpenHrm_ADD:hover {\n    background-color:var(--button-btnOpenHrm_ADD-background-color-hover);\n}\n.chat-btns button#btnOpenHrm_ADD:focus, .chat-btns button#btnOpenHrm_ADD:active {\n    background-color:var(--button-btnOpenHrm_ADD-background-color-focus);\n}\n\n\n/* 빠른 좌표 관련 */\n#hrm_layout, .leftchat #hrm_layout {\n    color:var(--hrm-font-color);\n    border:var(--hrm-border);\n}\n\n#hrm_layout a:link {\n    color:var(--hrm-link-font-color);\n}\n#hrm_layout a:hover {\n    color:var(--hrm-link-hover-font-color);\n}\n#hrm_layout a:visited {\n    color:var(--hrm-link-visited-font-color);\n}\n\n\n/* ************************************************************ */\n/* UCHAT */\n/* ************************************************************ */\n\n/* 채팅 TOP: 타이틀 */\ndiv.wrap .top .title.middlebox {\n    color: var(--chat-top-font-color) !important;\n    background-color: var(--chat-top-background-color) !important;\n}\ndiv.wrap .top, div.wrap .top.white, div.wrap .top.black {\n    color: var(--chat-top-font-color) !important;\n    background-color: var(--chat-top-background-color) !important;\n}\n\n/* 채팅 MIDDLE: 내용 보이는 곳 */\ndiv.wrap .middle, div.wrap .middle.white, div.wrap .middle.black {\n    color: var(--chat-middle-font-color) !important;\n    background-color: var(--chat-middle-background-color) !important;\n}\n\n/* 채팅 BOTTOM: 입력란 */\ndiv.wrap .bottom, div.wrap .bottom.white, div.wrap .bottom.black {\n    color: var(--chat-bottom-font-color) !important;\n    background-color: var(--chat-bottom-background-color) !important;\n    border-color: var(--chat-bottom-border-color) !important;\n}\ndiv.wrap .bottom [contenteditable=true]:not(:focus):empty:before {\n    color:var(--chat-bottom-input-font-color) !important;\n}\n\n/* 채팅 좌우 선 */\n.wrap, .chat-ignore, .chat-container {\n    border-color:var(--chat-container-border-color);\n}\n\n/* 채팅 참여자 목록 */\ndiv.wrap .userListWrap {\n    color:var(--chat-userListWrap-font-color) !important;\n    background-color: var(--chat-userListWrap-background-color) !important;\n    border-color: var(--chat-userListWrap-border-color) !important;\n}\ndiv.wrap .i .userFloor {\n    color: var(--chat-userListWrap-i-font-color) !important;\n    background-color: var(--chat-userListWrap-i-background-color) !important;\n    font-weight: var(--chat-userListWrap-i-font-weight) !important;\n}\n\n/* 채팅 팝업 메뉴 */\n.usermenu_popup {\n    color: var(--chat-usermenu_popup-font-color) !important;\n    background-color: var(--chat-usermenu_popup-background-color) !important;\n    background-color: var(--chat-usermenu_popup-border-color) !important;\n}\n.usermenu_popup .floor, .usermenu_popup .subject, .usermenu_popup .scrollable, .usermenu_popup .hr {\n    border-color: var(--chat-usermenu_popup-btn-floor-border-color) !important;\n}\n.usermenu_popup .floor:hover, .usermenu_popup .hr:hover,\n.usermenu_popup .floor:hover, .usermenu_popup .hr:focus,\n.usermenu_popup .floor:hover, .usermenu_popup .hr:active {\n    background-color:var(--chat-usermenu_popup-btn-floor-hover-background-color) !important;\n}\n\n\n/* 채팅 각 라인의 컨텐츠 기본 색상 */\ndiv.wrap .chatContent {\n    color:var(--chat-chanContent-font-color) !important;\n}\n/* 내 라인 */\ndiv.wrap .myLine {\n    color: var(--chat-myLine-font-color) !important;\n    background-color: var(--chat-myLine-background-color) !important;\n}\n/* 자동완성 */\na.autokeyword:after, a.autokeyword:after {\n    color: var(--chat-autokeyword-font-color) !important;\n    background-color: var(--chat-autokeyword-background-color) !important;\n}\na.autokeyword.twitch:after, a.autokeyword.twitch:after {\n    color: var(--chat-autokeyword-twitch-font-color) !important;\n    background-color: var(--chat-autokeyword-twitch-background-color) !important;\n}\na.autokeyword.chzzk:after, a.autokeyword.chzzk:after {\n    color: var(--chat-autokeyword-chzzk-font-color) !important;\n    background-color: var(--chat-autokeyword-chzzk-background-color) !important;\n}\n/* imgur 이미지 컨테이너 */\n.imgur_container .ADD_tr, .imgur_container .ADD_br, .imgur_container .simple_image, .imgur_container .simple_image_container, .imgur_container .imgur_more_image_div, .imgur_container .imgur_more_image_div_container,\n.imgur_container .imgur_image_title:hover {\n    color: var(--chat-imgur_container-font-color) !important;\n    background-color: var(--chat-imgur_container-background-color) !important;\n}\n\n/* 새 메모 작성 창 */\n#memo_simple_layout_container {\n    background-color: var(--memo_simple_layout_container-background-color) !important;\n}\n#memo_simple_layout_content {\n    color:var(--memo_simple_layout_content-font-color) !important;\n    background-color: var(--memo_simple_layout_content-background-color) !important;\n    border:var(--memo_simple_layout_content-border) !important;\n}\n#memo_simple_layout_content *{\n    border-color:var(--memo_simple_layout_content-border-color) !important;\n}\n#memo_isSavedMemo {\n    color: var(--memo_isSavedMemo-font-color) !important;\n}\n#memo_detail_content {\n    color:var(--memo_detail_content-font-color) !important;\n    background-color: var(--memo_detail_content-background-color) !important;\n}\n#memo_simple_layout_content input {\n    color:var(--memo_detail_content-input-font-color) !important;\n    background-color: var(--memo_detail_content-input-background-color) !important;\n}\n#memo_button_container span {\n    color: var(--memo_button_container-font-color) !important;\n    background-color: var(--memo_button_container-background-color) !important;\n}\n\n/* 채팅매니저 관리창 */\n.modal-body tbody tr:hover{\n    background-color: var(--list-li-background-color-hover);\n}\n.table-bordered{\n    border-color: var(--table-border-color);\n}\n.table-striped>tbody>tr:nth-child(odd)>td, .table-striped>tbody>tr:nth-child(odd)>th {\n    background-color: var(--body-background-color);\n    border-color: var(--table-border-color);\n}\n.table-bordered>thead>tr>th, .table-bordered>tbody>tr>th, .table-bordered>tfoot>tr>th, .table-bordered>thead>tr>td, .table-bordered>tbody>tr>td, .table-bordered>tfoot>tr>td {\n    border-color: var(--table-border-color);\n}\n\n/* 우하하 채팅 */\nbody #uha_chat{\n    background-color:var(--chat-background-color);\n    border-color:var(--chat-border-color);\n    color:var(--chat-font-color);\n}\nbody #uha_chat_msgs{\n    color:var(--chat-font-color);\n}\n\nbody #uha_chat_msgs > li > .text,\nbody #uha_chat_users_count,\nbody a.autokeyword,\nbody a.autokeyword:link{\n    color:var(--chat-font-color) !important;\n}\n\nbody #uha_chat_msgs > li:hover{\n    background-color:unset !important;\n}\n\nbody #uha_chat_info, body #uha_chat_contextmenu{\n    background-color:var(--chat-background-color);\n    border-color:var(--chat-border-color);\n}\n#uha_chat_form, #uha_chat_form > div, #uha_chat_form > div > #uha_chat_input {\n    color: var(--chat-bottom-font-color) !important;\n    background-color: var(--chat-bottom-background-color) !important;\n    border-color: var(--chat-bottom-border-color) !important;\n}\n#uha_chat_top_text {\n    color:var(--chat-font-color) !important;\n}\n#uha_chat_msgs > li > .name {\n    color:var(--chat-font-color) !important;\n}\n#uha_chat_msgs > li.date > span {\n    color:var(--chat-font-color) !important;\n    background-color:var(--chat-background-color) !important;\n}\n\n\n/* 임시 */\n.imgur_container .imgur_safe_screen .imgur_safe_button {\n    background:rgba(0,0,0,1) !important;\n    color:#FFF !important;\n}\n#uha_chat_whisper, #uha_chat_invite, #uha_chat_mute, #uha_chat_contextmenu_close, #uhaha_unique_id, #uhaha_forced_dancha, #uhaha_memo {\n    border-color:var(--chat-border-color) !important;\n}\n.imgur_container .imgur_safe_screen {\n    filter:brightness(0.5)\n}\n\n\n/* type_and_go button */\ndiv.ADD_type_and_go {\n    border-color:var(--chat-type_and_go-color) !important;\n    opacity:var(--chat-type_and_go-opacity) !important;\n}\ndiv.ADD_type_and_go:focus, div.ADD_type_and_go:hover {\n    border-color:var(--chat-type_and_go-focus-color) !important;\n    opacity:var(--chat-type_and_go-focus-opacity) !important;\n}',""]),t.exports=o},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",a=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),a&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),a&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,a,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(a)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(r[l]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);a&&r[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),e.push(d))}},e}},81:t=>{"use strict";t.exports=function(t){return t[1]}},946:(t,e,n)=>{"use strict";t=n.hmd(t);var a,o;a=void 0,o=function(){function t(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var n=0,a=t.length;n<a;n++)if(t[n]===e)return n;return-1}function e(t,e){for(var n=t.length-1;0<=n;n--)!0===e(t[n])&&t.splice(n,1)}var n=function(){function e(t){void 0===t&&(t={}),this.tagName="",this.attrs={},this.innerHTML="",this.whitespaceRegex=/\s+/,this.tagName=t.tagName||"",this.attrs=t.attrs||{},this.innerHTML=t.innerHtml||t.innerHTML||""}return e.prototype.setTagName=function(t){return this.tagName=t,this},e.prototype.getTagName=function(){return this.tagName||""},e.prototype.setAttr=function(t,e){return this.getAttrs()[t]=e,this},e.prototype.getAttr=function(t){return this.getAttrs()[t]},e.prototype.setAttrs=function(t){return Object.assign(this.getAttrs(),t),this},e.prototype.getAttrs=function(){return this.attrs||(this.attrs={})},e.prototype.setClass=function(t){return this.setAttr("class",t)},e.prototype.addClass=function(e){for(var n,a=this.getClass(),o=this.whitespaceRegex,i=a?a.split(o):[],r=e.split(o);n=r.shift();)-1===t(i,n)&&i.push(n);return this.getAttrs().class=i.join(" "),this},e.prototype.removeClass=function(e){for(var n,a=this.getClass(),o=this.whitespaceRegex,i=a?a.split(o):[],r=e.split(o);i.length&&(n=r.shift());){var s=t(i,n);-1!==s&&i.splice(s,1)}return this.getAttrs().class=i.join(" "),this},e.prototype.getClass=function(){return this.getAttrs().class||""},e.prototype.hasClass=function(t){return-1!==(" "+this.getClass()+" ").indexOf(" "+t+" ")},e.prototype.setInnerHTML=function(t){return this.innerHTML=t,this},e.prototype.setInnerHtml=function(t){return this.setInnerHTML(t)},e.prototype.getInnerHTML=function(){return this.innerHTML||""},e.prototype.getInnerHtml=function(){return this.getInnerHTML()},e.prototype.toAnchorString=function(){var t=this.getTagName(),e=this.buildAttrsStr();return["<",t,e=e?" "+e:"",">",this.getInnerHtml(),"</",t,">"].join("")},e.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var t=this.getAttrs(),e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n+'="'+t[n]+'"');return e.join(" ")},e}(),a=function(){function t(t){void 0===t&&(t={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=t.newWindow||!1,this.truncate=t.truncate||{},this.className=t.className||""}return t.prototype.build=function(t){return new n({tagName:"a",attrs:this.createAttrs(t),innerHtml:this.processAnchorText(t.getAnchorText())})},t.prototype.createAttrs=function(t){var e={href:t.getAnchorHref()},n=this.createCssClass(t);return n&&(e.class=n),this.newWindow&&(e.target="_blank",e.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<t.getAnchorText().length&&(e.title=t.getAnchorHref()),e},t.prototype.createCssClass=function(t){var e=this.className;if(e){for(var n=[e],a=t.getCssClassSuffixes(),o=0,i=a.length;o<i;o++)n.push(e+"-"+a[o]);return n.join(" ")}return""},t.prototype.processAnchorText=function(t){return this.doTruncate(t)},t.prototype.doTruncate=function(t){var e=this.truncate;if(!e||!e.length)return t;var n,a,o,i,r=e.length,s=e.location;return"smart"===s?function(t,e,n){var a,o;a=null==n?(n="&hellip;",o=3,8):(o=n.length,n.length);var i=function(t){var e="";return t.scheme&&t.host&&(e+=t.scheme+"://"),t.host&&(e+=t.host),t.path&&(e+="/"+t.path),t.query&&(e+="?"+t.query),t.fragment&&(e+="#"+t.fragment),e},r=function(t,e){var a=e/2,o=Math.ceil(a),i=-1*Math.floor(a),r="";return i<0&&(r=t.substr(i)),t.substr(0,o)+n+r};if(t.length<=e)return t;var s,l,c,d=e-o,u=(s={},(c=(l=t).match(/^([a-z]+):\/\//i))&&(s.scheme=c[1],l=l.substr(c[0].length)),(c=l.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(s.host=c[1],l=l.substr(c[0].length)),(c=l.match(/^\/(.*?)(?=(\?|#|$))/i))&&(s.path=c[1],l=l.substr(c[0].length)),(c=l.match(/^\?(.*?)(?=(#|$))/i))&&(s.query=c[1],l=l.substr(c[0].length)),(c=l.match(/^#(.*?)$/i))&&(s.fragment=c[1]),s);if(u.query){var h=u.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);h&&(u.query=u.query.substr(0,h[1].length),t=i(u))}if(t.length<=e)return t;if(u.host&&(u.host=u.host.replace(/^www\./,""),t=i(u)),t.length<=e)return t;var f="";if(u.host&&(f+=u.host),f.length>=d)return u.host.length==e?(u.host.substr(0,e-o)+n).substr(0,d+a):r(f,d).substr(0,d+a);var p="";if(u.path&&(p+="/"+u.path),u.query&&(p+="?"+u.query),p){if(d<=(f+p).length)return(f+p).length==e?(f+p).substr(0,e):(f+r(p,d-f.length)).substr(0,d+a);f+=p}if(u.fragment){var m="#"+u.fragment;if(d<=(f+m).length)return(f+m).length==e?(f+m).substr(0,e):(f+r(m,d-f.length)).substr(0,d+a);f+=m}if(u.scheme&&u.host){var g=u.scheme+"://";if((f+g).length<d)return(g+f).substr(0,e)}if(f.length<=e)return f;var b="";return 0<d&&(b=f.substr(-1*Math.floor(d/2))),(f.substr(0,Math.ceil(d/2))+n+b).substr(0,d+a)}(t,r):"middle"===s?function(t,e,n){if(t.length<=e)return t;var a,o=e-(null==n?(n="&hellip;",a=8,3):(a=n.length,n.length)),i="";return 0<o&&(i=t.substr(-1*Math.floor(o/2))),(t.substr(0,Math.ceil(o/2))+n+i).substr(0,o+a)}(t,r):(a=r,o=void 0,(n=t).length>a&&(i=null==o?(o="&hellip;",3):o.length,n=n.substring(0,a-i)+o),n)},t}(),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var r,s,l,c,d,u=function(){function t(t){this.offset=0,this.text="",this.offset=t.offset,this.text=t.text}return t.prototype.getOffset=function(){return this.offset},t.prototype.getText=function(){return this.text},t}(),h=function(t){function e(e){var n=t.call(this,e)||this;return n.comment="",n.comment=e.comment,n}return i(e,t),e.prototype.getType=function(){return"comment"},e.prototype.getComment=function(){return this.comment},e}(u),f=function(t){function e(e){var n=t.call(this,e)||this;return n.tagName="",n.closing=!1,n.tagName=e.tagName,n.closing=e.closing,n}return i(e,t),e.prototype.getType=function(){return"element"},e.prototype.getTagName=function(){return this.tagName},e.prototype.isClosing=function(){return this.closing},e}(u),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getType=function(){return"entity"},e}(u),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getType=function(){return"text"},e}(u),g=(r=/[0-9a-zA-Z][0-9a-zA-Z:]*/,s=/[^\s"'>\/=\x00-\x1F\x7F]+/,c="(?:\\s*?=\\s*?"+(l=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/).source+")?",d=function(t){return"(?=("+s.source+"))\\"+t+c},new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",d(2),"|",l.source+")",")*",">",")","|","(?:","<(/)?","(?:",/!--([\s\S]+?)--/.source,"|","(?:","("+r.source+")","\\s*/?",")","|","(?:","("+r.source+")","\\s+","(?:","(?:\\s+|\\b)",d(7),")*","\\s*/?",")",")",">",")"].join(""),"gi")),b=/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,v=function(){function t(){}return t.prototype.parse=function(t){for(var e,n,a=0,o=[];null!==(e=g.exec(t));){var i=e[0],r=e[4],s=e[1]||e[5]||e[6],l=!!e[3],c=e.index,d=t.substring(a,c);d&&(n=this.parseTextAndEntityNodes(a,d),o.push.apply(o,n)),r?o.push(this.createCommentNode(c,i,r)):o.push(this.createElementNode(c,i,s,l)),a=c+i.length}if(a<t.length){var u=t.substring(a);u&&(n=this.parseTextAndEntityNodes(a,u)).forEach((function(t){return o.push(t)}))}return o},t.prototype.parseTextAndEntityNodes=function(t,e){for(var n=[],a=function(t,e){if(!e.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var n,a=[],o=0;n=e.exec(t);)a.push(t.substring(o,n.index)),a.push(n[0]),o=n.index+n[0].length;return a.push(t.substring(o)),a}(e,b),o=0,i=a.length;o<i;o+=2){var r=a[o],s=a[o+1];r&&(n.push(this.createTextNode(t,r)),t+=r.length),s&&(n.push(this.createEntityNode(t,s)),t+=s.length)}return n},t.prototype.createCommentNode=function(t,e,n){return new h({offset:t,text:e,comment:n.trim()})},t.prototype.createElementNode=function(t,e,n,a){return new f({offset:t,text:e,tagName:n.toLowerCase(),closing:a})},t.prototype.createEntityNode=function(t,e){return new p({offset:t,text:e})},t.prototype.createTextNode=function(t,e){return new m({offset:t,text:e})},t}(),_=function(){function t(t){this.__jsduckDummyDocProp=null,this.matchedText="",this.offset=0,this.tagBuilder=t.tagBuilder,this.matchedText=t.matchedText,this.offset=t.offset}return t.prototype.getMatchedText=function(){return this.matchedText},t.prototype.setOffset=function(t){this.offset=t},t.prototype.getOffset=function(){return this.offset},t.prototype.getCssClassSuffixes=function(){return[this.getType()]},t.prototype.buildTag=function(){return this.tagBuilder.build(this)},t}(),y=function(t){function e(e){var n=t.call(this,e)||this;return n.email="",n.email=e.email,n}return i(e,t),e.prototype.getType=function(){return"email"},e.prototype.getEmail=function(){return this.email},e.prototype.getAnchorHref=function(){return"mailto:"+this.email},e.prototype.getAnchorText=function(){return this.email},e}(_),k=function(t){function e(e){var n=t.call(this,e)||this;return n.serviceName="",n.hashtag="",n.serviceName=e.serviceName,n.hashtag=e.hashtag,n}return i(e,t),e.prototype.getType=function(){return"hashtag"},e.prototype.getServiceName=function(){return this.serviceName},e.prototype.getHashtag=function(){return this.hashtag},e.prototype.getAnchorHref=function(){var t=this.serviceName,e=this.hashtag;switch(t){case"twitter":return"https://twitter.com/hashtag/"+e;case"facebook":return"https://www.facebook.com/hashtag/"+e;case"instagram":return"https://instagram.com/explore/tags/"+e;default:throw new Error("Unknown service name to point hashtag to: "+t)}},e.prototype.getAnchorText=function(){return"#"+this.hashtag},e}(_),w=function(t){function e(e){var n=t.call(this,e)||this;return n.serviceName="twitter",n.mention="",n.mention=e.mention,n.serviceName=e.serviceName,n}return i(e,t),e.prototype.getType=function(){return"mention"},e.prototype.getMention=function(){return this.mention},e.prototype.getServiceName=function(){return this.serviceName},e.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}},e.prototype.getAnchorText=function(){return"@"+this.mention},e.prototype.getCssClassSuffixes=function(){var e=t.prototype.getCssClassSuffixes.call(this),n=this.getServiceName();return n&&e.push(n),e},e}(_),x=function(t){function e(e){var n=t.call(this,e)||this;return n.number="",n.plusSign=!1,n.number=e.number,n.plusSign=e.plusSign,n}return i(e,t),e.prototype.getType=function(){return"phone"},e.prototype.getPhoneNumber=function(){return this.number},e.prototype.getNumber=function(){return this.getPhoneNumber()},e.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},e.prototype.getAnchorText=function(){return this.matchedText},e}(_),D=function(t){function e(e){var n=t.call(this,e)||this;return n.url="",n.urlMatchType="scheme",n.protocolUrlMatch=!1,n.protocolRelativeMatch=!1,n.stripPrefix={scheme:!0,www:!0},n.stripTrailingSlash=!0,n.decodePercentEncoding=!0,n.schemePrefixRegex=/^(https?:\/\/)?/i,n.wwwPrefixRegex=/^(https?:\/\/)?(www\.)?/i,n.protocolRelativeRegex=/^\/\//,n.protocolPrepended=!1,n.urlMatchType=e.urlMatchType,n.url=e.url,n.protocolUrlMatch=e.protocolUrlMatch,n.protocolRelativeMatch=e.protocolRelativeMatch,n.stripPrefix=e.stripPrefix,n.stripTrailingSlash=e.stripTrailingSlash,n.decodePercentEncoding=e.decodePercentEncoding,n}return i(e,t),e.prototype.getType=function(){return"url"},e.prototype.getUrlMatchType=function(){return this.urlMatchType},e.prototype.getUrl=function(){var t=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(t=this.url="http://"+t,this.protocolPrepended=!0),t},e.prototype.getAnchorHref=function(){return this.getUrl().replace(/&amp;/g,"&")},e.prototype.getAnchorText=function(){var t=this.getMatchedText();return this.protocolRelativeMatch&&(t=this.stripProtocolRelativePrefix(t)),this.stripPrefix.scheme&&(t=this.stripSchemePrefix(t)),this.stripPrefix.www&&(t=this.stripWwwPrefix(t)),this.stripTrailingSlash&&(t=this.removeTrailingSlash(t)),this.decodePercentEncoding&&(t=this.removePercentEncoding(t)),t},e.prototype.stripSchemePrefix=function(t){return t.replace(this.schemePrefixRegex,"")},e.prototype.stripWwwPrefix=function(t){return t.replace(this.wwwPrefixRegex,"$1")},e.prototype.stripProtocolRelativePrefix=function(t){return t.replace(this.protocolRelativeRegex,"")},e.prototype.removeTrailingSlash=function(t){return"/"===t.charAt(t.length-1)&&(t=t.slice(0,-1)),t},e.prototype.removePercentEncoding=function(t){var e=t.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(e)}catch(t){return e}},e}(_),A=function(t){this.__jsduckDummyDocProp=null,this.tagBuilder=t.tagBuilder},T=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,E=T+/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,C=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,S=E+C,L=E+C,I="(?:["+C+"]{1,3}\\.){3}["+C+"]{1,3}",O="["+L+"](?:["+L+"\\-]{0,61}["+L+"])?",F=function(t){return"(?=("+O+"))\\"+t},R=function(t){return"(?:"+F(t)+"(?:\\."+F(t+1)+"){0,126}|"+I+")"},M=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermögensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermögensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbaakc7dvf|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|etisalat|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|merckmsd|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|السعودية|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|staples|starhub|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|католик|اتصالات|الجزائر|العليان|پاکستان|كاثوليك|موبايلي|இந்தியா|abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|yachts|yandex|zappos|москва|онлайн|ابوظبي|ارامكو|الاردن|المغرب|امارات|فلسطين|مليسيا|भारतम्|இலங்கை|ファッション|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|ایران|بازار|بھارت|سودان|سورية|همراه|भारोत|संगठन|বাংলা|భారత్|ഭാരതം|嘉里大酒店|aarp|able|adac|aero|aigo|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|дети|сайт|بارت|بيتك|ڀارت|تونس|شبكة|عراق|عمان|موقع|भारत|ভারত|ভাৰত|ਭਾਰਤ|ભારત|ଭାରତ|ಭಾರತ|ලංකා|グーグル|クラウド|ポイント|大众汽车|组织机构|電訊盈科|香格里拉|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jcp|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|бел|ком|қаз|мкд|мон|орг|рус|срб|укр|հայ|קום|عرب|قطر|كوم|مصر|कॉम|नेट|คอม|ไทย|ストア|セール|みんな|中文网|天主教|我爱你|新加坡|淡马锡|诺基亚|飞利浦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|бг|ею|рф|გე|닷넷|닷컴|삼성|한국|コム|世界|中信|中国|中國|企业|佛山|信息|健康|八卦|公司|公益|台湾|台灣|商城|商店|商标|嘉里|在线|大拿|娱乐|家電|工行|广东|微博|慈善|手机|手表|招聘|政务|政府|新闻|时尚|書籍|机构|游戏|澳門|点看|珠宝|移动|网址|网店|网站|网络|联通|谷歌|购物|通販|集团|食品|餐厅|香港)/,N=function(t){function e(){var e,n,a=null!==t&&t.apply(this,arguments)||this;return a.matcherRegex=(e=L+"!#$%&'*+\\-\\/=?^_`{|}~",n=new RegExp("(?:["+e+"](?:["+e+']|\\.(?!\\.|@))*|\\"['+e+'\\s"(),:;<>@\\[\\].]+\\")@'),new RegExp([n.source,R(1),"\\.",M.source].join(""),"gi")),a}return i(e,t),e.prototype.parseMatches=function(t){for(var e,n=this.matcherRegex,a=this.tagBuilder,o=[];null!==(e=n.exec(t));){var i=e[0];o.push(new y({tagBuilder:a,matchedText:i,offset:e.index,email:i}))}return o},e}(A),B=function(){function t(){}return t.isValid=function(t,e){return!(e&&!this.isValidUriScheme(e)||this.urlMatchDoesNotHaveProtocolOrDot(t,e)||this.urlMatchDoesNotHaveAtLeastOneWordChar(t,e)&&!this.isValidIpAddress(t)||this.containsMultipleDots(t))},t.isValidIpAddress=function(t){var e=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==t.match(e)},t.containsMultipleDots=function(t){var e=t;return this.hasFullProtocolRegex.test(t)&&(e=t.split("://")[1]),-1<e.split("/")[0].indexOf("..")},t.isValidUriScheme=function(t){var e=t.match(this.uriSchemeRegex),n=e&&e[0].toLowerCase();return"javascript:"!==n&&"vbscript:"!==n},t.urlMatchDoesNotHaveProtocolOrDot=function(t,e){return!(!t||e&&this.hasFullProtocolRegex.test(e)||-1!==t.indexOf("."))},t.urlMatchDoesNotHaveAtLeastOneWordChar=function(t,e){return!(!t||!e||this.hasWordCharAfterProtocolRegex.test(t))},t.hasFullProtocolRegex=/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,t.uriSchemeRegex=/^[A-Za-z][-.+A-Za-z0-9]*:/,t.hasWordCharAfterProtocolRegex=new RegExp(":[^\\s]*?["+T+"]"),t.ipRegex=/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,t}(),$=function(t){function e(e){var n,a=t.call(this,e)||this;return a.stripPrefix={scheme:!0,www:!0},a.stripTrailingSlash=!0,a.decodePercentEncoding=!0,a.matcherRegex=(n=new RegExp("[/?#](?:["+L+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;✓]*["+L+"\\-+&@#/%=~_()|'$*\\[\\]✓])?"),new RegExp(["(?:","(",/(?:[A-Za-z][-.+A-Za-z0-9]{0,63}:(?![A-Za-z][-.+A-Za-z0-9]{0,63}:\/\/)(?!\d+\/?)(?:\/\/)?)/.source,R(2),")","|","(","(//)?",/(?:www\.)/.source,R(6),")","|","(","(//)?",R(10)+"\\.",M.source,"(?![-"+S+"])",")",")","(?::[0-9]+)?","(?:"+n.source+")?"].join(""),"gi")),a.wordCharRegExp=new RegExp("["+L+"]"),a.openParensRe=/\(/g,a.closeParensRe=/\)/g,a.stripPrefix=e.stripPrefix,a.stripTrailingSlash=e.stripTrailingSlash,a.decodePercentEncoding=e.decodePercentEncoding,a}return i(e,t),e.prototype.parseMatches=function(t){for(var e,n=this.matcherRegex,a=this.stripPrefix,o=this.stripTrailingSlash,i=this.decodePercentEncoding,r=this.tagBuilder,s=[];null!==(e=n.exec(t));){var l=e[0],c=e[1],d=e[4],u=e[5],h=e[9],f=e.index,p=u||h,m=t.charAt(f-1);if(B.isValid(l,c)&&!(0<f&&"@"===m||0<f&&p&&this.wordCharRegExp.test(m))){if(/\?$/.test(l)&&(l=l.substr(0,l.length-1)),this.matchHasUnbalancedClosingParen(l))l=l.substr(0,l.length-1);else{var g=this.matchHasInvalidCharAfterTld(l,c);-1<g&&(l=l.substr(0,g))}var b=c?"scheme":d?"www":"tld",v=!!c;s.push(new D({tagBuilder:r,matchedText:l,offset:f,urlMatchType:b,url:l,protocolUrlMatch:v,protocolRelativeMatch:!!p,stripPrefix:a,stripTrailingSlash:o,decodePercentEncoding:i}))}}return s},e.prototype.matchHasUnbalancedClosingParen=function(t){if(")"===t.charAt(t.length-1)){var e=t.match(this.openParensRe),n=t.match(this.closeParensRe);if((e&&e.length||0)<(n&&n.length||0))return!0}return!1},e.prototype.matchHasInvalidCharAfterTld=function(t,e){if(!t)return-1;var n=0;e&&(n=t.indexOf(":"),t=t.slice(n));var a=new RegExp("^((.?//)?[-."+L+"]*[-"+L+"]\\.[-"+L+"]+)").exec(t);return null===a?-1:(n+=a[1].length,t=t.slice(a[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(t)?n:-1)},e}(A),P=function(t){function e(e){var n=t.call(this,e)||this;return n.serviceName="twitter",n.matcherRegex=new RegExp("#[_"+L+"]{1,139}(?![_"+L+"])","g"),n.nonWordCharRegex=new RegExp("[^"+L+"]"),n.serviceName=e.serviceName,n}return i(e,t),e.prototype.parseMatches=function(t){for(var e,n=this.matcherRegex,a=this.nonWordCharRegex,o=this.serviceName,i=this.tagBuilder,r=[];null!==(e=n.exec(t));){var s=e.index,l=t.charAt(s-1);if(0===s||a.test(l)){var c=e[0],d=e[0].slice(1);r.push(new k({tagBuilder:i,matchedText:c,offset:s,serviceName:o,hashtag:d}))}}return r},e}(A),j=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.matcherRegex=/(?:(?:(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-\040.]?(?:\d[-\040.]?){6,12}\d+))([,;]+[0-9]+#?)*/g,e}return i(e,t),e.prototype.parseMatches=function(t){for(var e,n=this.matcherRegex,a=this.tagBuilder,o=[];null!==(e=n.exec(t));){var i=e[0],r=i.replace(/[^0-9,;#]/g,""),s=!(!e[1]&&!e[2]),l=0==e.index?"":t.substr(e.index-1,1),c=t.substr(e.index+i.length,1),d=!l.match(/\d/)&&!c.match(/\d/);this.testMatch(e[3])&&this.testMatch(i)&&d&&o.push(new x({tagBuilder:a,matchedText:i,offset:e.index,number:r,plusSign:s}))}return o},e.prototype.testMatch=function(t){return/\D/.test(t)},e}(A),z=function(t){function e(e){var n=t.call(this,e)||this;return n.serviceName="twitter",n.matcherRegexes={twitter:new RegExp("@[_"+L+"]{1,50}(?![_"+L+"])","g"),instagram:new RegExp("@[_."+L+"]{1,30}(?![_"+L+"])","g"),soundcloud:new RegExp("@[-_."+L+"]{1,50}(?![-_"+L+"])","g")},n.nonWordCharRegex=new RegExp("[^"+L+"]"),n.serviceName=e.serviceName,n}return i(e,t),e.prototype.parseMatches=function(t){var e,n=this.serviceName,a=this.matcherRegexes[this.serviceName],o=this.nonWordCharRegex,i=this.tagBuilder,r=[];if(!a)return r;for(;null!==(e=a.exec(t));){var s=e.index,l=t.charAt(s-1);if(0===s||o.test(l)){var c=e[0].replace(/\.+$/g,""),d=c.slice(1);r.push(new w({tagBuilder:i,matchedText:c,offset:s,serviceName:n,mention:d}))}}return r},e}(A);return function(){function t(e){void 0===e&&(e={}),this.version=t.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.htmlParser=new v,this.matchers=null,this.tagBuilder=null,this.urls=this.normalizeUrlsCfg(e.urls),this.email="boolean"==typeof e.email?e.email:this.email,this.phone="boolean"==typeof e.phone?e.phone:this.phone,this.hashtag=e.hashtag||this.hashtag,this.mention=e.mention||this.mention,this.newWindow="boolean"==typeof e.newWindow?e.newWindow:this.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(e.stripPrefix),this.stripTrailingSlash="boolean"==typeof e.stripTrailingSlash?e.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding="boolean"==typeof e.decodePercentEncoding?e.decodePercentEncoding:this.decodePercentEncoding;var n=this.mention;if(!1!==n&&"twitter"!==n&&"instagram"!==n&&"soundcloud"!==n)throw new Error("invalid `mention` cfg - see docs");var a=this.hashtag;if(!1!==a&&"twitter"!==a&&"facebook"!==a&&"instagram"!==a)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(e.truncate),this.className=e.className||this.className,this.replaceFn=e.replaceFn||this.replaceFn,this.context=e.context||this}return t.link=function(e,n){return new t(n).link(e)},t.parse=function(e,n){return new t(n).parse(e)},t.prototype.normalizeUrlsCfg=function(t){return null==t&&(t=!0),"boolean"==typeof t?{schemeMatches:t,wwwMatches:t,tldMatches:t}:{schemeMatches:"boolean"!=typeof t.schemeMatches||t.schemeMatches,wwwMatches:"boolean"!=typeof t.wwwMatches||t.wwwMatches,tldMatches:"boolean"!=typeof t.tldMatches||t.tldMatches}},t.prototype.normalizeStripPrefixCfg=function(t){return null==t&&(t=!0),"boolean"==typeof t?{scheme:t,www:t}:{scheme:"boolean"!=typeof t.scheme||t.scheme,www:"boolean"!=typeof t.www||t.www}},t.prototype.normalizeTruncateCfg=function(t){return"number"==typeof t?{length:t,location:"end"}:function(t,e){for(var n in e)e.hasOwnProperty(n)&&void 0===t[n]&&(t[n]=e[n]);return t}(t||{},{length:Number.POSITIVE_INFINITY,location:"end"})},t.prototype.parse=function(t){for(var e=this.htmlParser.parse(t),n=["a","style","script"],a=0,o=[],i=0,r=e.length;i<r;i++){var s=e[i],l=s.getType();if("element"===l&&-1!==n.indexOf(s.getTagName()))s.isClosing()?a=Math.max(a-1,0):a++;else if("text"===l&&0===a){var c=this.parseText(s.getText(),s.getOffset());o.push.apply(o,c)}}return o=this.compactMatches(o),this.removeUnwantedMatches(o)},t.prototype.compactMatches=function(t){t.sort((function(t,e){return t.getOffset()-e.getOffset()}));for(var e=0;e<t.length-1;e++){var n=t[e],a=n.getOffset(),o=n.getMatchedText().length,i=a+o;if(e+1<t.length){if(t[e+1].getOffset()===a){var r=t[e+1].getMatchedText().length>o?e:e+1;t.splice(r,1);continue}t[e+1].getOffset()<i&&t.splice(e+1,1)}}return t},t.prototype.removeUnwantedMatches=function(t){return this.hashtag||e(t,(function(t){return"hashtag"===t.getType()})),this.email||e(t,(function(t){return"email"===t.getType()})),this.phone||e(t,(function(t){return"phone"===t.getType()})),this.mention||e(t,(function(t){return"mention"===t.getType()})),this.urls.schemeMatches||e(t,(function(t){return"url"===t.getType()&&"scheme"===t.getUrlMatchType()})),this.urls.wwwMatches||e(t,(function(t){return"url"===t.getType()&&"www"===t.getUrlMatchType()})),this.urls.tldMatches||e(t,(function(t){return"url"===t.getType()&&"tld"===t.getUrlMatchType()})),t},t.prototype.parseText=function(t,e){void 0===e&&(e=0),e=e||0;for(var n=this.getMatchers(),a=[],o=0,i=n.length;o<i;o++){for(var r=n[o].parseMatches(t),s=0,l=r.length;s<l;s++)r[s].setOffset(e+r[s].getOffset());a.push.apply(a,r)}return a},t.prototype.link=function(t){if(!t)return"";for(var e=this.parse(t),n=[],a=0,o=0,i=e.length;o<i;o++){var r=e[o];n.push(t.substring(a,r.getOffset())),n.push(this.createMatchReturnVal(r)),a=r.getOffset()+r.getMatchedText().length}return n.push(t.substring(a)),n.join("")},t.prototype.createMatchReturnVal=function(t){var e;return this.replaceFn&&(e=this.replaceFn.call(this.context,t)),"string"==typeof e?e:!1===e?t.getMatchedText():e instanceof n?e.toAnchorString():t.buildTag().toAnchorString()},t.prototype.getMatchers=function(){if(this.matchers)return this.matchers;var t=this.getTagBuilder(),e=[new P({tagBuilder:t,serviceName:this.hashtag}),new N({tagBuilder:t}),new j({tagBuilder:t}),new z({tagBuilder:t,serviceName:this.mention}),new $({tagBuilder:t,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=e},t.prototype.getTagBuilder=function(){var t=this.tagBuilder;return t||(t=this.tagBuilder=new a({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),t},t.version="2.2.2",t.AnchorTagBuilder=a,t.HtmlTag=n,t.matcher={Email:N,Hashtag:P,Matcher:A,Mention:z,Phone:j,Url:$},t.match={Email:y,Hashtag:k,Match:_,Mention:w,Phone:x,Url:D},t}()},"object"==typeof exports?t.exports=o():"function"==typeof define&&n.amdO?define(o):(a=a||self).Autolinker=o()}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var i=e[a]={id:a,loaded:!1,exports:{}};return t[a](i,i.exports,n),i.loaded=!0,i.exports}n.amdO={},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t={ADD_assets_url:"https://raw.githubusercontent.com/nomomo/Addostream/master/assets/",ADD_CLIENT_ID_TWITCH:"phcxzq5994awjrevkt45p6711bt77s",C_MAIN:0,C_STREAM:1,C_UCHAT:2,C_SETTING:3,C_SETTING_NW:4,C_INSAGIRL:11,C_EMBEDED_TWITCH:12,C_TWITCH:13,C_M3U8PLAYER:14,C_NESPORTS:15,C_CHZZK:16,C_TWITCH_AUTH:20,urlCheckerText:["MAIN--","STREAM","UCHAT-","SETTING","SETTING-NW","","","","","","","INSAGIRL","EMBEDED_TWITCH","MAIN_TWITCH","M3U8PLAYER","NESPORTS","CHZZK"],SEND_LOCATION_EVENT_MIN_TIME:10,API_INTERVAL_MIN_TIME:1};const e=JSON.parse('{"data":{"twitch":{"hanryang1125":{"dn":"풍월량","nn":["풍온","김영태","영태","풍형","풍월주인한량","우리풍","큰풍","대월량","갓월량","킹월량","월량"],"sn":["풍"],"cn":"풍월량월풍월량","cc":"7ce8032370ac5121dcabce7bad375ced"},"hectiquex":{"dn":"Hectiquex","nn":["양두방"]},"jmjdoc":{"dn":"칸데르니아","nn":["칸조씨","칸데","두방이","장두방","두방","두스의 방패","두스의방패","[]방"],"cn":"칸데르니아","cc":"bee4b42475b5937226b8b7ccbe2eb2dc"},"ddahyoni":{"dn":"따효니","nn":["효니","백상현","상현"],"sn":["따"],"cn":"따효니 DDaHyoNi","cc":"0dad8baf12a436f722faa8e5001c5011"},"kss7749":{"dn":"쉐리","nn":["쉐옹","쉐노인","쉐린마"],"sn":["쉐"],"cn":"쉐리입니다","cc":"b8263cd74372864eacb2d5bd16551882"},"looksam":{"dn":"룩삼","nn":["룩우스","김진효","진효"],"sn":["룩"],"cn":"룩삼오피셜","cc":"8803cee946a9e610a76fbdee98d98c61"},"yapyap30":{"dn":"얍얍","nn":["야부야부","김성태","성태"],"sn":["얍"],"cn":"얍얍yapyap","cc":"dec8d19f0bc4be90a4e8b5d57df9c071"},"saddummy":{"dn":"서새봄냥","nn":["새보밍","새봄잉","서새봄","새봄추","스새봄","새봄"],"sn":["봄"]},"109ace":{"dn":"철면수심","nn":["철수","철수형","철쑤","쑤심","김진배","진배","찻잔","차짬","차돌 짬뽕","차돌짬뽕","김종수","멘보샤","지식은 우정을 대신할 수 없어","백종수","종수"],"cn":"철면수심입니다","cc":"c892177b4d613127d8c587e9da11d384"},"rhdgurwns":{"dn":"공혁준","nn":["공선생","르건즈","혁준이","혁주니","혁준","건즈","공가"],"sn":["공"]},"gmdkdsla":{"dn":"흐앙님","nn":["흐앙"]},"jungtaejune":{"dn":"똘똘똘이","nn":["똘3","똘삼","정태준"],"sn":["똘"]},"newmasca":{"dn":"마스카","nn":["이임혁"]},"mascahs":{"dn":"올드마스카","nn":[]},"steelohs":{"dn":"스틸로","nn":["조강현"]},"kimdoe":{"dn":"김도","nn":["이택기","리택기","택기","킴도"]},"togom":{"dn":"토곰","nn":["토마토곰"]},"htk_":{"dn":"흐트크","nn":[]},"ogn_lol":{"dn":"OGN 롤챔스","nn":[]},"kanetv8":{"dn":"케인","nn":["케조씨"],"cn":"케인88","cc":"7b1acb37b35928ff690d011296a9e5ab"},"yumyumyu77":{"dn":"소풍왔니","nn":["소풍이","소풍","작은풍","원유리","퀸풍","갓니","피쿠니쿠"],"cn":"소풍왔니 sopoong","cc":"089185efc29a8fbe14ea294dc85f9661"},"snarang":{"dn":"스나랑","nn":["서나랑","최선아","렝가맘","북괴랑","간나랑","스나락","스나","서나","이롤","이로리","스느릉","스느르"],"cn":"스나랑 Snarang","cc":"b5da9cbcab300065236b4309ecaf19b7"},"sung0":{"dn":"쥬팬더","nn":[]},"game2eye":{"dn":"홍방장","nn":["홍"]},"cocopopp671":{"dn":"초승달","nn":["승따리","승딸이","승딸","승달","조순달"]},"dingception":{"dn":"딩셉션","nn":[],"sn":["딩"],"cn":"Dingception","cc":"5bc54cdd16c28da324871f8e9c270cad"},"redtea":{"dn":"홍차","nn":[]},"zzamtiger0310":{"dn":"짬타수아","nn":["짬타","김수아","무너여자","문어문어","무너무너","문어여자","짬누","짬느"],"sn":["짬"],"cn":"나짬타수아아니다","cc":"305e94b30f8eab7979914c730427b054"},"rldnddl789":{"dn":"아빠킹","nn":[],"cn":"아빠킹","cc":"1161eb13d304f943542d0c8640928544"},"eulcs1":{"dn":"EU LCS","nn":[]},"kkoma":{"dn":"Kkoma","nn":["꼬마","김정균"]},"1983kej":{"dn":"단군","nn":["김의중","의중","으중이","으중아"],"cn":"단군","cc":"243febdbcba51d2248bd97d23d2085af"},"lol_peanut":{"dn":"Peanut","nn":["피넛","역시넛신","ㅇㅅㄴㅅ","넛신","끠넛","한왕호","왕호"]},"faker":{"dn":"Faker","nn":["faker","페이커","이상혁","상혁","페온","우리혁","페진아"],"sn":["페"]},"nrmtzv":{"dn":"으음","nn":[]},"nicegametv":{"dn":"나겜","nn":[]},"enchantenter":{"dn":"enchantenter","nn":["근첸트","근챈트","인벤","인첸트","인챈트","인첸","인챈","자낳대"],"cn":"ENCHANT","cc":"22bd842599735ae19e454983280f611e"},"capta1n_pony":{"dn":"포니","nn":[]},"huni":{"dn":"Huni","nn":["후니","허승훈"]},"lol_woolf":{"dn":"울프","nn":["울팍","이재완","재완"],"cn":"울프 Wolf","cc":"0b33823ac81de48d5b78a38cdbc0ab94"},"bang":{"dn":"Bang","nn":["배준식","준식"],"sn":["뱅"]},"wpghd321":{"dn":"류제홍","nn":["리우제홍","제홍"],"cn":"류제홍잉","cc":"4955beff2952b35ed236144a4ec79d07"},"yungi131":{"dn":"윤기","nn":[]},"mediamuse":{"dn":"미디어뮤즈","nn":["미뮤"]},"veritaskk":{"dn":"Veritas","nn":["베리타스","싸세","김경민"]},"themarinekr":{"dn":"김정민","nn":["정민","해변킴","해변김"],"cn":"김정민 해변킴","cc":"368ca51e82c85583e059fe669ef0f028"},"tvindra":{"dn":"인드라","nn":[]},"tranth":{"dn":"자동","nn":[],"cn":"찐자동","cc":"84be298681c287441d614db925803c4d"},"seine1026":{"dn":"세인님","nn":[]},"sonycast_":{"dn":"소니쇼","nn":["소니쿤","코니쇼","김가희","가희","손익훈"],"sn":["쇼"]},"dou3796":{"dn":"뱅붕","nn":[]},"lovelyyeon":{"dn":"연두부","nn":[]},"rudbeckia7":{"dn":"연두는말안드뤄","nn":["연두"]},"trisha":{"dn":"트리샤","nn":[]},"naseongkim":{"dn":"김나성","nn":["미친해골","해골","킹나성","그김누","갓나성","네이션킴","내이션킴","나성킴","나성김","나성"],"cn":"김나성","cc":"a9ab391cdd3faef4ca2ee782e96e5c59"},"dlxowns45":{"dn":"태준이","nn":["이태준"]},"handongsuk":{"dn":"한동숙","nn":["동수칸","동숙","한성욱"],"sn":["칸"],"cn":"한동숙입니다","cc":"75cbf189b3bb8f9f687d2aca0d0a382b"},"alenenwooptv":{"dn":"웁_게임방송","nn":[]},"mr_coat":{"dn":"노래하는코트","nn":[]},"ajehr":{"dn":"머독","nn":[]},"lol_crown":{"dn":"Crown","nn":[]},"rooftopcat99":{"dn":"옥냥이","nn":["옥냥"],"sn":["옥"],"cn":"옥냥이 RoofTopCAT","cc":"0d027498b18371674fac3ed17247e6b8"},"myzet1990":{"dn":"개구멍","nn":[]},"yoonroot":{"dn":"윤루트","nn":[]},"sn400ja":{"dn":"액시스마이콜","nn":["마이콜"]},"tape22222":{"dn":"테이프2","nn":[]},"miracle0o0":{"dn":"미라클티비","nn":[]},"bighead033":{"dn":"빅헤드","nn":[],"cn":"빅헤드BIGHEAD","cc":"ca1850b2eceb7f86146695fd9bb9cefc"},"wkgml":{"dn":"견자희","nn":[],"cn":"견1자희","cc":"2c19fcd3a9493340f302f393aff54888"},"queenhuz":{"dn":"후즈","nn":[]},"kiyulking":{"dn":"김기열","nn":[]},"asdn6388":{"dn":"나락호프","nn":[]},"lol_cuvee":{"dn":"Cuvee","nn":["큐베","이성진","성진","커비","큐비","짜황"],"cn":"큐베 Cuvee","cc":"26ae7850ad5b6b09ca864d482dc7fa50"},"vsl":{"dn":"VSL","nn":[]},"drlee_kor":{"dn":"이선생84","nn":["이선생","이센세","리센세","이민우","민우","센세"],"cn":"이 선생","cc":"952e7d21b36d75675894f97e4975bf9f"},"corejj":{"dn":"CoreJJ","nn":["코장","코어장전","꼬장","조용인"]},"lol_ambition":{"dn":"앰비션","nn":["엠비션","강찬밥","강찬용"],"cn":"앰비션","cc":"8a59b34b46271960c1bf172bb0fac758"},"Axenix":{"dn":"아제닉스","nn":[]},"maknoonlol":{"dn":"막눈","nn":[],"cn":"롤막눈","cc":"05aefaaba187ed99c7db2e537249ecf3"},"zilioner":{"dn":"침착맨","nn":["이말년","이병건"],"sn":["침"],"cn":"침착맨","cc":"bb382c2c0cc9fa7c86ab3b037fb5799c"},"timeofcreate":{"dn":"홍랑","nn":[]},"twitchshow":{"dn":"트위치쇼","nn":[]},"kangqui":{"dn":"강퀴","nn":["강승현","퀴저씨","퀴조씨","퀴어빠","퀴오빠","퀴형","흉조"],"sn":["퀴"],"cn":"강퀴88","cc":"1a1dd9ce56fb61a37ffb6f69f6d5b978"},"team_spiritzero":{"dn":"Team Spiritzero","nn":[]},"zizionmy":{"dn":"젼마이","nn":[]},"lol_blank":{"dn":"Blank","nn":["블랭크","강선구","선구","잼구","갓구나이트","갓구"]},"ogn_ow":{"dn":"OGN 오버워치","nn":[]},"juankorea":{"dn":"주안코리아","nn":[]},"woowakgood":{"dn":"우왁굳","nn":["왁굳","오영택","영택","왁두"],"sn":["왁"],"cn":"리얼진짜우왁굳","cc":"c2186ca6edb3a663f137b15ed7346fac"},"www0606":{"dn":"푸딩","nn":[]},"runner0608":{"dn":"러너","nn":["윤대훈"],"sn":["러"],"cn":"러너 Runner","cc":"19e3b97ca1bca954d1ac84cf6862e0dc"},"flowervin":{"dn":"꽃빈","nn":[]},"h920103":{"dn":"이초홍","nn":["초홍"]},"hj0514":{"dn":"백설양","nn":["진희재","희재","백작추","백작","설양"]},"pbstream77":{"dn":"피비스트림","nn":[]},"beyou0728":{"dn":"피유","nn":["끠유","소통퀸","노채리"],"cn":"피유 beyou","cc":"2ff1d72d0199e3607188df2ce16ce170"},"serayang":{"dn":"세라양","nn":["양새아","쉐굴"]},"mister903":{"dn":"갱생레바","nn":["레바"]},"what9honggildong":{"dn":"왓구홍길동","nn":[]},"chicken_angel":{"dn":"통닭천사","nn":[]},"godbokihs":{"dn":"갓보기","nn":[]},"ronaronakr":{"dn":"로나로나땅","nn":["열파참","열파","요루파짱","요루파쨩","요루파땅","이루마야 요루파쨩","로나땅","로나짱","로나쨩","로나로나쨩","로나로나짱","로나"]},"kimminyoung":{"dn":"아옳이","nn":["김민영"]},"gabrielcro":{"dn":"가브리엘","nn":["가비"]},"starcraft_kr":{"dn":"스타크래프트 KR","nn":[]},"yeziss":{"dn":"신예지","nn":[]},"ch1ckenkun":{"dn":"치킨쿤","nn":["차보해","보해"],"cn":"치킨쿤","cc":"4b00ded9b083e31c29dc509d7e063c7a"},"lds7131":{"dn":"더헬","nn":[]},"nodolly":{"dn":"노돌리","nn":["김현윤"],"cn":"노돌노돌리","cc":"ec857bee6cded06df19dae85cf37f878"},"haku861024":{"dn":"정직원","nn":[]},"nanajam777":{"dn":"우정잉","nn":["정잉","애기바론","킹기바론","잉비","쇼메잉커","잉이커"],"cn":"real우정잉","cc":"6703b9c073ea2650e08403b9a7a61a6f"},"leehunnyeo":{"dn":"나는루다","nn":["별루다","이루아","루다"],"cn":"루 다","cc":"c0d9723cbb75dc223c6aa8a9d4f56002"},"streamer2u":{"dn":"이유님","nn":[]},"hatsalsal":{"dn":"햇살살","nn":[],"cn":"햇살살","cc":"2c3d33db0543d96700ec6d1ad83090a2"},"pommel0303":{"dn":"폼멜","nn":[]},"hosu0904":{"dn":"호수","nn":[]},"surrenderhs":{"dn":"서렌더","nn":["티나","김정수"]},"eukkzzang":{"dn":"윾짱","nn":[]},"gageu":{"dn":"가그","nn":[]},"ange_i":{"dn":"요뿌니","nn":[]},"menpa1030":{"dn":"멘파","nn":[]},"dua3362":{"dn":"서넹","nn":["서빙"],"cn":"서넹입니다","cc":"5777797bab18388e7044ed7bac3c56c8"},"dda_ju":{"dn":"다주","nn":["주다영"],"cn":"핫다주","cc":"bdc57cc4217173f0e89f63fba2f1c6e5"},"taesangyun":{"dn":"태상","nn":[]},"oreo4679":{"dn":"리치1","nn":[]},"dmdtkadl69":{"dn":"응삼이","nn":[]},"sigwon":{"dn":"시권","nn":[]},"rngudwnswkd":{"dn":"푸린","nn":["구형준","형준"],"cn":"푸린P","cc":"75bd327f6ba6f57106c79fe3f2c3d19f"},"jungjil":{"dn":"정질","nn":[]},"ses836":{"dn":"인간젤리","nn":["인젤","젤리","쩰리","곽석호","석호","곽샤코"],"sn":["젤"],"cn":"인간젤리 곽석호","cc":"034449b176b163a705b9c0e81f7a51c2"},"DrAquinas":{"dn":"DrAquinas","nn":["독타","김보영"]},"tree2512":{"dn":"말퓨","nn":[]},"frog135":{"dn":"게구리","nn":[]},"leechunhyang":{"dn":"이춘향","nn":["이쭈냥","쭈냥","춘향","티모좌"],"sn":["춘"]},"cherrypach":{"dn":"꽃핀","nn":[]},"yd0821":{"dn":"양띵","nn":["양명"]},"2chamcham2":{"dn":"탬탬버린","nn":["탬탬","탬황"],"sn":["탬"],"cn":"찐짜탬탬버린","cc":"a7e175625fdea5a7d98428302b7aa57f"},"jinu6734":{"dn":"김진우","nn":["진우","지누"],"cn":"김진우P","cc":"2086f44c7b09a17cef6786f21389db3b"},"ddolking555":{"dn":"똘킹","nn":[]},"erenjjing":{"dn":"에렌디라","nn":[]},"suk_tv":{"dn":"석티비","nn":[]},"h0720":{"dn":"군림보","nn":[],"cn":"군림보","cc":"ee6cf431c059872dcaaf5c788da9d87d"},"rellacast":{"dn":"렐라","nn":["앗앗"]},"silphtv":{"dn":"실프","nn":[],"cn":"실프123","cc":"d6fc3283fe0938bca8d65093e4c2bb94"},"playhearthstonekr":{"dn":"playhearthstonekr","nn":[]},"mirage720":{"dn":"미라지","nn":[]},"1am_shin":{"dn":"신기해","nn":[]},"maruemon1019":{"dn":"마루에몽","nn":[]},"ulsanbigwhale":{"dn":"울산큰고래","nn":[]},"areuming":{"dn":"알밍","nn":[]},"esther950":{"dn":"에쓰더","nn":[]},"pacific8815":{"dn":"쌍베","nn":["쌍베르만","전상빈","쌍배"],"sn":["쌍"],"cn":"쌍베 SsangBe","cc":"dcd75ef0f2c664e3270de18696ad43bf"},"dogswellfish":{"dn":"개복어","nn":[],"cn":"레알개복어","cc":"55e243bd868e55adf3524c85f8db51b5"},"yeonchobom":{"dn":"연초봄","nn":[]},"ssambahong":{"dn":"쌈바홍","nn":["홍진영"]},"Twipkr":{"dn":"트윕KR","nn":[]},"reniehour":{"dn":"레니아워","nn":[],"cn":"레니아워 RenieHouR","cc":"0f4d9f20aa461c5da5c68e4e65d35ff9"},"caroline9071":{"dn":"숑아","nn":[]},"funzinnu":{"dn":"Funzinnu","nn":["펀즈","펀가놈","펀가"]},"loveseti":{"dn":"미모","nn":[]},"kimgaeune":{"dn":"김총무님","nn":[]},"1uming":{"dn":"루밍이","nn":["루밍"]},"free_k01":{"dn":"김영일","nn":["K01","김01","영일이","영일","암드아저씨"]},"sal_gu":{"dn":"살구","nn":["살협","살구"],"cn":"살구 salgu","cc":"7efa5b40ee1729ac57d3adbebf3ddb3c"},"flurry1989":{"dn":"플러리","nn":["로맨틱겨울","로겨","로7ㅕ","조현슈","존스슨스","조동아리","후라리","조현수","조헨슈","조현슈","겨라리","겨러리","훌렁이","훌러리","후라리","후러리","훌렁","러리"],"sn":["겨"],"cn":"플러리 Flurry","cc":"fe558c6d1b8ef3206ac0bc0419f3f564"},"holsbro":{"dn":"홀스형","nn":["홀스","정진호"]},"hn950421":{"dn":"고말숙","nn":["말숙"]},"jaeheeng2":{"dn":"햄재희","nn":["재희"]},"hwkang2":{"dn":"캡틴잭","nn":["캡잭","캡짹","잭선장","강형우","형우"],"sn":["잭"],"cn":"캡틴잭 Cpt Jack","cc":"74f9f433dd8866bf69f6c930a64d06a8"},"yunlovejoy":{"dn":"도여사","nn":[]},"yatoring":{"dn":"야토링","nn":[]},"lolluk4":{"dn":"루ㅋ4","nn":[]},"rkdthdus930":{"dn":"강소연","nn":["타노스","탑분쇄기","수장님","화웅","소연"],"cn":"강소연1","cc":"dc7fb0d085cfbbe90e11836e3b85b784"},"seogui":{"dn":"서긔","nn":[]},"yagubu":{"dn":"매직박","nn":["직박","재성","박재성","재성바래비투스"],"cn":"Dentist 매직박","cc":"be50c08abd2f4a0c4691907351371872"},"pikra10":{"dn":"재슥짱","nn":["재스기","이재석"]},"playoverwatch_kr":{"dn":"오버워치 이스포츠","nn":[]},"maxim_korea_official":{"dn":"남자매거진맥심","nn":["맥심","맥심코리아"]},"hanururu":{"dn":"하느르","nn":[]},"obm1025":{"dn":"오킹","nn":[],"cn":"오킹테레비","cc":"0f9a3b4fbb0e7137d1f0b4d70563031c"},"acro_land":{"dn":"아크로","nn":[]},"choerakjo":{"dn":"최락조","nn":[]},"megthomatho":{"dn":"맥또마또","nn":["맥또"]},"s1032204":{"dn":"삐부","nn":["삐뿌"],"cn":"삐부2","cc":"5f44570b82fb82d4814ef9502cf6401a"},"rkdwl12":{"dn":"강지","nn":[],"cn":"강지12","cc":"b5ed5db484d04faf4d150aedd362f34b"},"jaewon4915":{"dn":"김재원","nn":["재원","메이코패스","메이코"]},"zennyrtlove":{"dn":"신재은","nn":[]},"2sjshsk":{"dn":"유누","nn":[]},"queenmico":{"dn":"미코","nn":[]},"lsd818":{"dn":"득털","nn":[]},"wlswnwlswn":{"dn":"진주몬","nn":["찐주몬","송진주","찐주","진주"]},"haksalow":{"dn":"학살","nn":[]},"sunbaking":{"dn":"선바","nn":[]},"rockid1818":{"dn":"모모88","nn":["모8모","모모","오나윤","나윤"]},"moogrr1211":{"dn":"무굴","nn":[]},"twitchkr":{"dn":"TwitchKR","nn":[]},"tlfjaos":{"dn":"시러맨","nn":[]},"dawnhs":{"dn":"DawN","nn":["장현재"],"sn":["던"],"cn":"던 DawN","cc":"dc740d5bb5680666b6bf2ebc58a8203f"},"mata":{"dn":"마타타마","nn":["마타","마따"]},"lol_khan":{"dn":"Khan","nn":[],"sn":["칸"]},"buzzbean11":{"dn":"대도서관","nn":["머도서관","대도","머도","나동현"]},"mhj1682":{"dn":"카트문호준","nn":["문호준"]},"remguri":{"dn":"렘쨩","nn":[]},"heavyrainism":{"dn":"호무새","nn":[],"cn":"HeavyRainy","cc":"aef0c98592271de9ec4906eca2987e05"},"lck_korea":{"dn":"LCK Korea","nn":["롤챔스","롤챔"]},"lol_madlife":{"dn":"매드라이프","nn":["매라","매멘","매맨","ㅁㅁ","메라","홍민기"],"cn":"매드라이프 MadLife","cc":"371f95608d4571bdac607270e8b955c3"},"lol_helios":{"dn":"헬리오스","nn":[]},"wlstla2":{"dn":"더샤이","nn":["더 샤이","강형","강승록","승록","TheShy","theshy"]},"pparkshy":{"dn":"샤이","nn":[]},"pubgkorea":{"dn":"PUBGKorea","nn":[]},"riotgames":{"dn":"Riot Games","nn":[]},"lisalove":{"dn":"리즈리사","nn":[]},"mbcmlt":{"dn":"엠비씨마리텔","nn":[]},"mbcmlt1":{"dn":"엠비씨마리텔1","nn":[]},"mbcmlt2":{"dn":"엠비씨마리텔2","nn":[]},"mbcmlt3":{"dn":"엠비씨마리텔3","nn":[]},"mbcmlt4":{"dn":"엠비씨마리텔4","nn":[]},"mbcmlt5":{"dn":"엠비씨마리텔5","nn":[]},"mbcmlt6":{"dn":"엠비씨마리텔6","nn":[]},"mbcmlt7":{"dn":"엠비씨마리텔7","nn":[]},"mbcmlt8":{"dn":"엠비씨마리텔8","nn":[]},"mbcmlt9":{"dn":"엠비씨마리텔9","nn":[]},"insec13":{"dn":"인섹","nn":["최인석","인석"],"cn":"insec93","cc":"47c49bff55111a6cfd30bb299e9d2e5d"},"realkidcozyboy":{"dn":"키드밀리","nn":[]},"sbsmobile24":{"dn":"스브스","nn":[]},"baeguson":{"dn":"배성재","nn":["배거슨"]},"ok_ja":{"dn":"박옥자누나","nn":["박옥자","옥자","김나영","나영","옥구리"]},"boxer_lim":{"dn":"임요환","nn":[],"sn":["임"]},"kimukihun":{"dn":"기무기훈","nn":[]},"sasin_god":{"dn":"사신갓","nn":["사신"]},"dardarae":{"dn":"달다래오","nn":["차짬좌"]},"taezzang":{"dn":"태은짱","nn":["태은쨩","이태은","태은"]},"jammi95":{"dn":"잼미님","nn":["잼미"]},"coppag2":{"dn":"꿀혜","nn":[]},"overwatchleague_kr":{"dn":"오버워치리그","nn":[]},"fastloves":{"dn":"홍진호","nn":[],"sn":["콩","홍"]},"jinsooo0":{"dn":"진수0","nn":["진수도사","진수","도사님","도사","영판항"]},"wltn4765":{"dn":"지수소녀","nn":["박지수","칸지수","지게소녀","지들스틱","지수걸","지수"],"cn":"지수소녀99","cc":"14d7d30bb75a80c63a2296d8b1e452bd"},"gamesdonequick":{"dn":"GamesDoneQuick","nn":["겜던퀵"]},"dragon3652":{"dn":"스피드소닉","nn":[],"cn":"스피드소닉","cc":"714205d014f45e311dcfdafcf9e7400f"},"parkjand":{"dn":"박잔디","nn":["잔디"],"cn":"박 잔 디","cc":"52475b4f261f315b3fca7885bf154f1a"},"jinnytty":{"dn":"윰찌니","nn":[]},"danpaeng2":{"dn":"단팽이","nn":[]},"inas1220":{"dn":"야생의딸기","nn":[]},"limlim72":{"dn":"진자림","nn":[]},"bongsoon0115":{"dn":"봉순","nn":[]},"eodyd188":{"dn":"밴쯔","nn":["벤쯔"]},"duedrop":{"dn":"권이슬","nn":["이슬이","이스리","권자봉"]},"so_urf":{"dn":"소우릎","nn":[],"sn":["릎"],"cn":"우릎","cc":"fc00d47a77ed2d1156cd5997eba30310"},"lo10002":{"dn":"혜요","nn":[]},"mari0712":{"dn":"마리","nn":[]},"defconntv":{"dn":"데프콘","nn":["트프콘","대준이","유대준"]},"b14ckt41e":{"dn":"검은동화","nn":["검동"]},"ninja":{"dn":"닌자","nn":[]},"shroud":{"dn":"슈라우드","nn":[]},"xkwhd":{"dn":"피닉스박","nn":["박종우!","박종우","종우","피박"],"sn":["굽"]},"bsll7777":{"dn":"금다정","nn":["야망좌"]},"tmxk319":{"dn":"괴물쥐","nn":["장지환","커물쥐","지환"]},"jasper0414":{"dn":"재스퍼","nn":["제스퍼"]},"cbrace":{"dn":"중괄호","nn":[]},"rukozzang":{"dn":"루코","nn":["마루코","원주은","주은"]},"charming_jo":{"dn":"조매력","nn":["차밍조","챠밍조","조력사무소"]},"leeyl1118":{"dn":"영림이","nn":["영림"]},"soming1907":{"dn":"소밍","nn":[]},"kimpoong_official":{"dn":"김풍","nn":[]},"ma_mwa":{"dn":"마뫄","nn":["뫄마","뫄황"],"sn":["뫄"],"cn":"마뫄","cc":"219d8e65810a77d6e42c7df018d9632b"},"kerokero_":{"dn":"케로","nn":[]},"yurani":{"dn":"이유란","nn":["유란"]},"kitekorea":{"dn":"고래까와","nn":[]},"itopicy":{"dn":"용봉탕","nn":["봉탕"]},"matarzzz":{"dn":"행수","nn":[]},"yeji429":{"dn":"정예지","nn":["예지","예팡이","예팡"]},"t1_teddy":{"dn":"테디이","nn":["테디"]},"clid":{"dn":"클리드","nn":[]},"seulsiho":{"dn":"슬시호","nn":["슬쇼"]},"yeokka":{"dn":"여까","nn":[]},"kimdduddi":{"dn":"김뚜띠","nn":["뚜띠"],"cn":"김뚜띠2","cc":"2eee29ce69664154d8bc478825941259"},"collet11":{"dn":"코렛트","nn":[],"cn":"코렛트1","cc":"4b2f27574a2e60d15bd53f94cbfc4066"},"sabin1":{"dn":"사빈","nn":[]},"robok2016":{"dn":"로복님","nn":["로복"]},"salakill2":{"dn":"너겟","nn":[]},"mununyu":{"dn":"무뉴뉴","nn":["잼뉴뉴"]},"micka1120":{"dn":"믹카","nn":["믹키몬드"]},"dosroda":{"dn":"두스로다","nn":[]},"vzeros88":{"dn":"규현","nn":[]},"inecr7024":{"dn":"삼식","nn":["한승준"],"cn":"삼식123","cc":"1c231568d0b13de5703b3f6a5e86dc47"},"tekken":{"dn":"TEKKEN","nn":[]},"yuhwanp":{"dn":"빢유환","nn":[]},"kumikomii":{"dn":"고차비","nn":[]},"uzuhama":{"dn":"우주하마","nn":[]},"dkwl025":{"dn":"양아지","nn":[],"cn":"양아지님","cc":"9b0071057ef9a7099b7aad8d77fb6cd6"},"rainblue37":{"dn":"김블루","nn":[],"cn":"악동 김블루","cc":"0de8f1807076169b7eb9218137e99c51"},"lucia94":{"dn":"루시아","nn":[]},"d2kyun":{"dn":"김느","nn":[]},"t1_haru":{"dn":"SKTT1 Haru","nn":["하루"]},"box930205":{"dn":"와나나","nn":[],"cn":"진짜 와나나","cc":"dc7e2b07ad4c51151bcc96f5df57da9e"},"nineunni":{"dn":"니네언니","nn":[]},"djhenney":{"dn":"djhenney","nn":["표은지"]},"pjs9073":{"dn":"쫀득이","nn":["쫀득","박준석","준석"],"cn":"쫀득님","cc":"b97b13b0db272c91e33d7fe6c2af9dce"},"nanayango3o":{"dn":"나나양","nn":[],"cn":"나나 양","cc":"80b36a0ae8e887e893ce0014dbfece4a"},"hejin0_0":{"dn":"헤징","nn":[],"cn":"헤징0ㅅ0","cc":"21a0de8b586c517181d76f183272de57"},"reapered":{"dn":"Reapered","nn":["레퍼드","래퍼드","레갈량","래갈량","복한규","한규"],"cn":"Reapered","cc":"d03b51dac7d9a54a6cfb47fc3222a500"},"loven4862":{"dn":"솔빈","nn":[]},"bonnysurang":{"dn":"김반희","nn":[]},"genius_mad":{"dn":"지니어스매드","nn":[]},"riotgames_korea":{"dn":"RiotGames Korea","nn":["라이엇코리아","라코"]},"nokduro":{"dn":"녹두로","nn":["두로"],"cn":"녹두로로","cc":"6e06f5e1907f17eff543abd06cb62891"},"magenta62":{"dn":"마젠타","nn":["젠타"]},"edoongs2":{"dn":"에디린","nn":[]},"yattaa_":{"dn":"얏따","nn":["오얏따","오연하"],"cn":"얏따 Yattaa","cc":"d185099b64dd8ca6b96a51ee3e9011c2"},"nnabi":{"dn":"연나비님","nn":["연나비"]},"akvl1229":{"dn":"김은별컴퍼니","nn":["김은별"]},"discoverwcg":{"dn":"discoverWCG","nn":["WCG","wcg"]},"atk":{"dn":"ATK","nn":["알버트킴","알버트","알보토","알굴","알킴","사쵸상"]},"rhea90":{"dn":"춘샘","nn":["춘쌤"]},"roadofthestrength":{"dn":"힘의길","nn":["힘길"],"cn":"힘의길","cc":"4381ccfe5a18fd32558743e902e7d884"},"zoodasa":{"dn":"주다사","nn":[]},"crazzyccat":{"dn":"크캣66","nn":["크캣","크레이지캣","김동희","동희"],"cn":"크캣","cc":"b628d1039a84ecc703804e17acee2eb3"},"ogn":{"dn":"OGN","nn":["온게임넷","온겜"]},"lpl":{"dn":"LPL","nn":[]},"honeylatte":{"dn":"꿀라떼","nn":[]},"eff2ct":{"dn":"이펙트","nn":[]},"ogn_e":{"dn":"오지네","nn":[]},"heesu216":{"dn":"희수","nn":[]},"sikkazama":{"dn":"식빵월드","nn":["식빵아재","식빵 아재","식빵"]},"nunu836836":{"dn":"익산누누","nn":[]},"aram4519":{"dn":"과로사","nn":[]},"firebather":{"dn":"흑운장티비","nn":["흑운장","이성은"]},"rafraf2016":{"dn":"라프입니다","nn":["라프"]},"moonwol0614":{"dn":"문월님","nn":["문월"]},"sooflower":{"dn":"수련수련","nn":["야련코련","수련"],"cn":"수련X수련","cc":"083c66a5cfce51967bcad5c1b0b86e5d"},"afreeca_tv":{"dn":"아프리카TV","nn":[]},"nobugi":{"dn":"노부기","nn":["노민경"]},"portialyn":{"dn":"포셔","nn":[],"cn":"포셔Portia","cc":"f39c3d74e33a81ab3080356b91bb8de5"},"724sof":{"dn":"소프소프","nn":["소프"]},"battledogtv":{"dn":"BattledogTV","nn":["배틀독"]},"ranran2_":{"dn":"란란","nn":[]},"abc16789":{"dn":"요룰레히","nn":[]},"surinoelcats":{"dn":"수리노을","nn":[]},"sorimcaster":{"dn":"정소림","nn":["소림좌","소림"],"cn":"정소림캐스터","cc":"666a784d1047c8d3ecc7bfb3e63ea3b4"},"cdprojektred":{"dn":"CD PROJEKT RED","nn":[]},"akaros83":{"dn":"AKaros83","nn":["아카로스","장지수","겐지수"]},"sis_ram":{"dn":"람언니","nn":[]},"heeduji":{"dn":"히더지","nn":[]},"newthingtv":{"dn":"뉴띵","nn":[]},"broodling2":{"dn":"김초짜","nn":["초짜"]},"aoakwmf":{"dn":"조나스트롱","nn":["이진세","진세","조나"]},"dq12345":{"dn":"알티갓","nn":[]},"playbattlegrounds":{"dn":"playBATTLEGROUNDS","nn":[]},"pony_lol":{"dn":"포니","nn":[]},"heehee1004":{"dn":"배린희","nn":[]},"dakong_":{"dn":"다콩","nn":[]},"juyoung1114":{"dn":"갓샤인","nn":[]},"dalto_ov":{"dn":"달토","nn":[]},"doublelift":{"dn":"Doublelift","nn":["더블리프트","덮립","덮맆","피터 펭","피터펭"]},"wadid":{"dn":"Wadid","nn":["와디드","김배인","배인"]},"hanna3691":{"dn":"불누나","nn":[]},"yuwol":{"dn":"유월쨩","nn":["유월짱","유월"]},"damicoss":{"dn":"김다미","nn":[]},"a60426042":{"dn":"씨맥","nn":["cvmax","CVmax","김대호","대호"]},"donaldtrump":{"dn":"DonaldTrump","nn":["도날드 트럼프","트럼프","트황상","갓럼프","킹럼프"]},"thdlqslek":{"dn":"쏘입니다","nn":[]},"heydaystudios":{"dn":"HeydayStudios","nn":[]},"trackingthepros":{"dn":"TrackingThePros","nn":[]},"garimto":{"dn":"가림토김동수","nn":["가림토","김동수"]},"tvcrank":{"dn":"크랭크","nn":[],"cn":"크랭크","cc":"de27c33ee2364c4e5007867bb3b96001"},"tomboaaa":{"dn":"톰보아","nn":["김보아"]},"sutjr1006":{"dn":"폰폰폰폰폰","nn":["허원석","폰대관"]},"swab85":{"dn":"승우아빠","nn":["승빠","목진화","볶진화","진화"]},"tst1023":{"dn":"갱맘","nn":["이창석","창석","깽맘","GBM"],"sn":["갱"]},"lol_ruler":{"dn":"룰러어","nn":["룰러","박재혁"]},"sudihomt":{"dn":"수디홈트","nn":["수디"]},"xordn123456":{"dn":"텔론","nn":[],"cn":"텔론","cc":"a213532964452f5609e0992716ccfe5a"},"fareeha":{"dn":"Fareeha","nn":["파리하"]},"nariddyang":{"dn":"나리땽","nn":["나리코스"]},"onmumunet":{"dn":"아무무임","nn":["온무무넷"]},"score1992":{"dn":"스코어","nn":["고동빈","스고수","코돈빈"]},"nara_kyle":{"dn":"나라카일","nn":["서지선"]},"misschoon":{"dn":"나미춘","nn":["윤태진","태콩","흥미춘","미스춘"]},"overlyproud":{"dn":"Overly Proud","nn":[]},"pianocatvr":{"dn":"피아노캣","nn":["피캣"]},"chicchakunaiyo":{"dn":"りぽぽ","nn":["리포포","리뽀뽀"]},"ppoil12":{"dn":"선호산앉은호산","nn":["선호산","호산이","호산"]},"whyman3":{"dn":"왜냐맨복무중","nn":["왜냐맨","킹냐맨","장민철","민철","왜냐","킹냐"]},"bostossmc":{"dn":"왜냐맨본채널","nn":[]},"poqrs3077":{"dn":"재넌","nn":["이재원","재넌임"]},"psjqkrtjdwn":{"dn":"미내기요","nn":["미내기"]},"hamzzizzang1":{"dn":"기뮨디","nn":["뮨디"]},"ao_oavv":{"dn":"잉갱","nn":[]},"yurijoa":{"dn":"YuriJoa","nn":["유리조아","홍콩유리","홍유리"]},"jjorongho":{"dn":"달끼","nn":[]},"bobross":{"dn":"BobRoss","nn":["밥로스"]},"sukimos":{"dn":"서키모스","nn":[]},"ingne135":{"dn":"천제누구","nn":[]},"hopekim1":{"dn":"김희망","nn":[]},"ges_farmer":{"dn":"농부","nn":[]},"axinia_k":{"dn":"악시니아","nn":[]},"kimgapju":{"dn":"김갑주","nn":["갑주"]},"pangaeapanga":{"dn":"PangaeaPanga","nn":["팡가"]},"noizemasta":{"dn":"주펄","nn":["주호민","파괴왕","파주스님","주키마우스"],"sn":["펄"]},"remilegi":{"dn":"레밀레기","nn":["레밀리아","박현욱"]},"jdm2088":{"dn":"악어","nn":["진동민"]},"t1_cuzz":{"dn":"커즈","nn":["문우찬","우찬","귀즈","커제"]},"lcs":{"dn":"LCS","nn":["lcs"]},"sanago_kr":{"dn":"사나고","nn":[]},"he0901":{"dn":"해기님","nn":["해기인","해기","룩삼님의발닦개","해황"],"cn":"해기123","cc":"876a11956e742732060c4a2151128262"},"flurrylove":{"dn":"FlurryLove","nn":["플러리러브","플럽"]},"msfiiire":{"dn":"MSFIIIRE","nn":["파이어누나","미스파이어","파이어"]},"sss_itv":{"dn":"서울스트리밍스테이션","nn":[]},"tfblade":{"dn":"TFBlade","nn":["TF","tf","블렁이","블렁","아쉬칸","후마유니","애쉬칸","호메윤"]},"ddobomi514":{"dn":"또보미","nn":[]},"inihance":{"dn":"김하늘피디","nn":["김하늘 피디","김하늘PD","김하늘 PD","김하늘","김스카이","쥬지맨"]},"paka9999":{"dn":"파카9999","nn":["파카"]},"lec":{"dn":"LEC","nn":[]},"pax2":{"dn":"PAX2","nn":[]},"drxglobal":{"dn":"DRXGlobal","nn":[]},"esl_csgo":{"dn":"ESL_CSGO","nn":[]},"lol_keria1":{"dn":"케리아이","nn":["keria","캐리아","케리아","류민석","민석"]},"arelogic":{"dn":"알로직","nn":[]},"0120kisum":{"dn":"키썸입니다","nn":["키썸","조혜령","혜령","경기도의딸","경기도의 딸"]},"bjummma":{"dn":"창현거리노래방","nn":["창현"]},"dbsgkrud22":{"dn":"경이2","nn":["경이"]},"nubam_":{"dn":"너밤","nn":[]},"gorapadong_":{"dn":"고라파동","nn":[]},"lolrich1":{"dn":"리치1","nn":["이세계페이커","히오쑤왕","히오스왕","우리치","리치게이","리치","이재원"]},"kamjhl":{"dn":"꼴픽이","nn":["꼴픽"]},"angehayun":{"dn":"달려라하유니","nn":["하유니"]},"kbo1":{"dn":"한국프로야구1","nn":["KBO1"]},"kbo2":{"dn":"한국프로야구2","nn":["KBO2"]},"kbo3":{"dn":"한국프로야구3","nn":["KBO3"]},"kbo4":{"dn":"한국프로야구4","nn":["KBO4"]},"kbo5":{"dn":"한국프로야구5","nn":["KBO5"]},"weathernewslive":{"dn":"ウェザーニュース","nn":["웨더뉴스라이브","웨더뉴스"]},"tgdstation":{"dn":"트게더라이브","nn":["트게더"]},"agueppo":{"dn":"아구이뽀","nn":["아게로"],"cn":"아구 이뽀","cc":"e112cad680f895d13769c43f56171b4a"},"agu_tv":{"dn":"아구","nn":[]},"dopa24":{"dn":"DOPA","nn":["정상길","상길","도파"]},"kbr943":{"dn":"새빨간콜라","nn":[]},"dxj002":{"dn":"단장002","nn":["단장"]},"chunmuk2":{"dn":"고추참치2","nn":["고추참치","고참"]},"chyeonz":{"dn":"채현찌","nn":["채현","채아가"]},"lilpearl_":{"dn":"릴펄","nn":[]},"liok0485":{"dn":"순당무","nn":["전수진","참수진","델리 알리","델리알리"]},"marin000":{"dn":"마린","nn":["장경환","커물장","커피물조절장인"]},"ilku1023":{"dn":"데프트","nn":["김혁규","김혁뀨","혁규","혁뀨","알파카","킹프트","황프트","갓프트"]},"choi88255":{"dn":"도란","nn":["최현준"]},"pyosixs":{"dn":"표식","nn":["홍창현"]},"wjdcyql":{"dn":"쵸비","nn":["정지훈","킹비","갓비"]},"mozzimanduv":{"dn":"모찌만두","nn":["곽민주"]},"9ambler":{"dn":"감블러","nn":["허진우","블러","붕어"],"cn":"감블러","cc":"0974bf2ded8c3e124797f7be6d1bdbb5"},"d_obby":{"dn":"김도현","nn":["도현"],"cn":"진짜도현","cc":"c68b8ef525fb3d2fa146344d84991753"},"slemf4062":{"dn":"개인팟","nn":["서정길"]},"quaddurup":{"dn":"꽈뚜룹","nn":[]},"claire_luvcat":{"dn":"크언니","nn":["크집사","크림히어로즈"]},"dosdosyo1":{"dn":"두스요","nn":["두스두스요"]},"dosmovie":{"dn":"두스무비","nn":[]},"jiudau":{"dn":"지우다우","nn":[]},"lvupgg":{"dn":"LVUPgg","nn":[]},"sunha_cos":{"dn":"밍선하","nn":["선하"]},"haxxnini":{"dn":"하니니","nn":[]},"itsmejanna":{"dn":"김달걀","nn":["달걀","김샛별","에그라이프"]},"kidmo_":{"dn":"키드모","nn":[]},"wkddydwns0318":{"dn":"고오스트","nn":["고스트","성령좌","성령","장용준","고버지","황스트"]},"GhostGC":{"dn":"하스 고스트","nn":["박수광","박수팡","수광","수팡"]},"nuclear220":{"dn":"뉴클리어220","nn":["뉴클리어","신정현","핵붕이","우리핵","핵슐리강","뉴클"]},"beryl0202":{"dn":"베릴22","nn":["베릴좌","조건희","할베릴","베릴","건희"]},"gjtn9664":{"dn":"쇼메쇼메","nn":["쇼메이커","쇼메","김허수","허수","상하이 도서관장"]},"aingchuu":{"dn":"아잉츄","nn":[]},"flamekr":{"dn":"플레임","nn":["갓텍","갓택","이호종","호종","71장님","기장님"],"cn":"Flame 플레임","cc":"8b3e8e3a13201cff0836c69cfab62f45"},"untara":{"dn":"운타라","nn":["박의진","의진맨","의진","운식당","운플릭","운각하"],"cn":"운타라입니다","cc":"aedecd121e2cf471fd8510f980cac8b1"},"swon5274":{"dn":"원정상","nn":[]},"gkqjem099":{"dn":"성질급한나무늘보","nn":["나무늘보","유재민","탈모걸린고슴도치"]},"ohanagirl":{"dn":"おはな","nn":["오하나걸","오하나"]},"kaori_bsp":{"dn":"Kaori","nn":["카오리"]},"yeopu":{"dn":"여푸","nn":["강채윤","채윤"]},"sorammmm":{"dn":"소람잉","nn":["소람","소라미","잉맘","잉황"]},"hdragon8":{"dn":"한상용","nn":["상용","한상드래곤","H드래곤"]},"eul___e":{"dn":"이을이","nn":["이으리"]},"gumayusi":{"dn":"Gumayusi","nn":["구마유시"]},"minsuk5964":{"dn":"빞케이","nn":[]},"sktfly12":{"dn":"챌린저미드김홍주","nn":["김홍주","홍주"]},"rutaey":{"dn":"루태","nn":[]},"lita282":{"dn":"리타","nn":[]},"god25lita":{"dn":"갓리타","nn":[],"cn":"갓 리타","cc":"edd1d5c7c3a79a8576c06cb76a1b68a6"},"sailorm09":{"dn":"연호양","nn":[]},"gkssk446":{"dn":"한냥","nn":[]},"kim_yu_diii":{"dn":"김유디","nn":["유디"]},"isole01":{"dn":"이솔레","nn":["솔레"]},"iwtd1102":{"dn":"응선생","nn":["응센세"]},"01bd02":{"dn":"소행성612","nn":["소행성","소반꿀","사행성","태행성","행성"]},"nal_ra0315":{"dn":"강민","nn":["몽상가","광민","강존야"]},"persimmon0927":{"dn":"박홍시","nn":[]},"nimbleneuron":{"dn":"nimbleneuron","nn":["님블뉴런"]},"luna_ddd":{"dn":"야채빵","nn":[]},"jungryeok":{"dn":"중력","nn":["박중력","그래비티 박","그래비티박","그래비티"],"cn":"중 력","cc":"616da0a177bb2c635e1fef8d2b64d97a"},"nambong94":{"dn":"남봉","nn":["김남엽","남엽","김남봉","미스터 클레드","미스터클레드","클레드","냄봉쓰","냄봉"],"cn":"김남봉","cc":"ac6a03808bffbe58b3bfb0e25271836e"},"baedony":{"dn":"배돈","nn":["바통령","김종찬","종찬"],"cn":"찐배돈","cc":"554e99695decc451d57788b1fd5d5c07"},"sees360":{"dn":"쿠하","nn":[]},"nubulswamp":{"dn":"너불","nn":["황인준","인준","너부리"]},"necklet880707":{"dn":"네클릿","nn":["김민기","네버지","클릿"],"cn":"네클릿 Necklet","cc":"dff5fc9706f8260682ce6eb93acaad64"},"sweet_glace92":{"dn":"글라세","nn":[]},"sea_vtuber":{"dn":"세아스토리","nn":["세아"]},"hi_meyo":{"dn":"미요님","nn":["미요"]},"yoowooyang":{"dn":"유우양","nn":[],"cn":"유우양","cc":"35382c3e4fcb9ffccb4cb97d3bddabcf"},"shrkf":{"dn":"정노페","nn":["노페","정노철"],"cn":"노페","cc":"f20881fce506174330ecb58342c4c70d"},"alclsto515":{"dn":"꼬꼬갓","nn":["고수진"]},"tlimpact":{"dn":"임팩트","nn":["정언영","언영","어녕이"]},"frozen2065":{"dn":"프로즌","nn":["김태일","태일아","태일"]},"zz5152zz":{"dn":"땅우양","nn":["한상우"]},"olleh":{"dn":"올레","nn":["김주성"]},"lol_blossom":{"dn":"블라썸","nn":["박범찬"]},"aba4647":{"dn":"랄로","nn":[]},"kayclef":{"dn":"고영배","nn":[]},"om0322":{"dn":"새옴","nn":["새오미"]},"gyu_0227":{"dn":"굠굥이","nn":["굠굥"]},"limsua_":{"dn":"임수아","nn":[]},"dahyeon_chu":{"dn":"다현쮸","nn":[]},"sezzang123":{"dn":"임세모","nn":[]},"gksmf0f0":{"dn":"마음잉","nn":[]},"melonell":{"dn":"플루트레미","nn":[]},"midany":{"dn":"미단이","nn":[]},"choiyum1004":{"dn":"귀요우밍","nn":[]},"welshkoby":{"dn":"웰시코비","nn":[]},"radada_":{"dn":"쏨야찌","nn":[]},"eunjisday":{"dn":"정아치","nn":[]},"sicomsaecom":{"dn":"신맛","nn":["신마시"]},"ghghgigi":{"dn":"정병소녀","nn":[]},"zoozzang":{"dn":"쥬짱","nn":[]},"zzanicoya":{"dn":"쨔니","nn":[]},"lilpaaaaaa":{"dn":"릴파","nn":[]},"youn_joy":{"dn":"윤조이","nn":[]},"gnlfls":{"dn":"재희찡","nn":[]},"haercy":{"dn":"해르시","nn":[]},"yubeen92":{"dn":"야빈","nn":[]},"luvming01":{"dn":"열밍","nn":[]},"song4b":{"dn":"송사비","nn":[]},"midong1030":{"dn":"찌모햄","nn":["기모찌햄","햄치즈","햄찌즈","햄탈워","기모찌","김찌모","킹모햄","킹찌모","모킹찌","찌햄모","햄모햄","햄부찌","찌모행","킹모찌","햄모찌","모햄찌","기모찌","부찌햄","햄찌개","모찌햄","모찌","찌모","햄찌","모햄","해머찌"]},"gjsdg0225":{"dn":"덕담","nn":["서대길","대길","덕담장군","역시덕신"]},"lol_kellin":{"dn":"켈린인디","nn":["켈린"]},"zunebay":{"dn":"베이","nn":["쭌배쿤","쭌배","준배","박준병","준병"]},"tjgus0527":{"dn":"웨인","nn":["황서현"]},"juhan1010":{"dn":"주한","nn":["이주한"]},"torona1":{"dn":"슈카월드","nn":["슈카","전석재","석재"]},"woohankyung":{"dn":"한갱","nn":["한경","우한경"]},"ks8553v":{"dn":"미미미누","nn":["김민우","민우","미누누누","미미누누","미드누누","미나미노","미노미노","미미누님","미누미누","미숫가루","미누","미노","미삼누","미3누","미3"]},"gkswjdyoon":{"dn":"유나땅","nn":["유나","한정윤","정윤"],"sn":["땅"]},"strawberry_bbubbbu":{"dn":"민땅","nn":["신민정","민정"]},"dktkduftla":{"dn":"눈꽃눈꽃","nn":["눈꽃","눈꼬추","김준영","준영"],"cn":"눈꽃1","cc":"343fc0e877aa8ca0cad5106b33d6fa95"},"ailee_official":{"dn":"Ailee_Official","nn":["에일리"]},"kkoduengeo":{"dn":"나는야꼬등어","nn":["꼬등어","고등어"]},"chodan_":{"dn":"쵸단","nn":[]},"quo9807":{"dn":"쿠오님","nn":[]},"parkhaag":{"dn":"박하악","nn":["하악"]},"dalonge":{"dn":"다롱이","nn":["다롱"]},"nekoyom":{"dn":"옴뇸뇸걸","nn":["옴뇸뇸"]},"moonii1128":{"dn":"김모니","nn":[]},"simjamon":{"dn":"심자몬","nn":[]},"u0419":{"dn":"유쨩","nn":["유짱"]},"holickk":{"dn":"김홀릭","nn":[]},"momoro9":{"dn":"임마초","nn":[]},"wjl9908":{"dn":"우정우정우정우정","nn":[]},"minho_lee____":{"dn":"크으으라운","nn":["크라운","이민호"]},"windstarr":{"dn":"나는빙고","nn":["빙고","최재영","재영"]},"genddo":{"dn":"젠뚜","nn":[]},"ueun04":{"dn":"유은","nn":[],"cn":"유은 ueun","cc":"d4e32b620699bb886f84c9586eb38dd0"},"haena0714":{"dn":"해나o3o","nn":["해나"]},"dove202":{"dn":"도브99","nn":["도브","비누좌","비누","김재연","재연"]},"chanel87":{"dn":"CHANEL87","nn":["샤넬좌","샤넬","강성호","성호"]},"lowhigh92":{"dn":"철권로하이","nn":["로하이"]},"poltan4412":{"dn":"폴탄","nn":[]},"Sejun_Park":{"dn":"박세준","nn":["세준팍","세준","파치리스"]},"berry0314":{"dn":"빛베리","nn":["베리"]},"hair_yeonhwa":{"dn":"금강연화","nn":[]},"ju10506":{"dn":"총야","nn":[]},"superspeedrunkr":{"dn":"SuperSpeedrunKR","nn":[]},"gstar":{"dn":"GSTAR","nn":["지스타","G스타","g스타"]},"hle_observing":{"dn":"HLE_observing","nn":["한화 관전방","한화관전방"]},"twitchrivals_kr":{"dn":"twitchrivals_kr","nn":["트위치 라이벌스","트위치 라이벌"]},"yu2bee":{"dn":"유이비","nn":[]},"2me2na":{"dn":"윤비비","nn":[]},"rlawnsvy7":{"dn":"마술사김준표","nn":["김준표","준표","흑마술사"]},"junsst":{"dn":"전스트","nn":[]},"amouranth":{"dn":"Amouranth","nn":["아마란스"]},"qq102qq":{"dn":"코뚱잉","nn":[]},"bbonge_":{"dn":"김뿡","nn":[],"cn":"김뿡 bbonge","cc":"17f0cfcba4ff608de5eabb5110d134d0"},"rhffkddl96":{"dn":"꼴랑이임","nn":["꼴랑이","꼴랑"],"cn":"꼴랑이","cc":"effe648202c8f7fba081c2f2aeea1979"},"hm716":{"dn":"박나나","nn":[],"cn":"박나나TV","cc":"cd499ac517078d2a3be99177a397b23d"},"rms3tjd2":{"dn":"베나","nn":[]},"soyoungdori":{"dn":"소영돌이","nn":["소영도리"]},"godqhr122":{"dn":"세체뽀","nn":[]},"ruruflower":{"dn":"꽃팔이","nn":[]},"kranichhs":{"dn":"크라니쉬","nn":["크갈비","백학준","학준"]},"smile5250":{"dn":"정우서","nn":["우서"]},"yeonyou_":{"dn":"김여뉴","nn":["김여누","김연우","여누","여뉴","연우","여물쥐"]},"mlchoins":{"dn":"명훈","nn":["명예훈장","조성민","성민","띵훈","띵예훈장"],"cn":"명훈명훈","cc":"5d53f8fa5bef9b1bd4dc884f9907c079"},"lilac3453":{"dn":"라일락92","nn":["라일락","라르반","라교수","전호진","호진"]},"stormearth":{"dn":"링트럴","nn":["링트롤","정윤성","윤성"]},"kato1126":{"dn":"베르앤도","nn":["배르앤도","배르엔도","베르엔도","엔도","앤도"]},"lostark_kr":{"dn":"로아온","nn":[]},"rhdowgps":{"dn":"프로관전러","nn":["ps","PS"]},"ksh0162":{"dn":"롱다리코치","nn":["롱다리","롱다","김세현","세현"]},"skswhdkgo1":{"dn":"세글자","nn":[]},"vo_ine":{"dn":"아이네","nn":["아잉네"]},"viichan6":{"dn":"비챤","nn":["비찬"]},"jingburger":{"dn":"징버거","nn":[]},"gosegugosegu":{"dn":"고세구","nn":["세구","쇠구"]},"cotton__123":{"dn":"주르르","nn":["르르땅","르르"]},"ipmansan":{"dn":"김루윈","nn":[]},"b4kking":{"dn":"김용녀","nn":["용녀"]},"t1zeus":{"dn":"제우스으","nn":["제우스","최우제","우제"]},"t1_oner":{"dn":"T1_Oner","nn":["오너","문현준","현준"]},"winter_28270":{"dn":"겨우디","nn":["겨울"]},"maoruya":{"dn":"마왕루야","nn":["마오루야","루야"]},"jjonaklove":{"dn":"쪼물락낙지","nn":[]},"ohsunny0731":{"dn":"오맑음","nn":[],"cn":"오맑음님","cc":"4c68bd9e0891dc6acdfbf496384cadf4"},"vovldj":{"dn":"DuDu","nn":["두두"]},"kimjk2008":{"dn":"OnFleek","nn":["온플릭","김장겸","장겸"]},"willer9876":{"dn":"Willer","nn":["윌러"]},"karis03159":{"dn":"Karis","nn":["카리스"]},"samdsamdsamd":{"dn":"SamD","nn":[]},"dhgytjd123":{"dn":"Vsta","nn":[]},"ao_o5":{"dn":"임나은","nn":["나은"]},"zahard004":{"dn":"너구리","nn":["장하권","하권"]},"horusb":{"dn":"메도우이헌터","nn":["방치영","치영","메니언","메졸렬"]},"i_am_bloooo":{"dn":"청묘","nn":["박청묘"]},"iamcsats":{"dn":"에투샤","nn":["권영민","영민"]},"hojinleesuga":{"dn":"이호진입니다","nn":["이호진","호진"]},"dunizuni":{"dn":"두니주니","nn":[]},"kyahahaa":{"dn":"캬하하","nn":["이석현","석현"]},"rozh3600":{"dn":"쫀지다","nn":[]},"kuiki771":{"dn":"끠끼","nn":[],"cn":"끠끼였던것","cc":"10215c5b7b9963cbf65e8ee474bf323f"},"jmk4429":{"dn":"금쿤","nn":[]},"mingturn97":{"dn":"밍턴","nn":[]},"mitsune_89":{"dn":"미츠네하쿠","nn":["하쿠"]},"dokkhye_":{"dn":"독고혜지","nn":["혜지"]},"111roentgenium":{"dn":"뢴트게늄","nn":["뢴트"],"sn":["뢴"]},"rusuk_":{"dn":"해루석","nn":["루석","루숙"]},"hikiking0":{"dn":"히키킹","nn":[]},"dong_dong_zns":{"dn":"동동쿤","nn":[]},"kimbanpoon":{"dn":"김반푼이","nn":[]},"gisadan":{"dn":"기사단","nn":[]},"nollan_tv":{"dn":"놀란","nn":[]},"ssoph25":{"dn":"소피아","nn":[]},"wakphago":{"dn":"왁파고","nn":[]},"invenxd":{"dn":"캘리칼리데이비슨","nn":[]},"realchunshik":{"dn":"곽춘식","nn":["춘식"]},"kwonmin98":{"dn":"권민","nn":[]},"secretmemolee":{"dn":"비밀소녀","nn":["비소"]},"cman0327":{"dn":"김치만두번영택사스가","nn":["김치만두"]},"dandapbug":{"dn":"단답벌레","nn":["단답"]},"dopamine_dr":{"dn":"도파민박사","nn":["도파민"]},"businesskim111":{"dn":"비즈니스킴","nn":["비킴"]},"friedshrimp70":{"dn":"새우튀김","nn":[]},"bujungingan":{"dn":"부정형인간","nn":[]},"carnarjungtur":{"dn":"카르나르융터르","nn":["융터르"]},"2ducksoo":{"dn":"이덕수할아바이","nn":["이덕수","덕수"]},"pung_sin":{"dn":"풍신","nn":[]},"shylily":{"dn":"Shylily","nn":["샤이릴리","릴리"]},"charmel":{"dn":"김챠멜","nn":[]},"freeter1999":{"dn":"프리터","nn":[]},"sktt1fan_":{"dn":"티원관전방","nn":[]},"lemon7299":{"dn":"이차가식기전에","nn":["이차식"]},"greatmoonaroma":{"dn":"대월향","nn":[]},"qooqoo3110":{"dn":"쿠우0_0","nn":["쿠우"],"cn":"쿠 우","cc":"861f250480408cb290bb5463e079a238"},"im_duck_o3o":{"dn":"오리꿍","nn":[]},"hiyoko040":{"dn":"히요코양","nn":["히요코"]},"bver99":{"dn":"빕어","nn":[]},"bbua__":{"dn":"쁘아","nn":[]},"llilka":{"dn":"릴카","nn":["리루카"],"cn":"릴카 Lilka","cc":"4d0b7d3f825ea982b95f0a5c2b4782d3"},"airikanna_stellive":{"dn":"아이리_칸나","nn":["칸나","아이리칸나","황녀님"]},"canna":{"dn":"canna","nn":["롤칸나","김창동","창동","갓나","황나"]},"ayatsunoyuni_stellive":{"dn":"아야츠노_유니","nn":["유니유니","유니"]},"twitchsummer030":{"dn":"여르미","nn":[],"cn":"여 르 미","cc":"726482d31891e0808d6289e2497791fc"},"ppomodoli":{"dn":"뽀모","nn":[]},"newna_ya":{"dn":"뉴나랑","nn":[]},"ruliwebvtuber":{"dn":"남궁루리","nn":[]},"ruliwebvtuber2":{"dn":"버튜버_미루","nn":["미루"]},"koya_32s2":{"dn":"코야","nn":[]},"haruzzxng":{"dn":"하루짱","nn":[]},"mongle_pig":{"dn":"몽글이는","nn":[]},"skyteam994":{"dn":"쾅준","nn":[]},"aesoon_96":{"dn":"애순이","nn":[]},"rinotuna":{"dn":"리노참치","nn":[]},"hangdol99":{"dn":"행돌","nn":[]},"whdakfaos":{"dn":"종말맨","nn":[]},"ryulina":{"dn":"루나냥","nn":[]},"jcw970":{"dn":"찬우정","nn":[]},"j1_kr":{"dn":"째원님","nn":[]},"kasushilollol":{"dn":"하세","nn":[]},"chy0715":{"dn":"주둥이방송","nn":[]},"luck22222":{"dn":"러끼","nn":[]},"ars4321":{"dn":"핑크자크","nn":[]},"karami_academy":{"dn":"카라미辛味","nn":["카라미"]},"pusa6019":{"dn":"푸사","nn":[]},"msmsms213":{"dn":"멋사","nn":[],"cn":"멋사2","cc":"29f20622463916fa48ad735057b145ce"},"quanhaha79":{"dn":"하동훈","nn":["하하"]},"rikoakuma":{"dn":"릿코","nn":[]},"95pingman":{"dn":"핑맨","nn":[]},"mmange2":{"dn":"망개","nn":[],"cn":"망 개","cc":"a4d3ed2ad96bc0c2c6db425588d5ed19"},"kimdoenmo":{"dn":"김된모","nn":["안승원","된모"]},"bunnychannel_":{"dn":"버니버니","nn":["버니","채준혁","준혁"]},"kimpenguin__":{"dn":"김펭귄","nn":["김승민"]},"arahashitabi_stellive":{"dn":"아라하시_타비","nn":["타비"]},"nenekomashiro_stellive":{"dn":"네네코_마시로","nn":["마시로","시로"]},"shirayukihina_stellive":{"dn":"시라유키_히나","nn":["히나"]},"akanelize_stellive":{"dn":"아카네_리제","nn":["리제"]},"nerunerunerunes2":{"dn":"네루짱","nn":["네루쨩","네루"]},"hchcjswo":{"dn":"하창봉","nn":[]},"hoonjeongyang":{"dn":"훈정양","nn":[]},"snow_hite":{"dn":"설백","nn":[]},"158mcm":{"dn":"일오팔","nn":[]},"leenock_":{"dn":"리녹","nn":[]},"kimdh0630":{"dn":"등호형방송","nn":["등호형"]},"eyejoker7":{"dn":"눈쟁이","nn":[]},"gyechunhoe":{"dn":"계춘회","nn":["춘회"],"cn":"계춘회","cc":"a9a343510e132ea3026ff3cf682820b5"},"lllllamar":{"dn":"라마1004","nn":["라마","람붕이","람붕"],"cn":"라 마","cc":"63d136e8a149f6a2601f3b10981ed402"},"yang_doki":{"dn":"양도끼","nn":["양돆함장"],"cn":"양도끼","cc":"89684903880a978abc53ae5d36a8d7e4"},"molala_moonfish":{"dn":"모라라","nn":[]},"5_monge":{"dn":"이오몽","nn":[]},"danchu_17":{"dn":"단츄","nn":[],"cn":"단 츄","cc":"7bb298acb8062539aad34af1c11dfdaf"},"u_bomnyang":{"dn":"유봄냥","nn":[],"cn":"유봄냥","cc":"57c917f1bc650791d8ca3fec1ebcca18"},"haevelyn":{"dn":"해블린","nn":[],"cn":"해블린","cc":"e14259667937be6e561d28ab156718be"},"jokmasin":{"dn":"족마신","nn":[]},"younri_":{"dn":"연리","nn":[],"cn":"연 리","cc":"f3228c570a0b3b1f0f8306e3479ea46b"},"imzecheon":{"dn":"임재천","nn":["재천"],"cn":"임재천","cc":"3a5c68e21e1de59efc438313f908dd6f"},"9ho__":{"dn":"9호","nn":["구호"],"cn":"9 호","cc":"881e2c0cdae891c8cc0eba36a0c62a60"},"eaglekop":{"dn":"이글콥","nn":[]},"jini_pia":{"dn":"지니피아","nn":[]},"k_danhae":{"dn":"강단해","nn":[]},"hangyeol8008":{"dn":"한결","nn":[]},"yeorumi030":{"dn":"여르미","nn":[]},"yu___tae":{"dn":"유태","nn":[]},"milklarge":{"dn":"밀크라지","nn":[]},"dogcat0926":{"dn":"개냥이","nn":[]},"q_na_96":{"dn":"큐나","nn":[]},"charmingseaotter":{"dn":"마성의해달","nn":[]},"maren_0e077":{"dn":"김마렌","nn":[]},"mizisworld":{"dn":"이미지","nn":[]},"simpo1118":{"dn":"심포","nn":[]},"nanamoon777":{"dn":"나나문","nn":[]},"eldk20":{"dn":"하디아","nn":[]},"mareflos_kr":{"dn":"마레플로스","nn":[],"cn":"마레플로스","cc":"4ebef1eb4194611996dc38abf1d226d1"},"wangggumteuli":{"dn":"왕꿈틀이","nn":[]},"bukuki00":{"dn":"부쿠키","nn":[]},"heunhaebi3300":{"dn":"흔해비","nn":[]},"ruby_pink_":{"dn":"루비","nn":[]},"mygomiee":{"dn":"마이곰이","nn":[]},"wuong2":{"dn":"우엉","nn":[]},"silverche_":{"dn":"채은채","nn":[]},"eonsahi":{"dn":"언사히","nn":[]},"jaesu111":{"dn":"재수피기","nn":[]},"fgy0305":{"dn":"망야","nn":[]},"half_half_":{"dn":"하쁘","nn":[]},"0_gam":{"dn":"영감","nn":[]},"cyan_i":{"dn":"시안","nn":[]},"hiingdda":{"dn":"히잉따","nn":[]},"jjoogi":{"dn":"빰찌","nn":[]},"jumiluya":{"dn":"김루야","nn":[]},"byeolzzii":{"dn":"별찌이","nn":[]},"rari_yang":{"dn":"라리양","nn":[]},"bcine_":{"dn":"빗시","nn":[]},"smpk9604":{"dn":"박삐삐","nn":["삐삐박"]}},"_twitch":{"_name":{"dn":"","nn":[]}},"afreeca":{"afchall":{"dn":"챌린저스공식","nn":["챌린저스","챌코","첼코"]},"phonics1":{"dn":"김민교","nn":[]},"killgusdnk":{"dn":"꿀템은죽었다","nn":["클템","꿀템","이현우"]}},"chzzk":{"75cbf189b3bb8f9f687d2aca0d0a382b":{"dn":"한동숙입니다","nn":[]},"c2186ca6edb3a663f137b15ed7346fac":{"dn":"리얼진짜우왁굳","nn":[]},"7ce8032370ac5121dcabce7bad375ced":{"dn":"풍월량월풍월량","nn":[]},"17f0cfcba4ff608de5eabb5110d134d0":{"dn":"김뿡 bbonge","nn":[]},"0dad8baf12a436f722faa8e5001c5011":{"dn":"따효니 DDaHyoNi","nn":[]},"dec8d19f0bc4be90a4e8b5d57df9c071":{"dn":"얍얍yapyap","nn":[]},"1c231568d0b13de5703b3f6a5e86dc47":{"dn":"삼식123","nn":[]},"0974bf2ded8c3e124797f7be6d1bdbb5":{"dn":"감블러","nn":[]},"19e3b97ca1bca954d1ac84cf6862e0dc":{"dn":"러너 Runner","nn":[]},"c68b8ef525fb3d2fa146344d84991753":{"dn":"진짜도현","nn":[]},"0b33823ac81de48d5b78a38cdbc0ab94":{"dn":"울프 Wolf","nn":[]},"0076a519f147ee9fd0959bf02f9571ca":{"dn":"이 다","nn":[]},"fc00d47a77ed2d1156cd5997eba30310":{"dn":"우릎","nn":[]},"6e06f5e1907f17eff543abd06cb62891":{"dn":"녹두로로","nn":[]},"8b3e8e3a13201cff0836c69cfab62f45":{"dn":"Flame 플레임","nn":[]},"089185efc29a8fbe14ea294dc85f9661":{"dn":"소풍왔니 sopoong","nn":[]},"f39c3d74e33a81ab3080356b91bb8de5":{"dn":"포셔Portia","nn":[]},"fe558c6d1b8ef3206ac0bc0419f3f564":{"dn":"플러리 Flurry","nn":[]},"a4d3ed2ad96bc0c2c6db425588d5ed19":{"dn":"망 개","nn":[]},"80b36a0ae8e887e893ce0014dbfece4a":{"dn":"나나 양","nn":[]},"ca1850b2eceb7f86146695fd9bb9cefc":{"dn":"빅헤드BIGHEAD","nn":[]},"ec94e63170d15e8e8d5eff72ca69c1a7":{"dn":"진 호","nn":[]},"cd499ac517078d2a3be99177a397b23d":{"dn":"박나나TV","nn":[]},"dc7fb0d085cfbbe90e11836e3b85b784":{"dn":"강소연1","nn":[]},"056fae81f84f7b8d4704330a2a925705":{"dn":"천양","nn":[]},"4b2f27574a2e60d15bd53f94cbfc4066":{"dn":"코렛트1","nn":[]},"7b6be23ce92b40382a12420ac78f0e6d":{"dn":"날카로운 도적 선바","nn":[]},"68f895c59a1043bc5019b5e08c83a5c5":{"dn":"라디유radiyu","nn":[]},"affa78deac0b23d2046b8ed4856c1e62":{"dn":"모카형ㅎ","nn":[]},"dff5fc9706f8260682ce6eb93acaad64":{"dn":"네클릿 Necklet","nn":[]},"0de8f1807076169b7eb9218137e99c51":{"dn":"악동 김블루","nn":[]},"26ae7850ad5b6b09ca864d482dc7fa50":{"dn":"큐베 Cuvee","nn":[]},"861f250480408cb290bb5463e079a238":{"dn":"쿠 우","nn":[]},"effe648202c8f7fba081c2f2aeea1979":{"dn":"꼴랑이","nn":[]},"034449b176b163a705b9c0e81f7a51c2":{"dn":"인간젤리 곽석호","nn":[]},"0d027498b18371674fac3ed17247e6b8":{"dn":"옥냥이 RoofTopCAT","nn":[]},"5d53f8fa5bef9b1bd4dc884f9907c079":{"dn":"명훈명훈","nn":[]},"343fc0e877aa8ca0cad5106b33d6fa95":{"dn":"눈꽃1","nn":[]},"1a1dd9ce56fb61a37ffb6f69f6d5b978":{"dn":"강퀴88","nn":[]},"b628d1039a84ecc703804e17acee2eb3":{"dn":"크캣","nn":[]},"f20881fce506174330ecb58342c4c70d":{"dn":"노페","nn":[]},"b5da9cbcab300065236b4309ecaf19b7":{"dn":"스나랑 Snarang","nn":[]},"305e94b30f8eab7979914c730427b054":{"dn":"나짬타수아아니다","nn":[]},"75bd327f6ba6f57106c79fe3f2c3d19f":{"dn":"푸린P","nn":[]},"876a11956e742732060c4a2151128262":{"dn":"해기123","nn":[]},"b8263cd74372864eacb2d5bd16551882":{"dn":"쉐리입니다","nn":[]},"952e7d21b36d75675894f97e4975bf9f":{"dn":"이 선생","nn":[]},"c892177b4d613127d8c587e9da11d384":{"dn":"철면수심입니다","nn":[]},"ac6a03808bffbe58b3bfb0e25271836e":{"dn":"김남봉","nn":[]},"dc740d5bb5680666b6bf2ebc58a8203f":{"dn":"던 DawN","nn":[]},"9381e7d6816e6d915a44a13c0195b202":{"dn":"치지직 e스포츠","nn":[]},"bc5090ade8bcc9fdd34f36cc3601ca1b":{"dn":"삼식","nn":[]},"74f9f433dd8866bf69f6c930a64d06a8":{"dn":"캡틴잭 Cpt Jack","nn":[]},"2c3d33db0543d96700ec6d1ad83090a2":{"dn":"햇살살","nn":[]},"5777797bab18388e7044ed7bac3c56c8":{"dn":"서넹입니다","nn":[]},"7efa5b40ee1729ac57d3adbebf3ddb3c":{"dn":"살구 salgu","nn":[]},"e112cad680f895d13769c43f56171b4a":{"dn":"아구 이뽀","nn":[]},"a72c9f9c3d835078b97a520dded8e6d2":{"dn":"최케빈님","nn":[]},"be50c08abd2f4a0c4691907351371872":{"dn":"Dentist 매직박","nn":[]},"a9b2d7249243fc9edbb2dada5623cb8e":{"dn":"하우카우uuu","nn":[]},"e9290e6906bcbc360691f97f03248e31":{"dn":"유키1","nn":[]},"20526386692c580216982d9e9dc06302":{"dn":"꿈의 악마 DREAM DEVILS","nn":[]},"2d4aa2f79b0a397d032c479ef1b37a67":{"dn":"진짜후추","nn":[]},"f4c0ddf59bb8e788e393cd5a8a1296b2":{"dn":"콩콩입니다","nn":[]},"554e99695decc451d57788b1fd5d5c07":{"dn":"찐배돈","nn":[]},"e38e8c5d3b4953c6648989628b30ef38":{"dn":"레지나Rezina","nn":[]},"95a1978ee09c32618c9fb91df68da630":{"dn":"퀸톨","nn":[]},"c42cd75ec4855a9edf204a407c3c1dd2":{"dn":"치지직","nn":[]},"a53ae259f77b730616f8b533aeac8bee":{"dn":"인챈트","nn":[]},"7d4d31de2054571a9a495f8045673108":{"dn":"인슈런스","nn":[]},"c2c2a79acf33fe57eaf474ceead3c475":{"dn":"오늘 가입한 누나 1542","nn":[]},"810f54f9b0b02c0cd456e6f2e46938a9":{"dn":"뇽뇽이다","nn":[]},"a9f5b614fd007efac7bb548837d02d6f":{"dn":"신화속 파괴왕 3481","nn":[]},"42bf4cadc65d8359bbb1a8445024cc7f":{"dn":"하루살이 오빠 7170","nn":[]},"ef150d8f348e239b55e0d6e05d3b6302":{"dn":"평민 4721","nn":[]},"1161eb13d304f943542d0c8640928544":{"dn":"아빠킹","nn":[]},"4955beff2952b35ed236144a4ec79d07":{"dn":"류제홍잉","nn":[]},"35382c3e4fcb9ffccb4cb97d3bddabcf":{"dn":"유우양","nn":[]},"1ad5aa0f6c6741b072528fad5e5e76b1":{"dn":"윤가놈","nn":[]},"55e243bd868e55adf3524c85f8db51b5":{"dn":"레알개복어","nn":[]},"fd90fd0300c93c61fa4cb207cd5db424":{"dn":"가짜방토라","nn":[]},"a9ab391cdd3faef4ca2ee782e96e5c59":{"dn":"김나성","nn":[]},"2086f44c7b09a17cef6786f21389db3b":{"dn":"김진우P","nn":[]},"dcd75ef0f2c664e3270de18696ad43bf":{"dn":"쌍베 SsangBe","nn":[]},"4d0b7d3f825ea982b95f0a5c2b4782d3":{"dn":"릴카 Lilka","nn":[]},"bb382c2c0cc9fa7c86ab3b037fb5799c":{"dn":"침착맨","nn":[]},"bee4b42475b5937226b8b7ccbe2eb2dc":{"dn":"칸데르니아","nn":[]},"26e0a451d56eab9e8ec9c4642cc65ae1":{"dn":"BJ깝도이","nn":[]},"b4ad93eb95fdf626c63fd034878d9f09":{"dn":"성질급한 나무늘보","nn":[]},"368ca51e82c85583e059fe669ef0f028":{"dn":"김정민 해변킴","nn":[]},"ee6cf431c059872dcaaf5c788da9d87d":{"dn":"군림보","nn":[]},"dc7e2b07ad4c51151bcc96f5df57da9e":{"dn":"진짜 와나나","nn":[]},"c9fbf1ca3c2dd3714bb57e2401952856":{"dn":"파 크 모","nn":[]},"10215c5b7b9963cbf65e8ee474bf323f":{"dn":"끠끼였던것","nn":[]},"b2665a30ba249486bf2c134973cfc7a2":{"dn":"사과몽몽","nn":[]},"bdc57cc4217173f0e89f63fba2f1c6e5":{"dn":"핫다주","nn":[]},"63d136e8a149f6a2601f3b10981ed402":{"dn":"라 마","nn":[]},"5f44570b82fb82d4814ef9502cf6401a":{"dn":"삐부2","nn":[]},"8a59b34b46271960c1bf172bb0fac758":{"dn":"앰비션","nn":[]},"d6fc3283fe0938bca8d65093e4c2bb94":{"dn":"실프123","nn":[]},"5fe707b3243cd56bc00908eab6631b38":{"dn":"중년게이머김실장","nn":[]},"d4e32b620699bb886f84c9586eb38dd0":{"dn":"유은 ueun","nn":[]},"17a4bfff01d96ffad065f641ce90bdde":{"dn":"로 마러","nn":[]},"2ff1d72d0199e3607188df2ce16ce170":{"dn":"피유 beyou","nn":[]},"6a8b6a54e6c295246249aed782bd345e":{"dn":"악녀 이예은","nn":[]},"8c67a9793c9627c4ac2231223b4403f8":{"dn":"도현성","nn":[]},"0f4d9f20aa461c5da5c68e4e65d35ff9":{"dn":"레니아워 RenieHouR","nn":[]},"4b56148f306b95041ab79a89642bf95f":{"dn":"근성왕 겜마톡","nn":[]},"15899529d38be7a0fd4bed3eff8caf0f":{"dn":"싸커러리","nn":[]},"840fea00b82dda1151f6860d715b7f5b":{"dn":"테스터훈0","nn":[]},"7135cd113a2ef43bfb8d44bb2a64a582":{"dn":"도그홀","nn":[]},"56b492c78152bd1e53f35ceec90f3223":{"dn":"FBI멀더형","nn":[]},"aef0c98592271de9ec4906eca2987e05":{"dn":"HeavyRainy","nn":[]},"52475b4f261f315b3fca7885bf154f1a":{"dn":"박 잔 디","nn":[]},"21af742541dda05e027392b20d35f6b1":{"dn":"곰캐","nn":[]},"f718037238a27539b8ea20ffb6e09c28":{"dn":"루밍쨩","nn":[]},"8a5fc0dec74718540f517aa1219d8a72":{"dn":"호진리","nn":[]},"5bc54cdd16c28da324871f8e9c270cad":{"dn":"Dingception","nn":[]},"efca00f0dda8382013c4ac60b7fa2a71":{"dn":"갱복치","nn":[]},"22bd842599735ae19e454983280f611e":{"dn":"ENCHANT","nn":[]},"726482d31891e0808d6289e2497791fc":{"dn":"여 르 미","nn":[]},"47c49bff55111a6cfd30bb299e9d2e5d":{"dn":"inSec93","nn":[]},"219d8e65810a77d6e42c7df018d9632b":{"dn":"마뫄","nn":[]},"666a784d1047c8d3ecc7bfb3e63ea3b4":{"dn":"정소림캐스터","nn":[]},"616da0a177bb2c635e1fef8d2b64d97a":{"dn":"중 력","nn":[]},"a7e175625fdea5a7d98428302b7aa57f":{"dn":"찐짜탬탬버린","nn":[]},"4b00ded9b083e31c29dc509d7e063c7a":{"dn":"치킨쿤","nn":[]},"0f9a3b4fbb0e7137d1f0b4d70563031c":{"dn":"오킹테레비","nn":[]},"6703b9c073ea2650e08403b9a7a61a6f":{"dn":"real우정잉","nn":[]},"8803cee946a9e610a76fbdee98d98c61":{"dn":"룩삼오피셜","nn":[]},"44d8c26981185d0b193ea54fdde2ccfd":{"dn":"마왕루야KR","nn":[]},"dfa2c2a85b1ba7131ba9a76fc3d5e224":{"dn":"히렌","nn":[]},"93fe884808459fb4e4a3c7d64f0eef03":{"dn":"고 차비","nn":[]},"a86031fdfeb1b223ad1172cf6ba4b94e":{"dn":"꽃꽃꽃꽃꽃핀핀핀핀핀","nn":[]},"cd04c50c6ff488ac96f8900e26e5b993":{"dn":"소니쇼니쇼","nn":[]},"0a0a0b83c6af289507ef57a5f3d623c0":{"dn":"멀럭킹","nn":[]},"6bd0bb97d31365e7834d8113bb01d889":{"dn":"모라라","nn":[]},"36792f750d222b585a3ef3cd69a3f822":{"dn":"삐라입니다","nn":[]},"94117e846614e64275c2c2ef1804e2bb":{"dn":"밍 턴","nn":[]},"f49ebb4cc978594951f227badeb5a12c":{"dn":"옌룡 Yenryong","nn":[]},"516647dcb4bd9b95489b9f1f88722fe3":{"dn":"프로즈","nn":[]},"d6ca483312eb96b9323c3283eaec6516":{"dn":"코리수","nn":[]},"d6b3c991c7b19aa02bb08232d8b877a6":{"dn":"서농","nn":[]},"cb6a7801f5e221b4f0c1e4c580fd5d74":{"dn":"2FF2CT","nn":[]},"482cdeab4cada3ff6945a24687a944d6":{"dn":"땅우양찐","nn":[]},"987e86ec16535ed8ea02797c7ba2f361":{"dn":"허블렛 Hubblet","nn":[]},"5bc115f55d63c33786237c86ede13d17":{"dn":"모선생","nn":[]},"d1fba91291c6af035b0ce8c4f7a145f1":{"dn":"견뭉","nn":[]},"143894b31aa1f63cc86e41dd5676ad19":{"dn":"뢴트게늄111","nn":[]},"0de024a1ca4a64f1a23a95ff9eeee5a5":{"dn":"임 나은","nn":[]},"8130c3d98b5701a5ca5500b0a8aa4b35":{"dn":"쁘 허","nn":[]},"b5ed5db484d04faf4d150aedd362f34b":{"dn":"강지12","nn":[]},"5f800579267362c952f76f3c6fe695b2":{"dn":"금사향","nn":[]},"220f0c301e07f2be948982e56aa23cbd":{"dn":"귀마개","nn":[]},"c0d9723cbb75dc223c6aa8a9d4f56002":{"dn":"허니츄러스 HoneyChurros","nn":[]},"3e9272616070e9f66cc4afd9e69753c2":{"dn":"루 다","nn":[]},"9ae7d38b629b78f48e49fb3106218ff5":{"dn":"후즈","nn":[]},"8e7a6f0a0b1f0612afee1a673e94027d":{"dn":"레고칠칠","nn":[]},"ad01aed5243869444344d87337bd738f":{"dn":"캉난나","nn":[]},"14d7d30bb75a80c63a2296d8b1e452bd":{"dn":"지수소녀99","nn":[]},"40c7c6bb4d6e026ad3f1b722e77ffb15":{"dn":"태경1","nn":[]},"7a50c580b14abd8e8575e2c1ac2985a3":{"dn":"김규태 KimGyuTae","nn":[]},"f2531ce069ac92d25ac17e9ee2f2b3e5":{"dn":"즐기는 남자들","nn":[]},"c96f3a1d4e3e9785404aa7f8a0fd313c":{"dn":"메탈킴","nn":[]},"01d89104cc91b9bc68c0d300b76bef4f":{"dn":"장파","nn":[]},"21a0de8b586c517181d76f183272de57":{"dn":"헤징0ㅅ0","nn":[]},"d03b51dac7d9a54a6cfb47fc3222a500":{"dn":"Reapered","nn":[]},"de27c33ee2364c4e5007867bb3b96001":{"dn":"크랭크","nn":[]},"014a50b6ab22bd1a02a6c761917c062b":{"dn":"장마군","nn":[]},"7bb298acb8062539aad34af1c11dfdaf":{"dn":"단 츄","nn":[]},"a213532964452f5609e0992716ccfe5a":{"dn":"텔론","nn":[]},"371f95608d4571bdac607270e8b955c3":{"dn":"매드라이프 MadLife","nn":[]},"05aefaaba187ed99c7db2e537249ecf3":{"dn":"롤막눈","nn":[]},"bf8dfac034906df5026cf49d36328e63":{"dn":"동네북TV","nn":[]},"2eee29ce69664154d8bc478825941259":{"dn":"김뚜띠2","nn":[]},"2c19fcd3a9493340f302f393aff54888":{"dn":"견1자희","nn":[]},"df8b694b2d35538e743deb90b939a7be":{"dn":"세요 빔","nn":[]},"29710a53f37c2f31b0862ed8ce678e44":{"dn":"죠니월드","nn":[]},"e12f8c8ed9925b297a496431929bcdb1":{"dn":"게이머비누Gamerbinu","nn":[]},"b97b13b0db272c91e33d7fe6c2af9dce":{"dn":"쫀득님","nn":[]},"415d3f63dab9ca7fe8ab4eb3c55b856b":{"dn":"댕 균","nn":[]},"a1efbbc347d5d50e0262b2a2a3626ee6":{"dn":"페이지1","nn":[]},"32d76d665e1266ef0949af14075d59b8":{"dn":"수 학 자","nn":[]},"5e3c844f55c9af81a5e53adcdb6c40a2":{"dn":"벵골","nn":[]},"b40ce4b4204a494a97c55c251e092424":{"dn":"두니주니1","nn":[]},"881e2c0cdae891c8cc0eba36a0c62a60":{"dn":"9 호","nn":[]},"9b0071057ef9a7099b7aad8d77fb6cd6":{"dn":"양아지님","nn":[]},"f56625a5ad032fe7ff2a80225e41904f":{"dn":"민식박123","nn":[]},"bcdf10972e325bfab0ec0183e8524ec4":{"dn":"나기상","nn":[]},"56ac0735c277454426872c361c3fe54e":{"dn":"유콘 UKON","nn":[]},"416d86cee659cca1320eac67f0e6fc22":{"dn":"바뀐","nn":[]},"e58aeac3acc13865a9ae8e29c83d9618":{"dn":"송병구","nn":[]},"4381ccfe5a18fd32558743e902e7d884":{"dn":"힘의길","nn":[]},"f73cb0d5f90685c5966bb13d87adcb7d":{"dn":"백귀월","nn":[]},"41d4a4b4e4287afcbbde12cb3f9a71d2":{"dn":"진짜고라파동","nn":[]},"c7323bedccf4abf257c1ce1f465c4707":{"dn":"종말맨22","nn":[]},"b1099827eb54bab6771bae5c85e887b7":{"nn":[]},"e980f6ab9c02d2449f13a1fb55d62cb2":{"dn":"주둥이방송","nn":[]},"e8da946c7a7c10d8de959cff09e306c6":{"dn":"감제이님","nn":[]},"ec857bee6cded06df19dae85cf37f878":{"dn":"노돌노돌리","nn":[]},"f3228c570a0b3b1f0f8306e3479ea46b":{"dn":"연 리","nn":[]},"a9a343510e132ea3026ff3cf682820b5":{"dn":"계춘회","nn":[]},"e45c8f27eccca950b62aa7c17bc35a0d":{"dn":"안케","nn":[]},"edd1d5c7c3a79a8576c06cb76a1b68a6":{"dn":"갓 리타","nn":[]},"b1ac916d727d32cb7f472b50f6f97654":{"dn":"난바다","nn":[]},"8f047bdeb5fc600db15415bd31fafe69":{"dn":"동네형이한다 KOF","nn":[]},"89684903880a978abc53ae5d36a8d7e4":{"dn":"양도끼","nn":[]},"57c917f1bc650791d8ca3fec1ebcca18":{"dn":"유봄냥","nn":[]},"e14259667937be6e561d28ab156718be":{"dn":"해블린","nn":[]},"a44c0e1d1ae67a5a6a8fc001725be221":{"dn":"깅도이","nn":[]},"bf4df7913fcc6c4bd0932a37310a761f":{"dn":"씨랙","nn":[]},"3a5c68e21e1de59efc438313f908dd6f":{"dn":"임재천","nn":[]},"0552325465ff40056559e412847f9908":{"dn":"플레임TV","nn":[]},"5d98541089c673f075eed0ff43a5aa75":{"dn":"재 희","nn":[]},"d185099b64dd8ca6b96a51ee3e9011c2":{"dn":"얏따 Yattaa","nn":[]},"35af289529fad221cc2013d02ef1dfda":{"dn":"엔마라네","nn":[]},"5c0b801eb3070e02420c49c97b640031":{"dn":"뽀꿈","nn":[]},"fccc3de223cf5c5d7778efb9901b1a93":{"dn":"윤요 YoonYo","nn":[]},"9d261b9ede8912f47258458ae62762df":{"dn":"크리티컬딜러","nn":[]},"9e731707f6524b88436c5b3ede3a9848":{"dn":"스투피드매드","nn":[]},"95dce22a7af42be99eaaef19619ebf25":{"dn":"한스토리","nn":[]},"95a050b9250958bec51343e5ae24b8f4":{"dn":"박도나","nn":[]},"5af790a9d22abab8524ff7729a63cfc0":{"dn":"거터","nn":[]},"58c857c619dbc62110f025c382265abe":{"dn":"콩 주","nn":[]},"66d99407a0ad3df28903321ed999954d":{"dn":"게임하는인기","nn":[]},"7dc9561a4e60fb5221bdea64346672f1":{"dn":"갓단미","nn":[]},"124ca807978c091907e26c2a5c3b307a":{"dn":"공설","nn":[]},"769efbb252d48296224621451c6a1d9a":{"dn":"해마티엘","nn":[]},"09f2c3d669fb6ef362f2d78029fc4300":{"dn":"쫀지","nn":[]},"f26f5a2d1336f15cb2f3bc9513ab2501":{"dn":"청 묘","nn":[]},"243febdbcba51d2248bd97d23d2085af":{"dn":"단군","nn":[]},"c74447cc845ba54d23ff13e8c78ee5a0":{"dn":"1vsAll","nn":[]},"4c68bd9e0891dc6acdfbf496384cadf4":{"dn":"오맑음님","nn":[]},"968e6dbde42506f85eaf8579d9a5a6a9":{"dn":"VG신선한망치","nn":[]},"083c66a5cfce51967bcad5c1b0b86e5d":{"dn":"수련X수련","nn":[]},"714205d014f45e311dcfdafcf9e7400f":{"dn":"스피드소닉","nn":[]},"a9983d950a0ba4471b3d60bb9c5e0dd7":{"dn":"조이냥","nn":[]},"84be298681c287441d614db925803c4d":{"dn":"찐자동","nn":[]},"7b1acb37b35928ff690d011296a9e5ab":{"dn":"케인88","nn":[]},"375dfefbe6264ae507efee64eedfb574":{"dn":"세롱","nn":[]},"29f20622463916fa48ad735057b145ce":{"dn":"멋사2","nn":[]},"aedecd121e2cf471fd8510f980cac8b1":{"dn":"운타라입니다","nn":[]},"feb20a676694b1163fed010da0848303":{"dn":"샘웨","nn":[]},"520546ce9c0092b0a8aa7feb9a9779be":{"dn":"포도네","nn":[]},"888bdc1e2fbe68322574cbe883b34ee4":{"dn":"혜미 ham","nn":[]},"e19e8f5605a67e7a6b165c82445dc9c6":{"dn":"박서림 Seorim","nn":[]},"4ebef1eb4194611996dc38abf1d226d1":{"dn":"마레플로스","nn":[]},"e291f5f835f5f7b206413227cf9186da":{"dn":"애플3203","nn":[]},"fd4c1d65f7bdea3e4c81eced5d763083":{"dn":"즐디1","nn":[]},"5d252d2611a91ac0445a820e661b8dbf":{"dn":"사자머리 sajamori","nn":[]},"263f6a6cc78f2fb25b0acbf7339ce955":{"dn":"랑쯔","nn":[]}}},"ver":"20240101"}');var a=[],o=[],i=[],r=[],s=[],l=e.data.twitch;for(const t in l){let e=l[t];a.push([]);var c=a.length-1;a[c].push(t.toLowerCase()),a[c].push(e.dn),o.push(t),i.push(e.dn),r.push(`${e.dn} (${t})`),void 0!==e.nn&&$.isArray(e.nn)&&(a[c]=a[c].concat(e.nn)),void 0!==e.sn&&$.isArray(e.sn)&&(a[c]=a[c].concat(e.sn));var d=`^(${a[c].join("|")})`;s.push(new RegExp(d,"i"))}var u=function(t){var e=t.toLowerCase();if(o!==[]||i!==[]){var n=$.inArray(e,o);return-1!==n?i[n]:t}je("ADD_streamer_nick 함수에서 id 리턴중 null")},h=function(t){for(var e=t.toLowerCase().replace(/(^\s|\s$)/g,""),n=0;n<a.length;n++)for(var r=0;r<a[n].length;++r)if(e==a[n][r])return{id:o[n],display_name:i[n]};return{id:null,display_name:null}},f=n(253),p=n.n(f),m=n(431),g=n.n(m),b=n(394),v=n.n(b),_=n(59),y=n.n(_),k=n(793),w=n.n(k),x=n(952),D=n.n(x),A=n(204),T=n.n(A);const E={default:v(),black:y(),black_youtube:w(),dark:D()};function C(){GM.addStyle(`\n// Dostream+ CSS\n${g()}\n${p()}\n`);$("head").append('<link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:400,900&display=swap&subset=korean" rel="stylesheet">\n        <style id="ADD_head_appended" type="text/css">\n            #history_elem a{font-family: "Noto Sans KR", "맑은 고딕", malgun gothic, dotum, serif; font-weight:400;}\n            #history_elem a.nowplaying{font-family: "Noto Sans KR", "맑은 고딕", malgun gothic, dotum, serif; font-weight:900;}\n        </style>\n        ')}function S(e){const n=["default","black","black_youtube","dark"];var a=Se(),o=ADD_config.theme_on;void 0===e?e=ADD_config.theme:("off"===e||ADD_config.broadcaster_mode)&&(e="default",o=!1);var i="";"default"!==e&&(i=`\n        <style id="ADD_theme_css" type="text/css">\n            ${T()}\n            ${E[e]}\n        </style>\n        `);var r=$(document),s="body";for(var l in a===t.C_UCHAT&&void 0!==nomo_global.$GLOBAL_IFRAME_DOCUMENT&&(s=nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("body").first(),r=nomo_global.$GLOBAL_IFRAME_DOCUMENT),n)$(s).removeClass(l);if(a===t.C_UCHAT){o&&ADD_config.theme_self_bold_chat?$(s).addClass("theme-self-bold-chat"):$(s).removeClass("theme-self-bold-chat");var c='\n            <style id="ADD_theme_font_css" type="text/css">\n                div.line, div.line .chatContent, div.line span.nick, div.line.system *, .chatInput, .imgur_container .imgur_image_title {\n                    font-size: calc(12px * '+Number(ADD_config.theme_font_size)+") !important;\n                }\n            </style>";0!==r.find("#ADD_theme_font_css").length&&r.find("#ADD_theme_font_css").remove(),o&&1!==Number(ADD_config.theme_font_size)&&r.find("head").append(c)}if(o&&"default"!==ADD_config.theme_font_custom){var d='\n            <style id="ADD_theme_font_custom_css" type="text/css">\n                @import url(\'https://fonts.googleapis.com/css?family=Noto+Sans+KR:400,900&display=swap&subset=korean\');\n                '+(a===t.C_UCHAT?"body,":"")+' *:not(.glyphicon), div.line, .chatContent, span.nick {\n                    font-family: "Noto Sans KR", "맑은 고딕", malgun gothic, dotum, serif !important;\n                }\n            </style>';0!==r.find("#ADD_theme_font_custom_css").length&&r.find("#ADD_theme_font_custom_css").remove(),r.find("head").append(d)}else 0!==r.find("#ADD_theme_font_custom_css").length&&r.find("#ADD_theme_font_custom_css").remove();0===r.find("#ADD_default_css").length&&r.find("head").append('\n    <style id="ADD_default_css" type="text/css">\n        /* theme-self-bold-chat */\n        body.theme-self-bold-chat div.line.myLine span.nick{\n            font-weight:bold !important;\n        }\n        body.theme-self-bold-chat div.line.myLine span.chatContent{\n            font-weight:bold !important;\n        }\n    </style>\n    '),r.find("#ADD_theme_css").remove(),r.find("head").append(i),$(s).removeClass("theme-"+nomo_global.theme_current),ADD_config.theme_on&&"default"!==e&&void 0!==e&&-1!==$.inArray(e,n)?($(s).addClass("theme").addClass("theme-"+e),je("테마 변경 완료",e)):($(s).removeClass("theme"),je("테마 기본값 사용",e)),nomo_global.theme_current=e,function(t){var e="body";e=void 0===t?"body":t,ADD_config.theme_leftchat?$(e).addClass("leftchat"):$(e).removeClass("leftchat"),$(document).ready((function(){ADD_config.theme_leftchat?$(e).addClass("leftchat"):$(e).removeClass("leftchat")}))}(s)}function L(){if(je("방송 모드 시작"),(nomo_global.PAGE===t.C_UCHAT||nomo_global.DEBUG)&&!ADD_config.broadcaster_mode&&void 0!==nomo_global.$GLOBAL_IFRAME_DOCUMENT&&0!==nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("#ADD_broadcaster_mode_css").length)return nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("body").removeClass("broadcast_mode"),nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("#ADD_broadcaster_mode_css").remove(),S(),!1;if((nomo_global.PAGE===t.C_UCHAT||nomo_global.DEBUG)&&ADD_config.broadcaster_mode&&void 0!==nomo_global.$GLOBAL_IFRAME_DOCUMENT){S("off"),nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("body").addClass("broadcast_mode"),0!==nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("#ADD_broadcaster_mode_css").length&&nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("#ADD_broadcaster_mode_css").remove();var e="";je("broadcaster theme:",ADD_config.broadcater_theme);var n=Number(ADD_config.broadcaster_msg_time);e="box"===ADD_config.broadcater_theme?`\n            div.line, body.broadcast_mode .black .myLine, #uha_chat_msgs li {\n                background:linear-gradient(rgba(70, 70, 70, .6), rgba(50, 50, 50, .7));\n                text-shadow:0 0 1px rgba(0, 0, 0, .6), 0 0 2px rgba(0, 0, 0, .6);\n                box-shadow:0 0 4px rgba(0, 0, 0, .4);\n                margin:0.3em 10px !important;\n                padding:0.3em 0.5em !important;\n                border-radius:0.3em;\n                animation:flipInX .5s ease${0===n?"":", fadeOutUp 1s ease "+n+"s forwards"};\n            }\n            span.nick, #uha_chat_msgs span.name{\n                font-size:0.8em !important;\n            }\n            span.chatContent, #uha_chat_msgs span.text {\n                display:block;\n            }\n            `:"twitch"===ADD_config.broadcater_theme?`\n            div.line, body.broadcast_mode .black .myLine, #uha_chat_msgs li {\n                ${0===n?"":"animation: fadeOut 1s ease "+n+"s forwards !important;"}\n                text-shadow: 0 0 1px #666, 1px 1px 0 #000 !important;\n            }\n            span.chatContent, #uha_chat_msgs span.text {\n                font-weight:400 !important;\n            }\n            `:`\n            div.line, body.broadcast_mode .black .myLine, #uha_chat_msgs li {\n                ${0===n?"":"animation: fadeOut 1s ease "+n+"s forwards !important;"}\n                text-shadow: 0 0 1px #666, 1px 1px 0 #000 !important;\n            }\n            span.chatContent, #uha_chat_msgs span.text {\n                font-weight:400 !important;\n                display:block;\n            }\n            `,nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("head").append(`\n            <style id="ADD_broadcaster_mode_css" type="text/css">\n            @import url('https://fonts.googleapis.com/css?family=Noto+Sans+KR:400,900&display=swap&subset=korean');\n\n            *, div.line, .chatContent, span.nick, #uha_chat_msgs > li > .name, #uha_chat_msgs > li > .text {\n                font-family: "Noto Sans KR", "맑은 고딕", malgun gothic, dotum, serif !important;\n                font-size:calc(24px * ${ADD_config.broadcaster_font_size}) !important;\n            }\n            span.nick, #uha_chat_msgs span.name{\n                ${ADD_config.broadcaster_use_nick_color?"":"color:"+ADD_config.broadcaster_nick_color+" !important;"}\n            }\n            .chatContent, #uha_chat_msgs span.text{\n                color:${ADD_config.broadcaster_cont_color} !important;\n            }\n            .wrap {\n                border:0px;\n            }\n            body { font-family: "Noto Sans KR", "맑은 고딕", malgun gothic, dotum, serif !important; font-weight:400 !important;}\n            .nano > .nano-content{\n                padding:0.5em 0;\n            }\n            p.tooltip.hidden{\n                display:none;\n            }\n            div.top.black, .nano-pane, .nano-slider{/* 상단바, 스크롤바 숨기기 */\n                display:none;\n                background:unset !important;\n                box-shadow:unset;\n            }\n            div.middle.black, #uha_chat{\n                height:calc(100% - 28px) !important;\n                background-color:${ADD_config.broadcaster_bg_color} !important; /* 중앙부 배경색 */\n            }\n            div.nano-pane, div.bottom.black{/* 하단 그림자, 배경 숨기기 */\n                background:unset !important;\n                box-shadow:unset;\n            }\n            #uha_chat_msgs > li:hover{\n                background:inherit !important;\n            }\n\n            /* 두드온 호환 */\n            div.latest_chat_new, div.latest_chat_new span, div.chatInput {\n                font-size:12px !important;\n            }\n            div#ADD_send_location_container {\n                display:none !important;\n            }\n            .animated{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.animated.infinite{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.animated.hinge{-webkit-animation-duration:2s;animation-duration:2s}.animated.bounceIn,.animated.bounceOut,.animated.flipOutX,.animated.flipOutY{-webkit-animation-duration:.75s;animation-duration:.75s}@-webkit-keyframes bounce{0%,20%,53%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1);-webkit-transform:translateZ(0);transform:translateZ(0)}40%,43%{-webkit-transform:translate3d(0,-30px,0);transform:translate3d(0,-30px,0)}40%,43%,70%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06)}70%{-webkit-transform:translate3d(0,-15px,0);transform:translate3d(0,-15px,0)}90%{-webkit-transform:translate3d(0,-4px,0);transform:translate3d(0,-4px,0)}}@keyframes bounce{0%,20%,53%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1);-webkit-transform:translateZ(0);transform:translateZ(0)}40%,43%{-webkit-transform:translate3d(0,-30px,0);transform:translate3d(0,-30px,0)}40%,43%,70%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06)}70%{-webkit-transform:translate3d(0,-15px,0);transform:translate3d(0,-15px,0)}90%{-webkit-transform:translate3d(0,-4px,0);transform:translate3d(0,-4px,0)}}.bounce{-webkit-animation-name:bounce;animation-name:bounce;-webkit-transform-origin:center bottom;transform-origin:center bottom}@-webkit-keyframes flash{0%,50%,to{opacity:1}25%,75%{opacity:0}}@keyframes flash{0%,50%,to{opacity:1}25%,75%{opacity:0}}.flash{-webkit-animation-name:flash;animation-name:flash}@-webkit-keyframes pulse{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}50%{-webkit-transform:scale3d(1.05,1.05,1.05);transform:scale3d(1.05,1.05,1.05)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes pulse{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}50%{-webkit-transform:scale3d(1.05,1.05,1.05);transform:scale3d(1.05,1.05,1.05)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.pulse{-webkit-animation-name:pulse;animation-name:pulse}@-webkit-keyframes rubberBand{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}30%{-webkit-transform:scale3d(1.25,.75,1);transform:scale3d(1.25,.75,1)}40%{-webkit-transform:scale3d(.75,1.25,1);transform:scale3d(.75,1.25,1)}50%{-webkit-transform:scale3d(1.15,.85,1);transform:scale3d(1.15,.85,1)}65%{-webkit-transform:scale3d(.95,1.05,1);transform:scale3d(.95,1.05,1)}75%{-webkit-transform:scale3d(1.05,.95,1);transform:scale3d(1.05,.95,1)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes rubberBand{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}30%{-webkit-transform:scale3d(1.25,.75,1);transform:scale3d(1.25,.75,1)}40%{-webkit-transform:scale3d(.75,1.25,1);transform:scale3d(.75,1.25,1)}50%{-webkit-transform:scale3d(1.15,.85,1);transform:scale3d(1.15,.85,1)}65%{-webkit-transform:scale3d(.95,1.05,1);transform:scale3d(.95,1.05,1)}75%{-webkit-transform:scale3d(1.05,.95,1);transform:scale3d(1.05,.95,1)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.rubberBand{-webkit-animation-name:rubberBand;animation-name:rubberBand}@-webkit-keyframes shake{0%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}10%,30%,50%,70%,90%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}20%,40%,60%,80%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}}@keyframes shake{0%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}10%,30%,50%,70%,90%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}20%,40%,60%,80%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}}.shake{-webkit-animation-name:shake;animation-name:shake}@-webkit-keyframes headShake{0%{-webkit-transform:translateX(0);transform:translateX(0)}6.5%{-webkit-transform:translateX(-6px) rotateY(-9deg);transform:translateX(-6px) rotateY(-9deg)}18.5%{-webkit-transform:translateX(5px) rotateY(7deg);transform:translateX(5px) rotateY(7deg)}31.5%{-webkit-transform:translateX(-3px) rotateY(-5deg);transform:translateX(-3px) rotateY(-5deg)}43.5%{-webkit-transform:translateX(2px) rotateY(3deg);transform:translateX(2px) rotateY(3deg)}50%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes headShake{0%{-webkit-transform:translateX(0);transform:translateX(0)}6.5%{-webkit-transform:translateX(-6px) rotateY(-9deg);transform:translateX(-6px) rotateY(-9deg)}18.5%{-webkit-transform:translateX(5px) rotateY(7deg);transform:translateX(5px) rotateY(7deg)}31.5%{-webkit-transform:translateX(-3px) rotateY(-5deg);transform:translateX(-3px) rotateY(-5deg)}43.5%{-webkit-transform:translateX(2px) rotateY(3deg);transform:translateX(2px) rotateY(3deg)}50%{-webkit-transform:translateX(0);transform:translateX(0)}}.headShake{-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-name:headShake;animation-name:headShake}@-webkit-keyframes swing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@keyframes swing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}.swing{-webkit-transform-origin:top center;transform-origin:top center;-webkit-animation-name:swing;animation-name:swing}@-webkit-keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.9,.9,.9) rotate(-3deg);transform:scale3d(.9,.9,.9) rotate(-3deg)}30%,50%,70%,90%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(3deg);transform:scale3d(1.1,1.1,1.1) rotate(3deg)}40%,60%,80%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(-3deg);transform:scale3d(1.1,1.1,1.1) rotate(-3deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.9,.9,.9) rotate(-3deg);transform:scale3d(.9,.9,.9) rotate(-3deg)}30%,50%,70%,90%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(3deg);transform:scale3d(1.1,1.1,1.1) rotate(3deg)}40%,60%,80%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(-3deg);transform:scale3d(1.1,1.1,1.1) rotate(-3deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.tada{-webkit-animation-name:tada;animation-name:tada}@-webkit-keyframes wobble{0%{-webkit-transform:none;transform:none}15%{-webkit-transform:translate3d(-25%,0,0) rotate(-5deg);transform:translate3d(-25%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(20%,0,0) rotate(3deg);transform:translate3d(20%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-15%,0,0) rotate(-3deg);transform:translate3d(-15%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(10%,0,0) rotate(2deg);transform:translate3d(10%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-5%,0,0) rotate(-1deg);transform:translate3d(-5%,0,0) rotate(-1deg)}to{-webkit-transform:none;transform:none}}@keyframes wobble{0%{-webkit-transform:none;transform:none}15%{-webkit-transform:translate3d(-25%,0,0) rotate(-5deg);transform:translate3d(-25%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(20%,0,0) rotate(3deg);transform:translate3d(20%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-15%,0,0) rotate(-3deg);transform:translate3d(-15%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(10%,0,0) rotate(2deg);transform:translate3d(10%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-5%,0,0) rotate(-1deg);transform:translate3d(-5%,0,0) rotate(-1deg)}to{-webkit-transform:none;transform:none}}.wobble{-webkit-animation-name:wobble;animation-name:wobble}@-webkit-keyframes jello{0%,11.1%,to{-webkit-transform:none;transform:none}22.2%{-webkit-transform:skewX(-12.5deg) skewY(-12.5deg);transform:skewX(-12.5deg) skewY(-12.5deg)}33.3%{-webkit-transform:skewX(6.25deg) skewY(6.25deg);transform:skewX(6.25deg) skewY(6.25deg)}44.4%{-webkit-transform:skewX(-3.125deg) skewY(-3.125deg);transform:skewX(-3.125deg) skewY(-3.125deg)}55.5%{-webkit-transform:skewX(1.5625deg) skewY(1.5625deg);transform:skewX(1.5625deg) skewY(1.5625deg)}66.6%{-webkit-transform:skewX(-.78125deg) skewY(-.78125deg);transform:skewX(-.78125deg) skewY(-.78125deg)}77.7%{-webkit-transform:skewX(.390625deg) skewY(.390625deg);transform:skewX(.390625deg) skewY(.390625deg)}88.8%{-webkit-transform:skewX(-.1953125deg) skewY(-.1953125deg);transform:skewX(-.1953125deg) skewY(-.1953125deg)}}@keyframes jello{0%,11.1%,to{-webkit-transform:none;transform:none}22.2%{-webkit-transform:skewX(-12.5deg) skewY(-12.5deg);transform:skewX(-12.5deg) skewY(-12.5deg)}33.3%{-webkit-transform:skewX(6.25deg) skewY(6.25deg);transform:skewX(6.25deg) skewY(6.25deg)}44.4%{-webkit-transform:skewX(-3.125deg) skewY(-3.125deg);transform:skewX(-3.125deg) skewY(-3.125deg)}55.5%{-webkit-transform:skewX(1.5625deg) skewY(1.5625deg);transform:skewX(1.5625deg) skewY(1.5625deg)}66.6%{-webkit-transform:skewX(-.78125deg) skewY(-.78125deg);transform:skewX(-.78125deg) skewY(-.78125deg)}77.7%{-webkit-transform:skewX(.390625deg) skewY(.390625deg);transform:skewX(.390625deg) skewY(.390625deg)}88.8%{-webkit-transform:skewX(-.1953125deg) skewY(-.1953125deg);transform:skewX(-.1953125deg) skewY(-.1953125deg)}}.jello{-webkit-animation-name:jello;animation-name:jello;-webkit-transform-origin:center;transform-origin:center}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}20%{-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}40%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}60%{opacity:1;-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}80%{-webkit-transform:scale3d(.97,.97,.97);transform:scale3d(.97,.97,.97)}to{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}20%{-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}40%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}60%{opacity:1;-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}80%{-webkit-transform:scale3d(.97,.97,.97);transform:scale3d(.97,.97,.97)}to{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}}.bounceIn{-webkit-animation-name:bounceIn;animation-name:bounceIn}@-webkit-keyframes bounceInDown{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,-3000px,0);transform:translate3d(0,-3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,25px,0);transform:translate3d(0,25px,0)}75%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}90%{-webkit-transform:translate3d(0,5px,0);transform:translate3d(0,5px,0)}to{-webkit-transform:none;transform:none}}@keyframes bounceInDown{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,-3000px,0);transform:translate3d(0,-3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,25px,0);transform:translate3d(0,25px,0)}75%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}90%{-webkit-transform:translate3d(0,5px,0);transform:translate3d(0,5px,0)}to{-webkit-transform:none;transform:none}}.bounceInDown{-webkit-animation-name:bounceInDown;animation-name:bounceInDown}@-webkit-keyframes bounceInLeft{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(-3000px,0,0);transform:translate3d(-3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(25px,0,0);transform:translate3d(25px,0,0)}75%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}90%{-webkit-transform:translate3d(5px,0,0);transform:translate3d(5px,0,0)}to{-webkit-transform:none;transform:none}}@keyframes bounceInLeft{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(-3000px,0,0);transform:translate3d(-3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(25px,0,0);transform:translate3d(25px,0,0)}75%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}90%{-webkit-transform:translate3d(5px,0,0);transform:translate3d(5px,0,0)}to{-webkit-transform:none;transform:none}}.bounceInLeft{-webkit-animation-name:bounceInLeft;animation-name:bounceInLeft}@-webkit-keyframes bounceInRight{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(3000px,0,0);transform:translate3d(3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(-25px,0,0);transform:translate3d(-25px,0,0)}75%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}90%{-webkit-transform:translate3d(-5px,0,0);transform:translate3d(-5px,0,0)}to{-webkit-transform:none;transform:none}}@keyframes bounceInRight{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(3000px,0,0);transform:translate3d(3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(-25px,0,0);transform:translate3d(-25px,0,0)}75%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}90%{-webkit-transform:translate3d(-5px,0,0);transform:translate3d(-5px,0,0)}to{-webkit-transform:none;transform:none}}.bounceInRight{-webkit-animation-name:bounceInRight;animation-name:bounceInRight}@-webkit-keyframes bounceInUp{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,3000px,0);transform:translate3d(0,3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}75%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}90%{-webkit-transform:translate3d(0,-5px,0);transform:translate3d(0,-5px,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes bounceInUp{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,3000px,0);transform:translate3d(0,3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}75%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}90%{-webkit-transform:translate3d(0,-5px,0);transform:translate3d(0,-5px,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.bounceInUp{-webkit-animation-name:bounceInUp;animation-name:bounceInUp}@-webkit-keyframes bounceOut{20%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}50%,55%{opacity:1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}to{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}}@keyframes bounceOut{20%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}50%,55%{opacity:1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}to{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}}.bounceOut{-webkit-animation-name:bounceOut;animation-name:bounceOut}@-webkit-keyframes bounceOutDown{20%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}@keyframes bounceOutDown{20%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}.bounceOutDown{-webkit-animation-name:bounceOutDown;animation-name:bounceOutDown}@-webkit-keyframes bounceOutLeft{20%{opacity:1;-webkit-transform:translate3d(20px,0,0);transform:translate3d(20px,0,0)}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}@keyframes bounceOutLeft{20%{opacity:1;-webkit-transform:translate3d(20px,0,0);transform:translate3d(20px,0,0)}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}.bounceOutLeft{-webkit-animation-name:bounceOutLeft;animation-name:bounceOutLeft}@-webkit-keyframes bounceOutRight{20%{opacity:1;-webkit-transform:translate3d(-20px,0,0);transform:translate3d(-20px,0,0)}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}@keyframes bounceOutRight{20%{opacity:1;-webkit-transform:translate3d(-20px,0,0);transform:translate3d(-20px,0,0)}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}.bounceOutRight{-webkit-animation-name:bounceOutRight;animation-name:bounceOutRight}@-webkit-keyframes bounceOutUp{20%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}@keyframes bounceOutUp{20%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}.bounceOutUp{-webkit-animation-name:bounceOutUp;animation-name:bounceOutUp}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn{-webkit-animation-name:fadeIn;animation-name:fadeIn}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInDown{-webkit-animation-name:fadeInDown;animation-name:fadeInDown}@-webkit-keyframes fadeInDownBig{0%{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDownBig{0%{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInDownBig{-webkit-animation-name:fadeInDownBig;animation-name:fadeInDownBig}@-webkit-keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInLeft{-webkit-animation-name:fadeInLeft;animation-name:fadeInLeft}@-webkit-keyframes fadeInLeftBig{0%{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInLeftBig{0%{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInLeftBig{-webkit-animation-name:fadeInLeftBig;animation-name:fadeInLeftBig}@-webkit-keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInRight{-webkit-animation-name:fadeInRight;animation-name:fadeInRight}@-webkit-keyframes fadeInRightBig{0%{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInRightBig{0%{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInRightBig{-webkit-animation-name:fadeInRightBig;animation-name:fadeInRightBig}@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInUp{-webkit-animation-name:fadeInUp;animation-name:fadeInUp}@-webkit-keyframes fadeInUpBig{0%{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInUpBig{0%{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInUpBig{-webkit-animation-name:fadeInUpBig;animation-name:fadeInUpBig}@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.fadeOut{-webkit-animation-name:fadeOut;animation-name:fadeOut}@-webkit-keyframes fadeOutDown{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@keyframes fadeOutDown{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}.fadeOutDown{-webkit-animation-name:fadeOutDown;animation-name:fadeOutDown}@-webkit-keyframes fadeOutDownBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}@keyframes fadeOutDownBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}.fadeOutDownBig{-webkit-animation-name:fadeOutDownBig;animation-name:fadeOutDownBig}@-webkit-keyframes fadeOutLeft{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}@keyframes fadeOutLeft{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}.fadeOutLeft{-webkit-animation-name:fadeOutLeft;animation-name:fadeOutLeft}@-webkit-keyframes fadeOutLeftBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}@keyframes fadeOutLeftBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}.fadeOutLeftBig{-webkit-animation-name:fadeOutLeftBig;animation-name:fadeOutLeftBig}@-webkit-keyframes fadeOutRight{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}@keyframes fadeOutRight{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}.fadeOutRight{-webkit-animation-name:fadeOutRight;animation-name:fadeOutRight}@-webkit-keyframes fadeOutRightBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}@keyframes fadeOutRightBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}.fadeOutRightBig{-webkit-animation-name:fadeOutRightBig;animation-name:fadeOutRightBig}@-webkit-keyframes fadeOutUp{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}@keyframes fadeOutUp{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}.fadeOutUp{-webkit-animation-name:fadeOutUp;animation-name:fadeOutUp}@-webkit-keyframes fadeOutUpBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}@keyframes fadeOutUpBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}.fadeOutUpBig{-webkit-animation-name:fadeOutUpBig;animation-name:fadeOutUpBig}@-webkit-keyframes flip{0%{-webkit-transform:perspective(400px) rotateY(-1turn);transform:perspective(400px) rotateY(-1turn)}0%,40%{-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}40%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-190deg);transform:perspective(400px) translateZ(150px) rotateY(-190deg)}50%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-170deg);transform:perspective(400px) translateZ(150px) rotateY(-170deg)}50%,80%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}80%{-webkit-transform:perspective(400px) scale3d(.95,.95,.95);transform:perspective(400px) scale3d(.95,.95,.95)}to{-webkit-transform:perspective(400px);transform:perspective(400px);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}@keyframes flip{0%{-webkit-transform:perspective(400px) rotateY(-1turn);transform:perspective(400px) rotateY(-1turn)}0%,40%{-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}40%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-190deg);transform:perspective(400px) translateZ(150px) rotateY(-190deg)}50%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-170deg);transform:perspective(400px) translateZ(150px) rotateY(-170deg)}50%,80%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}80%{-webkit-transform:perspective(400px) scale3d(.95,.95,.95);transform:perspective(400px) scale3d(.95,.95,.95)}to{-webkit-transform:perspective(400px);transform:perspective(400px);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}.animated.flip{-webkit-backface-visibility:visible;backface-visibility:visible;-webkit-animation-name:flip;animation-name:flip}@-webkit-keyframes flipInX{0%{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);opacity:0}0%,40%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}40%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg)}60%{-webkit-transform:perspective(400px) rotateX(10deg);transform:perspective(400px) rotateX(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateX(-5deg);transform:perspective(400px) rotateX(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}@keyframes flipInX{0%{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);opacity:0}0%,40%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}40%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg)}60%{-webkit-transform:perspective(400px) rotateX(10deg);transform:perspective(400px) rotateX(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateX(-5deg);transform:perspective(400px) rotateX(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}.flipInX{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipInX;animation-name:flipInX}@-webkit-keyframes flipInY{0%{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);opacity:0}0%,40%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}40%{-webkit-transform:perspective(400px) rotateY(-20deg);transform:perspective(400px) rotateY(-20deg)}60%{-webkit-transform:perspective(400px) rotateY(10deg);transform:perspective(400px) rotateY(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateY(-5deg);transform:perspective(400px) rotateY(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}@keyframes flipInY{0%{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);opacity:0}0%,40%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}40%{-webkit-transform:perspective(400px) rotateY(-20deg);transform:perspective(400px) rotateY(-20deg)}60%{-webkit-transform:perspective(400px) rotateY(10deg);transform:perspective(400px) rotateY(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateY(-5deg);transform:perspective(400px) rotateY(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}.flipInY{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipInY;animation-name:flipInY}@-webkit-keyframes flipOutX{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);opacity:1}to{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);opacity:0}}@keyframes flipOutX{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);opacity:1}to{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);opacity:0}}.flipOutX{-webkit-animation-name:flipOutX;animation-name:flipOutX;-webkit-backface-visibility:visible!important;backface-visibility:visible!important}@-webkit-keyframes flipOutY{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateY(-15deg);transform:perspective(400px) rotateY(-15deg);opacity:1}to{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);opacity:0}}@keyframes flipOutY{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateY(-15deg);transform:perspective(400px) rotateY(-15deg);opacity:1}to{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);opacity:0}}.flipOutY{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipOutY;animation-name:flipOutY}@-webkit-keyframes lightSpeedIn{0%{-webkit-transform:translate3d(100%,0,0) skewX(-30deg);transform:translate3d(100%,0,0) skewX(-30deg);opacity:0}60%{-webkit-transform:skewX(20deg);transform:skewX(20deg)}60%,80%{opacity:1}80%{-webkit-transform:skewX(-5deg);transform:skewX(-5deg)}to{-webkit-transform:none;transform:none;opacity:1}}@keyframes lightSpeedIn{0%{-webkit-transform:translate3d(100%,0,0) skewX(-30deg);transform:translate3d(100%,0,0) skewX(-30deg);opacity:0}60%{-webkit-transform:skewX(20deg);transform:skewX(20deg)}60%,80%{opacity:1}80%{-webkit-transform:skewX(-5deg);transform:skewX(-5deg)}to{-webkit-transform:none;transform:none;opacity:1}}.lightSpeedIn{-webkit-animation-name:lightSpeedIn;animation-name:lightSpeedIn;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}@-webkit-keyframes lightSpeedOut{0%{opacity:1}to{-webkit-transform:translate3d(100%,0,0) skewX(30deg);transform:translate3d(100%,0,0) skewX(30deg);opacity:0}}@keyframes lightSpeedOut{0%{opacity:1}to{-webkit-transform:translate3d(100%,0,0) skewX(30deg);transform:translate3d(100%,0,0) skewX(30deg);opacity:0}}.lightSpeedOut{-webkit-animation-name:lightSpeedOut;animation-name:lightSpeedOut;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}@-webkit-keyframes rotateIn{0%{transform-origin:center;-webkit-transform:rotate(-200deg);transform:rotate(-200deg);opacity:0}0%,to{-webkit-transform-origin:center}to{transform-origin:center;-webkit-transform:none;transform:none;opacity:1}}@keyframes rotateIn{0%{transform-origin:center;-webkit-transform:rotate(-200deg);transform:rotate(-200deg);opacity:0}0%,to{-webkit-transform-origin:center}to{transform-origin:center;-webkit-transform:none;transform:none;opacity:1}}.rotateIn{-webkit-animation-name:rotateIn;animation-name:rotateIn}@-webkit-keyframes rotateInDownLeft{0%{transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:none;transform:none;opacity:1}}@keyframes rotateInDownLeft{0%{transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:none;transform:none;opacity:1}}.rotateInDownLeft{-webkit-animation-name:rotateInDownLeft;animation-name:rotateInDownLeft}@-webkit-keyframes rotateInDownRight{0%{transform-origin:right bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:none;transform:none;opacity:1}}@keyframes rotateInDownRight{0%{transform-origin:right bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:none;transform:none;opacity:1}}.rotateInDownRight{-webkit-animation-name:rotateInDownRight;animation-name:rotateInDownRight}@-webkit-keyframes rotateInUpLeft{0%{transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:none;transform:none;opacity:1}}@keyframes rotateInUpLeft{0%{transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:none;transform:none;opacity:1}}.rotateInUpLeft{-webkit-animation-name:rotateInUpLeft;animation-name:rotateInUpLeft}@-webkit-keyframes rotateInUpRight{0%{transform-origin:right bottom;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:none;transform:none;opacity:1}}@keyframes rotateInUpRight{0%{transform-origin:right bottom;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:none;transform:none;opacity:1}}.rotateInUpRight{-webkit-animation-name:rotateInUpRight;animation-name:rotateInUpRight}@-webkit-keyframes rotateOut{0%{transform-origin:center;opacity:1}0%,to{-webkit-transform-origin:center}to{transform-origin:center;-webkit-transform:rotate(200deg);transform:rotate(200deg);opacity:0}}@keyframes rotateOut{0%{transform-origin:center;opacity:1}0%,to{-webkit-transform-origin:center}to{transform-origin:center;-webkit-transform:rotate(200deg);transform:rotate(200deg);opacity:0}}.rotateOut{-webkit-animation-name:rotateOut;animation-name:rotateOut}@-webkit-keyframes rotateOutDownLeft{0%{transform-origin:left bottom;opacity:1}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}}@keyframes rotateOutDownLeft{0%{transform-origin:left bottom;opacity:1}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}}.rotateOutDownLeft{-webkit-animation-name:rotateOutDownLeft;animation-name:rotateOutDownLeft}@-webkit-keyframes rotateOutDownRight{0%{transform-origin:right bottom;opacity:1}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}@keyframes rotateOutDownRight{0%{transform-origin:right bottom;opacity:1}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}.rotateOutDownRight{-webkit-animation-name:rotateOutDownRight;animation-name:rotateOutDownRight}@-webkit-keyframes rotateOutUpLeft{0%{transform-origin:left bottom;opacity:1}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}@keyframes rotateOutUpLeft{0%{transform-origin:left bottom;opacity:1}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}.rotateOutUpLeft{-webkit-animation-name:rotateOutUpLeft;animation-name:rotateOutUpLeft}@-webkit-keyframes rotateOutUpRight{0%{transform-origin:right bottom;opacity:1}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:0}}@keyframes rotateOutUpRight{0%{transform-origin:right bottom;opacity:1}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:0}}.rotateOutUpRight{-webkit-animation-name:rotateOutUpRight;animation-name:rotateOutUpRight}@-webkit-keyframes hinge{0%{transform-origin:top left}0%,20%,60%{-webkit-transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}20%,60%{-webkit-transform:rotate(80deg);transform:rotate(80deg);transform-origin:top left}40%,80%{-webkit-transform:rotate(60deg);transform:rotate(60deg);-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;opacity:1}to{-webkit-transform:translate3d(0,700px,0);transform:translate3d(0,700px,0);opacity:0}}@keyframes hinge{0%{transform-origin:top left}0%,20%,60%{-webkit-transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}20%,60%{-webkit-transform:rotate(80deg);transform:rotate(80deg);transform-origin:top left}40%,80%{-webkit-transform:rotate(60deg);transform:rotate(60deg);-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;opacity:1}to{-webkit-transform:translate3d(0,700px,0);transform:translate3d(0,700px,0);opacity:0}}.hinge{-webkit-animation-name:hinge;animation-name:hinge}@-webkit-keyframes rollIn{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0) rotate(-120deg);transform:translate3d(-100%,0,0) rotate(-120deg)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes rollIn{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0) rotate(-120deg);transform:translate3d(-100%,0,0) rotate(-120deg)}to{opacity:1;-webkit-transform:none;transform:none}}.rollIn{-webkit-animation-name:rollIn;animation-name:rollIn}@-webkit-keyframes rollOut{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0) rotate(120deg);transform:translate3d(100%,0,0) rotate(120deg)}}@keyframes rollOut{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0) rotate(120deg);transform:translate3d(100%,0,0) rotate(120deg)}}.rollOut{-webkit-animation-name:rollOut;animation-name:rollOut}@-webkit-keyframes zoomIn{0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes zoomIn{0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}.zoomIn{-webkit-animation-name:zoomIn;animation-name:zoomIn}@-webkit-keyframes zoomInDown{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInDown{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInDown{-webkit-animation-name:zoomInDown;animation-name:zoomInDown}@-webkit-keyframes zoomInLeft{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(10px,0,0);transform:scale3d(.475,.475,.475) translate3d(10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInLeft{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(10px,0,0);transform:scale3d(.475,.475,.475) translate3d(10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInLeft{-webkit-animation-name:zoomInLeft;animation-name:zoomInLeft}@-webkit-keyframes zoomInRight{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInRight{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInRight{-webkit-animation-name:zoomInRight;animation-name:zoomInRight}@-webkit-keyframes zoomInUp{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInUp{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInUp{-webkit-animation-name:zoomInUp;animation-name:zoomInUp}@-webkit-keyframes zoomOut{0%{opacity:1}50%{-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%,to{opacity:0}}@keyframes zoomOut{0%{opacity:1}50%{-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%,to{opacity:0}}.zoomOut{-webkit-animation-name:zoomOut;animation-name:zoomOut}@-webkit-keyframes zoomOutDown{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomOutDown{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomOutDown{-webkit-animation-name:zoomOutDown;animation-name:zoomOutDown}@-webkit-keyframes zoomOutLeft{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(42px,0,0);transform:scale3d(.475,.475,.475) translate3d(42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(-2000px,0,0);transform:scale(.1) translate3d(-2000px,0,0);-webkit-transform-origin:left center;transform-origin:left center}}@keyframes zoomOutLeft{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(42px,0,0);transform:scale3d(.475,.475,.475) translate3d(42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(-2000px,0,0);transform:scale(.1) translate3d(-2000px,0,0);-webkit-transform-origin:left center;transform-origin:left center}}.zoomOutLeft{-webkit-animation-name:zoomOutLeft;animation-name:zoomOutLeft}@-webkit-keyframes zoomOutRight{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-42px,0,0);transform:scale3d(.475,.475,.475) translate3d(-42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(2000px,0,0);transform:scale(.1) translate3d(2000px,0,0);-webkit-transform-origin:right center;transform-origin:right center}}@keyframes zoomOutRight{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-42px,0,0);transform:scale3d(.475,.475,.475) translate3d(-42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(2000px,0,0);transform:scale(.1) translate3d(2000px,0,0);-webkit-transform-origin:right center;transform-origin:right center}}.zoomOutRight{-webkit-animation-name:zoomOutRight;animation-name:zoomOutRight}@-webkit-keyframes zoomOutUp{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomOutUp{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomOutUp{-webkit-animation-name:zoomOutUp;animation-name:zoomOutUp}@-webkit-keyframes slideInDown{0%{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInDown{0%{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInDown{-webkit-animation-name:slideInDown;animation-name:slideInDown}@-webkit-keyframes slideInLeft{0%{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInLeft{0%{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInLeft{-webkit-animation-name:slideInLeft;animation-name:slideInLeft}@-webkit-keyframes slideInRight{0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInRight{0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInRight{-webkit-animation-name:slideInRight;animation-name:slideInRight}@-webkit-keyframes slideInUp{0%{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInUp{0%{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInUp{-webkit-animation-name:slideInUp;animation-name:slideInUp}@-webkit-keyframes slideOutDown{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@keyframes slideOutDown{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}.slideOutDown{-webkit-animation-name:slideOutDown;animation-name:slideOutDown}@-webkit-keyframes slideOutLeft{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}@keyframes slideOutLeft{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}.slideOutLeft{-webkit-animation-name:slideOutLeft;animation-name:slideOutLeft}@-webkit-keyframes slideOutRight{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}@keyframes slideOutRight{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}.slideOutRight{-webkit-animation-name:slideOutRight;animation-name:slideOutRight}@-webkit-keyframes slideOutUp{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}@keyframes slideOutUp{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}.slideOutUp{-webkit-animation-name:slideOutUp;animation-name:slideOutUp}\n            \n            \n            /* 우하하 커스텀 */\n            #uha_chat_msgs > li{\n                line-height:120% !important;\n            }\n            #uha_chat_msgs > li > .name {\n                font-weight: normal !important;\n                padding-left: 0 !important;\n                margin-right: 0px !important;\n            }\n            ${e}\n            </style>\n        `)}}async function I(e){var n=!1;void 0!==e&&void 0!==e.message&&(n=e.message);var a=ADD_config.theme_night_mode_theme;"black"!==a&&"black_youtube"!==a&&(a="black");var o=function(){clearTimeout(nomo_global.night_mode_on),clearTimeout(nomo_global.night_mode_end),S(),nomo_global.night_mode=!1};if(ADD_config.theme_on&&ADD_config.theme_night_mode){setTimeout((function(){nomo_global.night_mode_direct_call=!0}),1e4);var i=ADD_config.theme_night_mode_start,r=ADD_config.theme_night_mode_end;if(24===Number(i)&&(i=0),24===Number(r)&&(r=0),$.isNumeric(i)&&$.isNumeric(r)&&i!==r){i=Number(i);var s=(r=Number(r))>i?r-i:r+24-i,l=60*s*60*1e3;je("야간 모드 시작, 종료, 간격",i,r,s);var c,d,u,h,f=function(t){var e=Number(t).toFixed(3).split(".");return e[0]=Number(e[0]),e[1]=Math.round(Number(e[1])/100*60),e};if([c,d]=f(i),[u,h]=f(r),c!==u||d!==h){var p=new Date,m=new Date(p.getFullYear(),p.getMonth(),p.getDate(),c,d,0),g=new Date(m.getFullYear(),m.getMonth(),m.getDate()-1,c,d,0),b=new Date(m.getFullYear(),m.getMonth(),m.getDate()+1,c,d,0),v=function(){n&&st("야간 모드가 꺼졌습니다."),S(),nomo_global.night_mode_black=!1},_=function(e){ADD_config.theme_night_mode&&(je("야간 모드 시작"),nomo_global.night_mode_black=!0,nomo_global.PAGE==t.C_UCHAT&&n&&st("야간 모드가 켜졌습니다."),S(a)),clearTimeout(nomo_global.night_mode_end),nomo_global.night_mode_end=setTimeout((function(){je("야간 모드 종료"),v(),I()}),e)};for(var y of[Number(g),Number(m),Number(b)]){var k=Number(p);if(!(k>y))return je("야간 모드 예약",(y-k)/36e5,"시간 후"),nomo_global.night_mode&&nomo_global.night_mode_black&&v(),clearTimeout(nomo_global.night_mode_on),nomo_global.night_mode_on=setTimeout((function(){_(l)}),y-k),void(nomo_global.night_mode=!0);if(je(p<y+l,k,y,l),k<y+l)return je("야간모드 바로 켜짐"),_(y+l-k),void(nomo_global.night_mode=!0)}}else o()}else o()}else nomo_global.night_mode&&o()}async function O(t){if(!ADD_config.version_check)return!1;void 0===t&&(t=!1),je("checkNewVersion");var e,n,a="",o="",i="",r=await Ie.getVal("ADD_version_last_check_time");void 0===r&&(je("Version - 이전에 버전 체크한 시간이 없어 새로 쓴다 - 2일 전"),r=new Date(Date.parse(new Date)-1728e5),await Ie.setVal("ADD_version_last_check_time",r));var s=new Date(r),l=new Date,c=Number((l-s)/60/60/1e3).toFixed(4);void 0!==ADD_config.last_version&&null!==ADD_config.last_version||await GM_setting.load();var d=Number(ADD_config.last_version),u=nomo_global.version,h={ver_cur:u,ver_pre:d,ver_fut:u,ver_fut_text:nomo_global.version_str,update_log:"",notice:""},f=await Ie.getVal("ADD_version_cur_pre_fut",h);if((!$.isNumeric(ADD_config.version_check_interval)||ADD_config.version_check_interval<=1)&&(ADD_config.version_check_interval=1),c>ADD_config.version_check_interval||t)try{var p=await $.ajax({url:"https://raw.githubusercontent.com/nomomo/Addostream/master/package.json",type:"GET",dataType:"json"});je("Version - 버전확인 성공",p),o=p.update,a=p.version,i=p.notice,n={ver_cur:u,ver_pre:d,ver_fut:e=Number(F(a)),ver_fut_text:a,update_log:o,notice:i},Ie.setVal("ADD_version_cur_pre_fut",n),await Ie.setVal("ADD_version_last_check_time",new Date),p=null}catch(t){je("Version - 버전확인 실패"),console.error(t)}else e=(n=await Ie.getVal("ADD_version_cur_pre_fut",h)).ver_fut,a=n.ver_fut_text,o=n.update_log,je("Version - 현재 와의 시간 차이 : "+c+" 시간 < "+ADD_config.version_check_interval+" 이므로 체크하지 않음",n);je("Version - 현재 버전: "+u+", 이전 버전: "+d+" , 최신 버전: "+e,n);var m="두스트림 애드온이 동작 중 입니다 (v"+nomo_global.version_str+")";return u>d&&e>d?(m=m+"<br />애드온이 최근 업데이트 됨. ("+Xe(nomo_global.version_str)+")",null!=o&&""!==o&&(m=m+"<br />업데이트 내역: "+Xe(o)),15500===u&&(m+="<br /><br />Twitch 정책 변경으로 인하여, Dostream+ 의 메인에 스트리머 추가 기능과 트위치 클립 섬네일 미리보기 기능을 사용하려면 Twitch 계정과 Dostream+ 을 연동해야 합니다. 더욱 자세한 내용 및 연동 설정은 <a class='OpenTwitchAuth' href='https://www.dostream.com/addostream/twitch/auth/' target='_blank' style='text-decoration:underline'>[Twitch 계정 연동 페이지]</a> 를 확인하세요."),ADD_config.last_version=nomo_global.version,await GM_setting.save()):e>u?m=m+'<br />새로운 버전(<a href="https://raw.githubusercontent.com/nomomo/Addostream/master/Addostream.user.js" target="_blank">v'+Xe(a)+"</a>) 으로 업데이트 가능":u===d&&(m+="<br />현재 최신 버전 입니다."),!t&&ADD_config.sys_meg&&st(m),t&&ADD_config.sys_meg&&e>u&&st('새로운 버전(<a href="https://raw.githubusercontent.com/nomomo/Addostream/master/Addostream.user.js" target="_blank">v'+Xe(a)+"</a>) 으로 업데이트 가능"),t||f.notice===n.notice||void 0===n.notice||""===n.notice||null===n.notice||st("두드온 공지: "+Xe(n.notice)),!0}function F(t){for(var e=t.toString().split("."),n=0;n<e.length;n++)e[n].length<2&&(e[n]="0"+e[n]);return e.join("")}function R(e){var n,a,o=!0;switch(void 0===e&&(e=1),0!==$("#uha_chat_msgs").length&&(e=2),e){case 1:o=!0,n=".contentWrap",a=".chatInput";break;case 2:nomo_global.$GLOBAL_IFRAME_DOCUMENT=$(document),o=!1,n="#uha_chat_msgs",a="#uha_chat_input"}if(je("ADD_config.send_location_button",ADD_config.send_location_button),!ADD_config.send_location_button&&void 0!==nomo_global.$GLOBAL_IFRAME_DOCUMENT&&0!==nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("#ADD_send_location_container").length)return nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("#ADD_send_location_button").off("click"),nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("#ADD_send_location_container").remove(),!1;if(!ADD_config.send_location_button)return!1;if(void 0!==nomo_global.$GLOBAL_IFRAME_DOCUMENT&&0===nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("#ADD_send_location_container").length){var i=$('\n            <div id="ADD_send_location_container">\x3c!--width:20px;height:20px;font-size:20px--\x3e\n                <span id="ADD_send_location_notice"></span>\n                \x3c!--<span aria-label="현재 주소를 채팅 입력란에 복사" data-microtip-position="top-left" role="tooltip">--\x3e\n                    <span id="ADD_send_location_button" class="glyphicon glyphicon-send">\n                    </span>\n                \x3c!--</span>--\x3e\n            </div>');nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(n).after(i),nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("#ADD_send_location_button").on("click",(function(){je("Send location",location.href);var e="",n=nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(a);if(e=ADD_config.send_location_existing?o?n.html()+" "+parent.window.location.href:n.val()+" "+parent.window.location.href:parent.window.location.href,o?n.focus().html(e):(console.log(n,e),n.focus().val(e)),ADD_config.send_location_immediately&&nomo_global.is_send_location){if(nomo_global.is_send_location=!1,i.hide(),o){var r=nomo_global.GLOBAL_CHAT_IFRAME.contentWindow.rooms,s=r[Object.keys(r)[0]].room,l={bold:s.setting.data["style.bold"],italic:s.setting.data["style.italic"],underline:s.setting.data["style.underline"],color:$(".chatInput",r[s.id].layout).css("color")};s.action.send(e,l)}else $("#uha_chat_form").submit();setTimeout((function(){nomo_global.is_send_location=!0,i.fadeIn("fast")}),1e3*t.SEND_LOCATION_EVENT_MIN_TIME)}}))}else je("채팅창이 존재하지 않아 ADD_send_location_layout 함수에서 좌표보내기 버튼을 생성하지 못함");void 0!==nomo_global.$GLOBAL_IFRAME_DOCUMENT&&0!==nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("#ADD_send_location_container").length&&(ADD_config.send_location_button_top?nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("#ADD_send_location_container").addClass("send_location_button_top"):nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("#ADD_send_location_container").removeClass("send_location_button_top"))}var M=void 0;function N(){je("유챗 강제 연결 시도");var t,e,n=$("head");if(je("$script",t=n.find("script")),0!==t.length)for(var a=0;a<t.length;a++)-1!==(e=t[a]).src.indexOf("load.php")&&(void 0===unsafeWindow.Uchat_cache&&(unsafeWindow.Uchat_cache={plugin:[],plugin_settings:{},admin_toplayer:[],setting:{}}),unsafeWindow.Uchat_cache.setting.dostest={plugin_list:[]},e.onload(),je("유챗 연결 - load.php 강제 로드"));setTimeout((function(){if(0!==(t=n.find("script")).length)for(var a=0;a<t.length;a++)-1!==(e=t[a]).src.indexOf("view.php")&&(unsafeWindow.Uchat_cache.skin.basic.index='<!DOCTYPE html>\n<html lang="ko">\n<head>\n\t<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />\n\t<meta http-equiv="X-UA-Compatible" content="IE=edge">\n\t<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />\n\t<script type=\'text/javascript\'>\n\n\t\t//Uchat.Key = \'테스트 레이아웃 해쉬\';\n\n\t<\/script>\n\t<style>\n/* //meyerweb.com/eric/tools/css/reset/\n   v2.0 | 20110126\n   License: none (public domain)\n*/\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video, textarea, input {\n\tmargin: 0;\n\tpadding: 0;\n\t/*border: 0;*/\n\tfont-size: inherit;\n\tvertical-align: baseline;\n\tfont-family: "Nanum Gothic", "Malgun Gothic", "돋움", "dotum", "Arial";\n\t\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nhtml {height:100%;margin:0; padding:0;overflow:hidden}\nbody {\n\tcolor:#333;\n\tmargin:0;\n\theight:100%;\n\toverflow:hidden;\n\t-webkit-transform:translate3d(0, 0, 0);\n\tfont-size:9pt\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: \'\';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n\na {\n  color: #428bca;\n  text-decoration: none;\n  cursor:pointer;\n}\n\na:hover,\na:focus {\n  color: #2a6496;\n  text-decoration: underline;\n}\n.hr {border-top:1px solid #e1e1e1;font-size:0; line-height:0;}\n\n\ninput, textarea {-webkit-border-radius:0;}\n\nlabel {\n\tdisplay: block;\n\tpadding-left: 15px;\n\ttext-indent: -15px;\n\tcursor:pointer;\n}\ninput[type=checkbox] {\n\twidth: 13px;\n\theight: 13px;\n\tpadding: 0;\n\tmargin:0;\n\tvertical-align: bottom;\n\tposition: relative;\n\n\t*overflow: hidden;\n}\n\n::-webkit-scrollbar {\n\twidth: 5px;height: 5px;\n}\n::-webkit-scrollbar-track {\n\tbackground-color: #ddd;\n\tborder-left: 1px solid #ccc;\n}\n::-webkit-scrollbar-thumb {\n\tbackground-color: #333;\n}\n\n/* body>div{height:100%;} */\n\ntable {\n\twidth:100%;\n\tborder-collapse:collapse;\n\ttable-layout:fixed; }\nfieldset {border:0}\n</style>\n\t<style>.wrap { background:#fff;border: 1px solid #bdc3c7; padding:0; overflow:hidden; position: relative; max-height:100%;}\n\t\n\t.cross { display:inline-block; width:24px; height:24px;}\n\t.white .cross {background:url(//devclient.uchat.io/skin/basic/img/white/cross.png);}\n\t.black .cross {background:url(//devclient.uchat.io/skin/basic/img/black/cross.png)}\n\n\t.frozen .content.scroll-content {background:#E1F5FE;}\n\t.top.white {color:#ccc;}\n\t.top.black {color:#333;}\n\t.top { border-bottom:1px solid #bdc3c7; font-size:16px; position:relative;height:36px; z-index:11; box-shadow: 0 0 4px 0 rgba(0,0,0,0.12); padding: 0 6px; /*border-left: 8px solid #ff8127;*/}\n\t\t.top .logo {height:100%; cursor:pointer; float:left; margin-left:-6px; margin-right:6px;}\n\t\t.top .title {font-size:10pt; margin: 0 6px; font-weight:bold;overflow:hidden;white-space:nowrap}\n\t\t.top .title > div > * {float:left;}\n\t\t.top .title > div {white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;}\n\t\t.top .chatname {margin-right:6px; overflow:hidden;max-width:100%;}\n\t\t.top .countWrap {margin-left:2px;color:#888; font-size:10px;}\n\t\t.top .countIcon {display:inline-block; height:16px; width:16px;margin-right:3px; vertical-align: bottom;}\n\t\t.top.white .countIcon {background:url(//devclient.uchat.io/skin/basic/img/white/group.png);}\n\t\t.top.black .countIcon {background:url(//devclient.uchat.io/skin/basic/img/black/group.png);}\n\t\t.top .loadding {background:url(//devclient.uchat.io/skin/basic/img/loading.gif); height:16px; width:16px;display:inline-block;}\n\t\t.top .windowMenuWrap {padding-top:4px;}\n\t\t.top .windowMenuWrap img {cursor:pointer;}\n\t\t.top .windowMenuWrap div {margin-right:4px;width:12px; height:12px; cursor:pointer;display:inline-block;zoom:1;*display:inline/*IE7 HACK*/;_display:inline;/*IE6 HACK*/}\n\n\t\t.top .countWrap {height:16px; cursor:pointer;font-size: 10pt;}\n\t\t.top .count {overflow:hidden;}\n\t\t.top button {cursor:pointer; background:none; border:0;}\n\t\t.top .menu {padding:4px; margin:6px;}\n\t\t.top .menu .bgicon {width:16px; height:16px;}\n\t\t.top.white .menu .bgicon {background:url(//devclient.uchat.io/skin/basic/img/white/menu.png)}\n\t\t.top.black .menu .bgicon {background:url(//devclient.uchat.io/skin/basic/img/black/menu.png)}\n\t\t.top .menu img {vertical-align: bottom;width:16px; height:16px;}\n\n\t\t.top .login {padding:4px; margin:6px;}\n\t\t.top .login .bgicon {width:16px; height:16px;}\n\t\t.top.white .login .bgicon {background:url(//devclient.uchat.io/skin/basic/img/white/key.png)}\n\t\t.top.black .login .bgicon {background:url(//devclient.uchat.io/skin/basic/img/black/key.png)}\n\t\t.room_setting {padding:4px; margin:6px;}\n\t\t.room_setting .bgicon {width:16px; height:16px;}\n\t\t.top.white .room_setting .bgicon {background:url(//devclient.uchat.io/skin/basic/img/white/setting.png);}\n\t\t.top.black .room_setting .bgicon {background:url(//devclient.uchat.io/skin/basic/img/black/setting.png);}\n\n\t\t.top.white .reload {background:url(//devclient.uchat.io/skin/basic/img/white/reload.png);}\n\t\t.top.black .reload {background:url(//devclient.uchat.io/skin/basic/img/black/reload.png);}\n\t\t.new_popup {margin-right:0 !important}\n\t\t.top.white .new_popup {background:url(//devclient.uchat.io/skin/basic/img/white/new_popup.png);}\n\t\t.top.black .new_popup {background:url(//devclient.uchat.io/skin/basic/img/black/new_popup.png);}\n\n\t\t.groupIcon {display:inline-block; height:16px; width:16px;vertical-align: middle;margin-right:2px;}\n\t\t.top.white .groupIcon { background:url(//devclient.uchat.io/skin/basic/img/white/group.png)}\n\t\t.top.black .groupIcon { background:url(//devclient.uchat.io/skin/basic/img/black/group.png)}\n\n\t.settingBackground {display:none;width:100%;height:100%;z-index:100;position:absolute;top:0;left:0}\n\t\t\n\t.settingContent.white {color:#ccc;}\n\t.settingContent.black {color:#333;}\n\t.settingContent {position:absolute; top:0; left:0; width:150px; border:1px solid #bdc3c7; background:white;z-index:111;display:none;box-shadow: 3px 3px 3px 0px rgba(0,0,0,0.2);}\n\t\t.settingContent .title { border-bottom:1px solid gray;}\n\t\t.settingContent .title .title_subject {font-size:11pt; font-weight:bold; padding:15px;}\n\t\t.settingContent .title .cross {cursor:pointer; padding-top:4px; padding-right:4px;}\n\t\t.settingContent.white .title .cross {background:url(//devclient.uchat.io/skin/basic/img/white/cross.png)}\n\t\t.settingContent.black .title .cross {background:url(//devclient.uchat.io/skin/basic/img/black/cross.png)}\n\t\t\n\t\t.settingContent .floor { cursor:pointer;}\n\t\t.settingContent .floor label {padding:10px;padding-left:25px;}\n\t\t.settingContent.white .floor.hover {background:#424242;}\n\t\t.settingContent.black .floor.hover {background:#F7F7F7;}\n\t\t.settingContent .subtitle {padding:10px; font-weight:bold;cursor:pointer;}\n\t\t.settingContent .subject {}\n\t\t.settingContent .pack {display:none;}\n\t\t.onlyadmin {display:none;}\n\t\t.onlyAd {display:none;}\n\n\t\n\t.middle.white {color:#ccc;}\n\t.middle.black {color:#333;}\n\t.middle { background:#fff; overflow:hidden; position: relative; z-index:2; width:100%;}\n\t\t.middle .contour {height:7px; width:7px;font-size:0;line-height:0;}\n\t\t.middle .contour table {height:100%; width:100%;}\n\t\t.middle .contour td {text-align:center; vertical-align:middle;}\n\t\t.middle.vertical .contour { width:100%; cursor:s-resize; }\n\t\t.middle.horizontal .contour {float:right;height:100%; cursor:w-resize;}\n\t\t.middle .contour span {}\n\t\t.dot {width:5px; height:5px;}\n\t\t.black .dot {background-image: url(//devclient.uchat.io/skin/basic/img/black/dot.png)}\n\t\t.white .dot {background-image: url(//devclient.uchat.io/skin/basic/img/white/dot.png)}\n\t\t.vertical .dot {display:inline-block;margin:0px 2px;}\n\t\t.horizontal .dot {display:block; margin:2px auto;}\t\n\t.content, .userList {}\n\n\t.contentWrap, .userListWrap {height:100%; }\n\n\t.contentWrap {}\n\t\t.middle.vertical .contentWrap {width:auto; height:0;}\n\t\t.middle.horizontal .contentWrap {height:100%;}\n\t\t\t.line {padding:2px 5px; word-break:break-all; line-height:1.41; overflow:hidden;}\n\t\t\t.line span, .line img {vertical-align: middle;}\n\t\t\t.line .nick {font-weight:bold;}\n\t\t\t.white .myLine {background:#383838;}\n\t\t\t.black .myLine {background:#F5F5F5;}\n\t\t\t.white .myNick {color:#4FC3F7}\n\t\t\t.black .myNick {color:#1565C0}\n\t\t\t.white .whisperFlag {color:#4FC3F7}\n\t\t\t.black .whisperFlag {color:#1565C0}\n\t\t\t.system {text-align:center; font-weight:bold;}\n\t\t\t.white .system {color:#66BB6A;}\n\t\t\t.black .system {color:#43A047}\n\n\t\n\n\t.userListWrap {line-height:1;}\n\t\t.middle.vertical .userListWrap {width:auto;height:0;/*border-bottom:1px solid #bdc3c7;*/}\n\t\t.middle.horizontal .userListWrap {float:right;height:100%;width:0;/*border-left:1px solid #bdc3c7;*/ }\n\t\t.white .i .userFloor {background:#424242;}\n\t\t.white .i {color:#4FC3F7}\n\t\t.black .i .userFloor {background:#E0E0E0;}\n\t\t.black .i {color:#1565C0}\n\t\t.userFloor {padding:5px; vertical-align: middle;}\n\t\t.userFloor span, .userFloor img{vertical-align: middle;}\n\t\t//.white .userFloor:hover {background:#424242}\n\t\t//.black .userFloor:hover {background:#E0E0E0}\n\t\t.mute {text-decoration: line-through;}\n\n\t.nick {cursor:pointer;}\n\n\t\n\t/*\n\t\n\t\t.contentShape1 {}\n\t\t.contentShape2 {float:left;height:100%;}\n\t\t\t.line {padding:2px 5px; word-break:break-all; line-height:1.41;o\n\t\t\t.myLine {background:#f5f5f5;}\n\t\t\t.system {text-align:center; font-weight:bold; color:#028902}\n\n\t.userList {line-height:1; overflow: auto;}\n\t\t.userListShape1 {border-bottom:1px solid #bdc3c7;}\n\t\t.userListShape2 {float:right;height:100%; border-left:1px solid #bdc3c7; }\n\t\t.userFloor {padding:5px 0 0 5px;}\n\t*/\n\n\t.white .menuBar {color:#ccc;}\n\t.black .menuBar {color:#333;}\n\t.menuBar { padding:4px; overflow:hidden;display:none;\n\t\tborder:1px solid #bdc3c7; border-width:0; \n\t\tposition:relative; padding:0; padding:0 10px 9px 10px; margin-top:0;\t\n\t\t/*\n\t\tfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#ffffff\', endColorstr=\'#f6f6f6\');\n\t\tbackground-image: linear-gradient(to bottom, #ffffff 0, #f6f6f6 100%);*/\n\t}\n\t\t.menuBar > div { cursor:pointer;}\n\n\t\t\n\t\t.menuBar .menu-style {width:16px; height:16px; display:inline-block; *display:inline; *zoom:1; vertical-align:middle; overflow: hidden; margin-right:5px; background-position:top left; background-repeat:no-repeat; font-size:14px; }\n\t\t.menuBar .menu-style:hover {}\n\t\t.menuBar .menu-style.on {background-position : 0px 100%;}\n\n\t\t//.icon_logo {position:absolute; top:0; left:0; height:100%; width:26px; cursor:pointer;}\n\n\t.plusWrap {position:absolute; left:2px; bottom:0;  width:200px; display:none;}\n\t\t.plusBoarder {border:1px solid #333;background:white;padding:7px;}\n\t\t.triangle-down {margin-left:7px;width: 0;height: 0;border-left: 6px solid transparent;border-right: 6px solid transparent;border-top: 8px solid #333;}\n\t\t.triangle-down2 {margin-left:7px;width: 0;height: 0;border-left: 6px solid transparent;border-right: 6px solid transparent;border-top: 8px solid white;position:absolute;left:0; bottom:1px;}\n\n\t.bottom.white {color:#ccc;border-top:1px solid #333;}\n\t.bottom.black {color:#333;border-top:1px solid #dbdbdb;}\n\t.bottom {position:absolute;bottom:0;left:0;right:0;background:#fff; overflow:hidden;font-size:0;z-index:11;box-shadow: 0px -1px 7px 0px rgba(0, 0, 0, 0.2);}\n\t\t.bottom table {height:100%;}\n\t\t.bottom table td {line-height:0;font-size:0;vertical-align: middle;}\n\t\t.bottom fieldset {}\n\t\t.plus {float:left;width:16px; height:16px;margin-right:5px;cursor:pointer}\n\t\t.white .plus {background:url(//devclient.uchat.io/skin/basic/img/white/plus.png) no-repeat}\n\t\t.black .plus {background:url(//devclient.uchat.io/skin/basic/img/black/plus.png) no-repeat}\n\t\t.emoticon {width:16px; height:16px; margin-left:5px; display:inline-block;float:right;cursor:pointer;}\n\t\t.black .emoticon {background:url(//devclient.uchat.io/skin/basic/img/black/emoticon.png) no-repeat}\n\t\t.white .emoticon {background:url(//devclient.uchat.io/skin/basic/img/white/emoticon.png) no-repeat}\n\t\t.whisperWrap {float:left;}\n\t\t\t.whisperWrap .target {font-size:9pt; margin: 0 3px; padding:0 3px; background:#E0E0E0; border-radius:3px; border:1px solid #bdbdbd; line-height: 1.6; color:#333; }\n\t\t\t.whisperWrap .cancle {cursor:pointer; font-weight:bold;}\n\t\t.inputWrap {  overflow:hidden; border:0; width:100%; cursor:text; padding: 11px 10px;}\n\t\t\t.inputContent { line-height:0; overflow:hidden }\n\n\t\t\t\t.chatInputHidden, .chatInput {min-height:16px;line-height:16px;border:0; outline:none;overflow:hidden;resize:none;font-size:13px;border:0;max-width:100%; padding:1px 6px;}\n\t\t\t\t.bottom.white [contenteditable=true]:not(:focus):empty:before{\n\t\t\t\t\tcontent: attr(placeholder);\n\t\t\t\t\tdisplay: block; /* For Firefox */\n\t\t\t\t\tcolor:white;\n\t\t\t\t}\n\t\t\t\t.bottom.black [contenteditable=true]:not(:focus):empty:before{\n\t\t\t\t\tcontent: attr(placeholder);\n\t\t\t\t\tdisplay: block; /* For Firefox */\n\t\t\t\t\tcolor:#555;\n\t\t\t\t}\n\t\t\t\t.chatInputHidden {visibility: hidden; position: absolute;height:auto;min-height:16px;max-width:100%;}\n\t\t\t\t.sendWrap { width:44px; border-left:1px solid #d3d3d3; float:right; height:100%; position:relative; left:45px; text-align:center;overflow:hidden;color:gray;cursor:pointer;}\n\t.latest_chat {position:absolute;left:0; right:0; background:white;z-index:100; padding:5px; background:#FAFAFA; border:1px solid #CACDD4;cursor:pointer;}\n\t\t.latest_chat .slideDown {padding:3px;}\n\n.left {float:left}\n.right {float:right}\n.clear {clear:both; content:""; display:block; font-size:0; overflow:hidden; height:0; line-height:0;}\n.group:after { \n   content: "."; \n   visibility: hidden; \n   display: block; \n   height: 0; \n   clear: both;\n}\n.middleImg {width:0; height:100%; vertical-align:middle;}\n.hidden {/*visibility:hidden;*/ display:none;}\n.cssCheck {vertical-align:text-bottom; margin:0;}\n.show {}\n.hoverOpacity {opacity: 0.6; filter:alpha(opacity=60)}\n.hoverOpacity.on, .hoverOpacity:hover {opacity: 1; filter:alpha(opacity=100)}\n.verticalMiddle {display:table-cell; vertical-align:middle;}\n.table {display:table; height:100%;}\n\n.background-1 {background:#E1F5FE; padding:10px 0; }\n\n#popupBackground {position:absolute; background-color:white; width:100%; height:100%; top:0; left:0; z-index:1110; filter: alpha(opacity=0); opacity:0; /*display:none;*/}\n\n#popupWrap {position:absolute;z-index:1111;/* width:0; background-color:#FDFDFD; border:1px solid #bbb; box-shadow: rgba(0, 0, 0, 0.2) 0px 2px 40px 0px; */box-shadow: 0px 3px 5px -1px rgba(0, 0, 0, 0.2),\n\n    0px 6px 10px 0px rgba(0, 0, 0, 0.14),\n\n    0px 1px 18px 0px rgba(0, 0, 0, 0.12);}\n\t#popupWrap div,#popupWrap fieldset {}\n\t#popupWrap .floor {position: relative;border:1px solid #FDFDFD; cursor:pointer; padding:7px; display:block;    overflow: hidden;}\n\t#popupWrap .floor:hover {background:#FAF3D2; border:1px solid #FFD700; }\n\t#popupWrap .subject {padding:10px; font-weight:bold; word-break: break-all;}\n\t#popupWrap .hr {}\n.scrollable {overflow-y:auto}\n\n.popupWrapStyle_1 {background:white; border:2px solid #333; padding:15px; }\n\t.popupWrapStyle_1 .title {font-size:12pt; font-weight:bold; margin-bottom:7px;}\n\t.popupWrapStyle_1 dt {font-weight:bold; font-size:10pt; margin-bottom:3px;}\n\t.popupWrapStyle_1 dd input {padding:3px; font-size:9pt;}\n\t.popupWrapStyle_1 select {width:100%}\n\t.popupWrapStyle_1 .btn {float:right;margin:10px 10px 0; cursor:pointer;}\n\t/*\n\t#popupWrap .floor .icon {float:left; height:20px; width:20px;}\n\t#popupWrap .floor .title {float:left; height:20px; overflow:hidden; line-height:20px;}\n\t*/\n\n/* top layer */\n\n.top_layer_wrap {position:absolute; left:0; top:0; width:100%; color:#333;}\n.top_layer_wrap .floor {padding:5px; background:#81D4FA; margin-bottom:1px;}\n.top_layer_wrap .floor .text {float:left;font-weight:bold;}\n.top_layer_wrap .floor .iconLink {display:inline-block; width:12px; height:12px; cursor:pointer; vertical-align:bottom; margin-left:5px; margin-bottom:2px;}\n.top_layer_wrap .floor .close {float:right; width:16px; height:16px; cursor:pointer; }\n.top_layer_wrap .floor.black .close {background:url(//devclient.uchat.io/skin/basic/img/black/small_cross.png); }\n.top_layer_wrap .floor.white .close {background:url(//devclient.uchat.io/skin/basic/img/white/small_cross.png); }\n.top_layer_wrap .floor.black .iconLink {background:url(//devclient.uchat.io/skin/basic/img/black/link.png); }\n.top_layer_wrap .floor.white .iconLink {background:url(//devclient.uchat.io/skin/basic/img/white/link.png); }\n\n/* top layer end */\n\n\n.emoticon_wrap {background:white; border:1px solid #333;}\n.emoticon_top {}\n.emoticon_search {line-height:20px;}\n.emoticon_middle { padding:7px; padding-top:0; height:200px; overflow-y:scroll;}\n.emoticon_middle img {margin-top:10px; margin-right:5px; cursor:pointer;}\n.emoticon_middle img.last {margin-right:0}\n.emoticon_bottom {}\n\n.popup {}\n\n.middlebox {height:100%;}\n.middlebox::before {\n\tcontent: \'\';\n\tdisplay: inline-block;\n\theight: 100%; \n\tvertical-align: middle;\n\tmargin-right: -.25em; /* Adjusts for spacing */\n}\n\n.middlebox > * {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n}\n/*\n * Very simple jQuery Color Picker\n * http://github.com/tkrotoff/jquery-simplecolorpicker\n *\n * Copyright (C) 2012-2013 Tanguy Krotoff <tkrotoff@gmail.com>\n *\n * Licensed under the MIT license\n */\n\n/**\n * Inspired by Bootstrap Twitter.\n * See http://github.com/twbs/bootstrap/blob/master/less/navbar.less\n * See http://github.com/twbs/bootstrap/blob/master/less/dropdowns.less\n */\n\n.simplecolorpicker.picker {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  z-index: 30; /* Above Bootstrap modal (@zindex-modal = 1050) */\n  /*display: none;*/\n  float: left;\n\n  min-width: 160px;\n  max-width: 283px; /* @popover-max-width = 276px + 7 */\n\n  padding: 5px 0 0 5px;\n  margin: 2px 0 0;\n  list-style: none;\n  background-color: #fff; /* @dropdown-bg */\n\n  border: 1px solid #ccc; /* @dropdown-fallback-border */\n  border: 1px solid rgba(0, 0, 0, .15); /* @dropdown-border */\n\n  -webkit-border-radius: 4px; /* @border-radius-base */\n\t -moz-border-radius: 4px;\n\t\t  border-radius: 4px;\n\n  -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, .175);\n\t -moz-box-shadow: 0 6px 12px rgba(0, 0, 0, .175);\n\t\t  box-shadow: 0 6px 12px rgba(0, 0, 0, .175);\n\n  -webkit-background-clip: padding-box;\n\t -moz-background-clip: padding;\n\t\t  background-clip: padding-box;\n}\n\n.simplecolorpicker.inline {\n  display: inline-block;\n  padding: 6px 0;\n}\n\n.simplecolorpicker span {\n  margin: 0 5px 5px 0;\n}\n\n.simplecolorpicker.icon,\n.simplecolorpicker span.color {\n  display: inline-block;\n\n  cursor: pointer;\n  border: 1px solid transparent;\n  width:16px;\n}\n\n.simplecolorpicker.icon:after,\n.simplecolorpicker span.color:after {\n  content: \'\\00a0\\00a0\\00a0\\00a0\'; /* Spaces */\n}\n\n.simplecolorpicker span.color[data-disabled]:hover {\n  cursor: not-allowed;\n  border: 1px solid transparent;\n}\n\n.simplecolorpicker span.color:hover,\n.simplecolorpicker span.color[data-selected],\n.simplecolorpicker span.color[data-selected]:hover {\n  border: 1px solid #222; /* @gray-dark */\n}\n.simplecolorpicker span.color[data-selected]:after {\n  color: #fff;\n}\n\n/* Vertical separator, replaces optgroup. */\n.simplecolorpicker span.vr {\n  border-left: 1px solid #222; /* @gray-dark */\n}\n\n\n/** initial setup **/\n.nano {\n    position : relative;\n    /*width    : 100%;*/\n    height   : 100%;\n    overflow : hidden;\n}\n.nano > .nano-content {\n    position      : absolute;\n    overflow      : scroll;\n    overflow-x    : hidden;\n    top           : 0;\n    right         : 0;\n    bottom        : 0;\n    left          : 0;\n}\n.nano > .nano-content:focus {\n    outline: thin dotted;\n}\n.nano > .nano-content::-webkit-scrollbar {\n    display: none;\n}\n.has-scrollbar > .nano-content::-webkit-scrollbar {\n    display: block;\n}\n.nano > .nano-pane {\n    background : rgba(0,0,0,.25);\n    position   : absolute;\n    width      : 10px;\n    right      : 0;\n    top        : 0;\n    bottom     : 0;\n    visibility : hidden\\9; /* Target only IE7 and IE8 with this hack */\n    opacity    : .01;\n    -webkit-transition    : .2s;\n    -moz-transition       : .2s;\n    -o-transition         : .2s;\n    transition            : .2s;\n    -moz-border-radius    : 5px;\n    -webkit-border-radius : 5px;\n    border-radius         : 5px;\n}\n.nano > .nano-pane > .nano-slider {\n    background: #444;\n    background: rgba(0,0,0,.5);\n    position              : relative;\n    margin                : 0 1px;\n    -moz-border-radius    : 3px;\n    -webkit-border-radius : 3px;\n    border-radius         : 3px;\n}\n.nano:hover > .nano-pane, .nano-pane.active, .nano-pane.flashed {\n    visibility : visible\\9; /* Target only IE7 and IE8 with this hack */\n    opacity    : 0.99;\n}\n\n.tooltip {\n\tdisplay:none;\n\tposition:absolute;\n\tborder:1px solid #333;\n\tbackground-color:#161616;\n\tborder-radius:3px;\n\tpadding:8px;\n\tcolor:#fff;\n\tfont-size:12px Arial;\n\tz-index:40;\nbox-shadow:  0px 1px 5px 0px rgba(0, 0, 0, 0.2),\n\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14),\n\n    0px 3px 1px -2px rgba(0, 0, 0, 0.12);\n}\n</style>\n\t<style>/*************** SCROLLBAR BASE CSS ***************/\n\n.scroll-wrapper {\n    overflow: hidden !important;\n    padding: 0 !important;\n    position: relative;\n}\n\n.scroll-wrapper > .scroll-content {\n    border: none !important;\n    box-sizing: content-box !important;\n    height: auto;\n    left: 0;\n    margin: 0;\n    max-height: none;\n    max-width: none !important;\n    overflow: scroll !important;\n    padding: 0;\n    position: relative !important;\n    top: 0;\n    width: auto !important;\n}\n\n.scroll-wrapper > .scroll-content::-webkit-scrollbar {\n    height: 0;\n    width: 0;\n}\n\n.scroll-element {\n    display: none;\n}\n.scroll-element, .scroll-element div {\n    box-sizing: content-box;\n}\n\n.scroll-element.scroll-x.scroll-scrollx_visible,\n.scroll-element.scroll-y.scroll-scrolly_visible {\n    display: block;\n}\n\n.scroll-element .scroll-bar,\n.scroll-element .scroll-arrow {\n    cursor: default;\n}\n\n.scroll-textarea {\n    border: 1px solid #cccccc;\n    border-top-color: #999999;\n}\n.scroll-textarea > .scroll-content {\n    overflow: hidden !important;\n}\n.scroll-textarea > .scroll-content > textarea {\n    border: none !important;\n    box-sizing: border-box;\n    height: 100% !important;\n    margin: 0;\n    max-height: none !important;\n    max-width: none !important;\n    overflow: scroll !important;\n    outline: none;\n    padding: 2px;\n    position: relative !important;\n    top: 0;\n    width: 100% !important;\n}\n.scroll-textarea > .scroll-content > textarea::-webkit-scrollbar {\n    height: 0;\n    width: 0;\n}\n\n\n\n\n\n\n\n\n\n/*************** SIMPLE INNER SCROLLBAR ***************/\n\n.scrollbar-inner > .scroll-element,\n.scrollbar-inner > .scroll-element div\n{\n    border: none;\n    margin: 0;\n    padding: 0;\n    position: absolute;\n    z-index: 10;\n}\n\n.scrollbar-inner > .scroll-element div {\n    display: block;\n    height: 100%;\n    left: 0;\n    top: 0;\n    width: 100%;\n}\n\n.scrollbar-inner > .scroll-element.scroll-x {\n    bottom: 2px;\n    height: 8px;\n    left: 0;\n    width: 100%;\n}\n\n.scrollbar-inner > .scroll-element.scroll-y {\n    height: 100%;\n    right: 2px;\n    top: 0;\n    width: 8px;\n}\n\n.scrollbar-inner > .scroll-element .scroll-element_outer {\n    overflow: hidden;\n}\n\n.scrollbar-inner > .scroll-element .scroll-element_outer,\n.scrollbar-inner > .scroll-element .scroll-element_track,\n.scrollbar-inner > .scroll-element .scroll-bar {\n    -webkit-border-radius: 8px;\n    -moz-border-radius: 8px;\n    border-radius: 8px;\n}\n\n.scrollbar-inner > .scroll-element .scroll-element_track,\n.scrollbar-inner > .scroll-element .scroll-bar {\n    -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";\n    filter: alpha(opacity=40);\n    opacity: 0.4;\n}\n\n.scrollbar-inner > .scroll-element .scroll-element_track { background-color: #e0e0e0; }\n.scrollbar-inner > .scroll-element .scroll-bar { background-color: #c2c2c2; }\n.scrollbar-inner > .scroll-element:hover .scroll-bar { background-color: #919191; }\n.scrollbar-inner > .scroll-element.scroll-draggable .scroll-bar { background-color: #919191; }\n\n\n/* update scrollbar offset if both scrolls are visible */\n\n.scrollbar-inner > .scroll-element.scroll-x.scroll-scrolly_visible .scroll-element_track { left: -12px; }\n.scrollbar-inner > .scroll-element.scroll-y.scroll-scrollx_visible .scroll-element_track { top: -12px; }\n\n\n.scrollbar-inner > .scroll-element.scroll-x.scroll-scrolly_visible .scroll-element_size { left: -12px; }\n.scrollbar-inner > .scroll-element.scroll-y.scroll-scrollx_visible .scroll-element_size { top: -12px; }\n\n\n\n\n\n\n\n\n\n\n/*************** SIMPLE OUTER SCROLLBAR ***************/\n\n.scrollbar-outer > .scroll-element,\n.scrollbar-outer > .scroll-element div\n{\n    border: none;\n    margin: 0;\n    padding: 0;\n    position: absolute;\n    z-index: 10;\n}\n\n.scrollbar-outer > .scroll-element {\n    background-color: #ffffff;\n}\n\n.scrollbar-outer > .scroll-element div {\n    display: block;\n    height: 100%;\n    left: 0;\n    top: 0;\n    width: 100%;\n}\n\n.scrollbar-outer > .scroll-element.scroll-x {\n    bottom: 0;\n    height: 12px;\n    left: 0;\n    width: 100%;\n}\n\n.scrollbar-outer > .scroll-element.scroll-y {\n    height: 100%;\n    right: 0;\n    top: 0;\n    width: 12px;\n}\n\n.scrollbar-outer > .scroll-element.scroll-x .scroll-element_outer { height: 8px; top: 2px; }\n.scrollbar-outer > .scroll-element.scroll-y .scroll-element_outer { left: 2px; width: 8px; }\n\n.scrollbar-outer > .scroll-element .scroll-element_outer { overflow: hidden; }\n.scrollbar-outer > .scroll-element .scroll-element_track { background-color: #eeeeee; }\n\n.scrollbar-outer > .scroll-element .scroll-element_outer,\n.scrollbar-outer > .scroll-element .scroll-element_track,\n.scrollbar-outer > .scroll-element .scroll-bar {\n    -webkit-border-radius: 8px;\n    -moz-border-radius: 8px;\n    border-radius: 8px;\n}\n\n.scrollbar-outer > .scroll-element .scroll-bar { background-color: #d9d9d9; }\n.scrollbar-outer > .scroll-element .scroll-bar:hover { background-color: #c2c2c2; }\n.scrollbar-outer > .scroll-element.scroll-draggable .scroll-bar { background-color: #919191; }\n\n\n/* scrollbar height/width & offset from container borders */\n\n.scrollbar-outer > .scroll-content.scroll-scrolly_visible { left: -12px; margin-left: 12px; }\n.scrollbar-outer > .scroll-content.scroll-scrollx_visible { top:  -12px; margin-top:  12px; }\n\n.scrollbar-outer > .scroll-element.scroll-x .scroll-bar { min-width: 10px; }\n.scrollbar-outer > .scroll-element.scroll-y .scroll-bar { min-height: 10px; }\n\n\n/* update scrollbar offset if both scrolls are visible */\n\n.scrollbar-outer > .scroll-element.scroll-x.scroll-scrolly_visible .scroll-element_track { left: -14px; }\n.scrollbar-outer > .scroll-element.scroll-y.scroll-scrollx_visible .scroll-element_track { top: -14px; }\n\n.scrollbar-outer > .scroll-element.scroll-x.scroll-scrolly_visible .scroll-element_size { left: -14px; }\n.scrollbar-outer > .scroll-element.scroll-y.scroll-scrollx_visible .scroll-element_size { top: -14px; }\n\n\n\n\n\n\n\n\n\n\n/*************** SCROLLBAR MAC OS X ***************/\n\n.scrollbar-macosx > .scroll-element,\n.scrollbar-macosx > .scroll-element div\n{\n    background: none;\n    border: none;\n    margin: 0;\n    padding: 0;\n    position: absolute;\n    z-index: 10;\n}\n\n.scrollbar-macosx > .scroll-element div {\n    display: block;\n    height: 100%;\n    left: 0;\n    top: 0;\n    width: 100%;\n}\n\n.scrollbar-macosx > .scroll-element .scroll-element_track { display: none; }\n.scrollbar-macosx > .scroll-element .scroll-bar {\n    background-color: #6C6E71;\n    display: block;\n\n    -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n    opacity: 0;\n\n    -webkit-border-radius: 7px;\n    -moz-border-radius: 7px;\n    border-radius: 7px;\n\n    -webkit-transition: opacity 0.2s linear;\n    -moz-transition: opacity 0.2s linear;\n    -o-transition: opacity 0.2s linear;\n    -ms-transition: opacity 0.2s linear;\n    transition: opacity 0.2s linear;\n}\n.scrollbar-macosx:hover > .scroll-element .scroll-bar,\n.scrollbar-macosx > .scroll-element.scroll-draggable .scroll-bar {\n    -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n    filter: alpha(opacity=70);\n    opacity: 0.7;\n}\n\n\n.scrollbar-macosx > .scroll-element.scroll-x {\n    bottom: 0px;\n    height: 0px;\n    left: 0;\n    min-width: 100%;\n    overflow: visible;\n    width: 100%;\n}\n\n.scrollbar-macosx > .scroll-element.scroll-y {\n    height: 100%;\n    min-height: 100%;\n    right: 0px;\n    top: 0;\n    width: 0px;\n}\n\n/* scrollbar height/width & offset from container borders */\n.scrollbar-macosx > .scroll-element.scroll-x .scroll-bar { height: 7px; min-width: 10px; top: -9px; }\n.scrollbar-macosx > .scroll-element.scroll-y .scroll-bar { left: -9px; min-height: 10px; width: 7px; }\n\n.scrollbar-macosx > .scroll-element.scroll-x .scroll-element_outer { left: 2px; }\n.scrollbar-macosx > .scroll-element.scroll-x .scroll-element_size { left: -4px; }\n\n.scrollbar-macosx > .scroll-element.scroll-y .scroll-element_outer { top: 2px; }\n.scrollbar-macosx > .scroll-element.scroll-y .scroll-element_size { top: -4px; }\n\n/* update scrollbar offset if both scrolls are visible */\n.scrollbar-macosx > .scroll-element.scroll-x.scroll-scrolly_visible .scroll-element_size { left: -11px; }\n.scrollbar-macosx > .scroll-element.scroll-y.scroll-scrollx_visible .scroll-element_size { top: -11px; }\n\n\n\n\n\n\n\n\n\n\n/*************** SCROLLBAR LIGHT ***************/\n\n.scrollbar-light > .scroll-element,\n.scrollbar-light > .scroll-element div {\n    border: none;\n    margin: 0;\n    overflow: hidden;\n    padding: 0;\n    position: absolute;\n    z-index: 10;\n}\n\n.scrollbar-light > .scroll-element {\n    background-color: #ffffff;\n}\n\n.scrollbar-light > .scroll-element div {\n    display: block;\n    height: 100%;\n    left: 0;\n    top: 0;\n    width: 100%;\n}\n\n.scrollbar-light > .scroll-element .scroll-element_outer {\n    -webkit-border-radius: 10px;\n    -moz-border-radius: 10px;\n    border-radius: 10px;\n}\n\n.scrollbar-light > .scroll-element .scroll-element_size {\n    background: #dbdbdb;\n    background: none;\n    background: -moz-linear-gradient(left, #dbdbdb 0%, #e8e8e8 100%);\n    background: -webkit-gradient(linear, left top, right top, color-stop(0%,#dbdbdb), color-stop(100%,#e8e8e8));\n    background: -webkit-linear-gradient(left, #dbdbdb 0%,#e8e8e8 100%);\n    background: -o-linear-gradient(left, #dbdbdb 0%,#e8e8e8 100%);\n    background: -ms-linear-gradient(left, #dbdbdb 0%,#e8e8e8 100%);\n    background: linear-gradient(to right, #dbdbdb 0%,#e8e8e8 100%);\n\n    -webkit-border-radius: 10px;\n    -moz-border-radius: 10px;\n    border-radius: 10px;\n}\n\n.scrollbar-light > .scroll-element.scroll-x {\n    bottom: 0;\n    height: 17px;\n    left: 0;\n    min-width: 100%;\n    width: 100%;\n}\n\n.scrollbar-light > .scroll-element.scroll-y {\n    height: 100%;\n    min-height: 100%;\n    right: 0;\n    top: 0;\n    width: 17px;\n}\n\n.scrollbar-light > .scroll-element .scroll-bar {\n    background: #fefefe;\n    background: none;\n    background: -moz-linear-gradient(left, #fefefe 0%, #f5f5f5 100%);\n    background: -webkit-gradient(linear, left top, right top, color-stop(0%,#fefefe), color-stop(100%,#f5f5f5));\n    background: -webkit-linear-gradient(left, #fefefe 0%,#f5f5f5 100%);\n    background: -o-linear-gradient(left, #fefefe 0%,#f5f5f5 100%);\n    background: -ms-linear-gradient(left, #fefefe 0%,#f5f5f5 100%);\n    background: linear-gradient(to right, #fefefe 0%,#f5f5f5 100%);\n\n    border: 1px solid #dbdbdb;\n    -webkit-border-radius: 10px;\n    -moz-border-radius: 10px;\n    border-radius: 10px;\n}\n\n/* scrollbar height/width & offset from container borders */\n\n.scrollbar-light > .scroll-content.scroll-scrolly_visible { left: -17px; margin-left: 17px; }\n.scrollbar-light > .scroll-content.scroll-scrollx_visible { top:  -17px; margin-top:  17px; }\n\n.scrollbar-light > .scroll-element.scroll-x .scroll-bar { height: 10px; min-width: 10px; top: 0px; }\n.scrollbar-light > .scroll-element.scroll-y .scroll-bar { left: 0px; min-height: 10px; width: 10px; }\n\n.scrollbar-light > .scroll-element.scroll-x .scroll-element_outer { height: 12px; left: 2px; top: 2px; }\n.scrollbar-light > .scroll-element.scroll-x .scroll-element_size { left: -4px; }\n\n.scrollbar-light > .scroll-element.scroll-y .scroll-element_outer { left: 2px; top: 2px; width: 12px; }\n.scrollbar-light > .scroll-element.scroll-y .scroll-element_size { top: -4px; }\n\n/* update scrollbar offset if both scrolls are visible */\n\n.scrollbar-light > .scroll-element.scroll-x.scroll-scrolly_visible .scroll-element_size { left: -19px; }\n.scrollbar-light > .scroll-element.scroll-y.scroll-scrollx_visible .scroll-element_size { top: -19px; }\n\n.scrollbar-light > .scroll-element.scroll-x.scroll-scrolly_visible .scroll-element_track { left: -19px; }\n.scrollbar-light > .scroll-element.scroll-y.scroll-scrollx_visible .scroll-element_track { top: -19px; }\n\n\n\n\n\n\n\n\n\n\n/*************** SCROLLBAR RAIL ***************/\n\n.scrollbar-rail > .scroll-element,\n.scrollbar-rail > .scroll-element div\n{\n    border: none;\n    margin: 0;\n    overflow: hidden;\n    padding: 0;\n    position: absolute;\n    z-index: 10;\n}\n\n.scrollbar-rail > .scroll-element {\n    background-color: #ffffff;\n}\n\n.scrollbar-rail > .scroll-element div {\n    display: block;\n    height: 100%;\n    left: 0;\n    top: 0;\n    width: 100%;\n}\n\n.scrollbar-rail > .scroll-element .scroll-element_size {\n    background-color: #999;\n    background-color: rgba(0, 0, 0, 0.3);\n}\n\n.scrollbar-rail > .scroll-element .scroll-element_outer:hover .scroll-element_size {\n    background-color: #666;\n    background-color: rgba(0, 0, 0, 0.5);\n}\n\n.scrollbar-rail > .scroll-element.scroll-x {\n    bottom: 0;\n    height: 12px;\n    left: 0;\n    min-width: 100%;\n    padding: 3px 0 2px;\n    width: 100%;\n}\n\n.scrollbar-rail > .scroll-element.scroll-y {\n    height: 100%;\n    min-height: 100%;\n    padding: 0 2px 0 3px;\n    right: 0;\n    top: 0;\n    width: 12px;\n}\n\n.scrollbar-rail > .scroll-element .scroll-bar {\n    background-color: #d0b9a0;\n\n    -webkit-border-radius: 2px;\n    -moz-border-radius: 2px;\n    border-radius: 2px;\n\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);\n}\n\n.scrollbar-rail > .scroll-element .scroll-element_outer:hover .scroll-bar {\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.6);\n}\n\n/* scrollbar height/width & offset from container borders */\n\n.scrollbar-rail > .scroll-content.scroll-scrolly_visible { left: -17px; margin-left: 17px; }\n.scrollbar-rail > .scroll-content.scroll-scrollx_visible { margin-top: 17px; top: -17px; }\n\n.scrollbar-rail > .scroll-element.scroll-x .scroll-bar { height: 10px; min-width: 10px; top: 1px; }\n.scrollbar-rail > .scroll-element.scroll-y .scroll-bar { left: 1px; min-height: 10px; width: 10px; }\n\n.scrollbar-rail > .scroll-element.scroll-x .scroll-element_outer { height: 15px; left: 5px; }\n.scrollbar-rail > .scroll-element.scroll-x .scroll-element_size { height: 2px; left: -10px; top: 5px; }\n\n.scrollbar-rail > .scroll-element.scroll-y .scroll-element_outer { top: 5px; width: 15px; }\n.scrollbar-rail > .scroll-element.scroll-y .scroll-element_size { left: 5px; top: -10px; width: 2px; }\n\n/* update scrollbar offset if both scrolls are visible */\n\n.scrollbar-rail > .scroll-element.scroll-x.scroll-scrolly_visible .scroll-element_size { left: -25px; }\n.scrollbar-rail > .scroll-element.scroll-y.scroll-scrollx_visible .scroll-element_size { top: -25px; }\n\n.scrollbar-rail > .scroll-element.scroll-x.scroll-scrolly_visible .scroll-element_track { left: -25px; }\n.scrollbar-rail > .scroll-element.scroll-y.scroll-scrollx_visible .scroll-element_track { top: -25px; }\n\n\n\n\n\n\n\n\n\n\n/*************** SCROLLBAR DYNAMIC ***************/\n\n.scrollbar-dynamic > .scroll-element,\n.scrollbar-dynamic > .scroll-element div\n{\n    background: none;\n    border: none;\n    margin: 0;\n    padding: 0;\n    position: absolute;\n    z-index: 10;\n}\n\n.scrollbar-dynamic > .scroll-element div {\n    display: block;\n    height: 100%;\n    left: 0;\n    top: 0;\n    width: 100%;\n}\n\n.scrollbar-dynamic > .scroll-element.scroll-x {\n    bottom: 2px;\n    height: 7px;\n    left: 0;\n    min-width: 100%;\n    width: 100%;\n}\n\n.scrollbar-dynamic > .scroll-element.scroll-y {\n    height: 100%;\n    min-height: 100%;\n    right: 2px;\n    top: 0;\n    width: 7px;\n}\n\n.scrollbar-dynamic > .scroll-element .scroll-element_outer {\n    opacity: 0.3;\n\n    -webkit-border-radius: 12px;\n    -moz-border-radius: 12px;\n    border-radius: 12px;\n}\n.scrollbar-dynamic > .scroll-element .scroll-element_size {\n    background-color: #cccccc;\n    opacity: 0;\n\n    -webkit-border-radius: 12px;\n    -moz-border-radius: 12px;\n    border-radius: 12px;\n\n    -webkit-transition: opacity 0.2s;\n    -moz-transition: opacity 0.2s;\n    -o-transition: opacity 0.2s;\n    -ms-transition: opacity 0.2s;\n    transition: opacity 0.2s;\n}\n\n.scrollbar-dynamic > .scroll-element .scroll-bar {\n    background-color: #6c6e71;\n\n    -webkit-border-radius: 7px;\n    -moz-border-radius: 7px;\n    border-radius: 7px;\n}\n\n/* scrollbar height/width & offset from container borders */\n\n.scrollbar-dynamic > .scroll-element.scroll-x .scroll-bar {\n    bottom: 0;\n    height: 7px;\n    min-width: 24px;\n    top: auto;\n}\n.scrollbar-dynamic > .scroll-element.scroll-y .scroll-bar {\n    left: auto;\n    min-height: 24px;\n    right: 0;\n    width: 7px;\n}\n\n.scrollbar-dynamic > .scroll-element.scroll-x .scroll-element_outer {\n    bottom: 0;\n    top: auto;\n    left: 2px;\n\n    -webkit-transition: height 0.2s;\n    -moz-transition: height 0.2s;\n    -o-transition: height 0.2s;\n    -ms-transition: height 0.2s;\n    transition: height 0.2s;\n}\n\n.scrollbar-dynamic > .scroll-element.scroll-y .scroll-element_outer {\n    left: auto;\n    right: 0;\n    top: 2px;\n\n    -webkit-transition: width 0.2s;\n    -moz-transition: width 0.2s;\n    -o-transition: width 0.2s;\n    -ms-transition: width 0.2s;\n    transition: width 0.2s;\n}\n\n.scrollbar-dynamic > .scroll-element.scroll-x .scroll-element_size { left: -4px; }\n.scrollbar-dynamic > .scroll-element.scroll-y .scroll-element_size { top: -4px; }\n\n\n/* update scrollbar offset if both scrolls are visible */\n\n.scrollbar-dynamic > .scroll-element.scroll-x.scroll-scrolly_visible .scroll-element_size { left: -11px; }\n.scrollbar-dynamic > .scroll-element.scroll-y.scroll-scrollx_visible .scroll-element_size { top: -11px; }\n\n\n/* hover & drag */\n\n.scrollbar-dynamic > .scroll-element:hover .scroll-element_outer,\n.scrollbar-dynamic > .scroll-element.scroll-draggable .scroll-element_outer {\n    overflow: hidden;\n\n    -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n    filter: alpha(opacity=70);\n    opacity: 0.7;\n}\n.scrollbar-dynamic > .scroll-element:hover .scroll-element_outer .scroll-element_size,\n.scrollbar-dynamic > .scroll-element.scroll-draggable .scroll-element_outer .scroll-element_size {\n    opacity: 1;\n}\n.scrollbar-dynamic > .scroll-element:hover .scroll-element_outer .scroll-bar,\n.scrollbar-dynamic > .scroll-element.scroll-draggable .scroll-element_outer .scroll-bar {\n    height: 100%;\n    width: 100%;\n\n    -webkit-border-radius: 12px;\n    -moz-border-radius: 12px;\n    border-radius: 12px;\n}\n\n.scrollbar-dynamic > .scroll-element.scroll-x:hover .scroll-element_outer,\n.scrollbar-dynamic > .scroll-element.scroll-x.scroll-draggable .scroll-element_outer {\n    height: 20px;\n    min-height: 7px;\n}\n.scrollbar-dynamic > .scroll-element.scroll-y:hover .scroll-element_outer,\n.scrollbar-dynamic > .scroll-element.scroll-y.scroll-draggable .scroll-element_outer {\n    min-width: 7px;\n    width: 20px;\n}\n\n\n\n\n\n\n\n\n\n\n/*************** SCROLLBAR GOOGLE CHROME ***************/\n\n.scrollbar-chrome > .scroll-element,\n.scrollbar-chrome > .scroll-element div\n{\n    border: none;\n    margin: 0;\n    overflow: hidden;\n    padding: 0;\n    position: absolute;\n    z-index: 10;\n}\n\n.scrollbar-chrome > .scroll-element {\n    background-color: #ffffff;\n}\n\n.scrollbar-chrome > .scroll-element div {\n    display: block;\n    height: 100%;\n    left: 0;\n    top: 0;\n    width: 100%;\n}\n\n.scrollbar-chrome > .scroll-element .scroll-element_outer {}\n\n.scrollbar-chrome > .scroll-element .scroll-element_track {\n    background: #f1f1f1;\n    border: 1px solid #dbdbdb;\n}\n\n.scrollbar-chrome > .scroll-element.scroll-x {\n    bottom: 0;\n    height: 16px;\n    left: 0;\n    min-width: 100%;\n    width: 100%;\n}\n\n.scrollbar-chrome > .scroll-element.scroll-y {\n    height: 100%;\n    min-height: 100%;\n    right: 0;\n    top: 0;\n    width: 16px;\n}\n\n.scrollbar-chrome > .scroll-element .scroll-bar {\n    background-color: #d9d9d9;\n    border: 1px solid #bdbdbd;\n    cursor: default;\n\n    -webkit-border-radius: 2px;\n    -moz-border-radius: 2px;\n    border-radius: 2px;\n}\n\n.scrollbar-chrome > .scroll-element .scroll-bar:hover {\n    background-color: #c2c2c2;\n    border-color: #a9a9a9;\n}\n\n.scrollbar-chrome > .scroll-element.scroll-draggable .scroll-bar {\n    background-color: #919191;\n    border-color: #7e7e7e;\n}\n\n/* scrollbar height/width & offset from container borders */\n\n.scrollbar-chrome > .scroll-content.scroll-scrolly_visible { left: -16px; margin-left: 16px; }\n.scrollbar-chrome > .scroll-content.scroll-scrollx_visible { top:  -16px; margin-top:  16px; }\n\n.scrollbar-chrome > .scroll-element.scroll-x .scroll-bar { height: 8px; min-width: 10px; top: 3px; }\n.scrollbar-chrome > .scroll-element.scroll-y .scroll-bar { left: 3px; min-height: 10px; width: 8px; }\n\n.scrollbar-chrome > .scroll-element.scroll-x .scroll-element_outer { border-left: 1px solid #dbdbdb; }\n.scrollbar-chrome > .scroll-element.scroll-x .scroll-element_track { height: 14px; left: -3px; }\n.scrollbar-chrome > .scroll-element.scroll-x .scroll-element_size { height: 14px; left: -4px; }\n\n.scrollbar-chrome > .scroll-element.scroll-y .scroll-element_outer { border-top: 1px solid #dbdbdb; }\n.scrollbar-chrome > .scroll-element.scroll-y .scroll-element_track { top: -3px; width: 14px; }\n.scrollbar-chrome > .scroll-element.scroll-y .scroll-element_size { top: -4px; width: 14px; }\n\n/* update scrollbar offset if both scrolls are visible */\n\n.scrollbar-chrome > .scroll-element.scroll-x.scroll-scrolly_visible .scroll-element_size { left: -19px; }\n.scrollbar-chrome > .scroll-element.scroll-y.scroll-scrollx_visible .scroll-element_size { top: -19px; }\n\n.scrollbar-chrome > .scroll-element.scroll-x.scroll-scrolly_visible .scroll-element_track { left: -19px; }\n.scrollbar-chrome > .scroll-element.scroll-y.scroll-scrollx_visible .scroll-element_track { top: -19px; }\n\n\n\n\n\n\n\n</style>\n\t\n\t<script type="text/javascript">/*! jQuery v1.12.4 | (c) jQuery Foundation | jquery.org/license */\n!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="1.12.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,p=/^-ms-/,q=/-([\\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(n.isPlainObject(c)||(b=n.isArray(c)))?(b?(b=!1,f=a&&n.isArray(a)?a:[]):f=a&&n.isPlainObject(a)?a:{},g[d]=n.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray||function(a){return"array"===n.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;try{if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(!l.ownFirst)for(b in a)return k.call(a,b);for(b in a);return void 0===b||k.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(b){b&&n.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(h)return h.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(f=a[b],b=a,a=f),n.isFunction(a)?(c=e.call(arguments,2),d=function(){return a.apply(b||this,c.concat(e.call(arguments)))},d.guid=a.guid=a.guid||n.guid++,d):void 0},now:function(){return+new Date},support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\\\x20\\\\t\\\\r\\\\n\\\\f]",M="(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+",N="\\\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:\'((?:\\\\\\\\.|[^\\\\\\\\\'])*)\'|\\"((?:\\\\\\\\.|[^\\\\\\\\\\"])*)\\"|("+M+"))|)"+L+"*\\\\]",O=":("+M+")(?:\\\\(((\'((?:\\\\\\\\.|[^\\\\\\\\\'])*)\'|\\"((?:\\\\\\\\.|[^\\\\\\\\\\"])*)\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|"+N+")*)|.*)\\\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\\\]\'\\"]*?)"+L+"*\\\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\("+L+"*(even|odd|(([+-]|)(\\\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\\\d+)|))"+L+"*\\\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\("+L+"*((?:-\\\\d)?\\\\d*)"+L+"*\\\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\\d$/i,Z=/^[^{]+\\{\\s*\\[native \\w/,$=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,_=/[+~]/,aa=/\'|\\\\/g,ba=new RegExp("\\\\\\\\([\\\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id=\'"+k+"\']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id=\'"+u+"\'></a><select id=\'"+u+"-\\r\\\\\' msallowcapture=\'\'><option selected=\'\'></option></select>",a.querySelectorAll("[msallowcapture^=\'\']").length&&q.push("[*^$]="+L+"*(?:\'\'|\\"\\")"),a.querySelectorAll("[selected]").length||q.push("\\\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!=\'\']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"=\'$1\']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href=\'#\'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\\w-]+)\\s*\\/?>(?:<\\/\\1>|)$/,y=/^.[^:#\\[\\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return n.inArray(a,b)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;e>b;b++)if(n.contains(d[b],this))return!0}));for(b=0;e>b;b++)n.find(a,d[b],c);return c=this.pushStack(e>1?n.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}if(f=d.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return A.find(a);this.length=1,this[0]=f}return this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b,c=n(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(n.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?n.inArray(this[0],n(a)):n.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return n.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||(e=n.uniqueSort(e)),D.test(a)&&(e=e.reverse())),this.pushStack(e)}});var G=/\\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=!0,c||j.disable(),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.addEventListener?(d.removeEventListener("DOMContentLoaded",K),a.removeEventListener("load",K)):(d.detachEvent("onreadystatechange",K),a.detachEvent("onload",K))}function K(){(d.addEventListener||"load"===a.event.type||"complete"===d.readyState)&&(J(),n.ready())}n.ready.promise=function(b){if(!I)if(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll)a.setTimeout(n.ready);else if(d.addEventListener)d.addEventListener("DOMContentLoaded",K),a.addEventListener("load",K);else{d.attachEvent("onreadystatechange",K),a.attachEvent("onload",K);var c=!1;try{c=null==a.frameElement&&d.documentElement}catch(e){}c&&c.doScroll&&!function f(){if(!n.isReady){try{c.doScroll("left")}catch(b){return a.setTimeout(f,50)}J(),n.ready()}}()}return I.promise(b)},n.ready.promise();var L;for(L in n(l))break;l.ownFirst="0"===L,l.inlineBlockNeedsLayout=!1,n(function(){var a,b,c,e;c=d.getElementsByTagName("body")[0],c&&c.style&&(b=d.createElement("div"),e=d.createElement("div"),e.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(e).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",l.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(e))}),function(){var a=d.createElement("div");l.deleteExpando=!0;try{delete a.test}catch(b){l.deleteExpando=!1}a=null}();var M=function(a){var b=n.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b},N=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,O=/([A-Z])/g;function P(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(O,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}n.data(a,b,c)}else c=void 0;\n}return c}function Q(a){var b;for(b in a)if(("data"!==b||!n.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function R(a,b,d,e){if(M(a)){var f,g,h=n.expando,i=a.nodeType,j=i?n.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||n.guid++:h),j[k]||(j[k]=i?{}:{toJSON:n.noop}),"object"!=typeof b&&"function"!=typeof b||(e?j[k]=n.extend(j[k],b):j[k].data=n.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[n.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[n.camelCase(b)])):f=g,f}}function S(a,b,c){if(M(a)){var d,e,f=a.nodeType,g=f?n.cache:a,h=f?a[n.expando]:n.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){n.isArray(b)?b=b.concat(n.map(b,n.camelCase)):b in d?b=[b]:(b=n.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!Q(d):!n.isEmptyObject(d))return}(c||(delete g[h].data,Q(g[h])))&&(f?n.cleanData([a],!0):l.deleteExpando||g!=g.window?delete g[h]:g[h]=void 0)}}}n.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?n.cache[a[n.expando]]:a[n.expando],!!a&&!Q(a)},data:function(a,b,c){return R(a,b,c)},removeData:function(a,b){return S(a,b)},_data:function(a,b,c){return R(a,b,c,!0)},_removeData:function(a,b){return S(a,b,!0)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=n.data(f),1===f.nodeType&&!n._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));n._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){n.data(this,a)}):arguments.length>1?this.each(function(){n.data(this,a,b)}):f?P(f,a,n.data(f,a)):void 0},removeData:function(a){return this.each(function(){n.removeData(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=n._data(a,b),c&&(!d||n.isArray(c)?d=n._data(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return n._data(a,c)||n._data(a,c,{empty:n.Callbacks("once memory").add(function(){n._removeData(a,b+"queue"),n._removeData(a,c)})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=n._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}}),function(){var a;l.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,e;return c=d.getElementsByTagName("body")[0],c&&c.style?(b=d.createElement("div"),e=d.createElement("div"),e.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(e).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(d.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(e),a):void 0}}();var T=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,U=new RegExp("^(?:([+-])=|)("+T+")([a-z%]*)$","i"),V=["Top","Right","Bottom","Left"],W=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function X(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&U.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var Y=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)Y(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Z=/^(?:checkbox|radio)$/i,$=/<([\\w:-]+)/,_=/^$|\\/(?:java|ecma)script/i,aa=/^\\s+/,ba="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";function ca(a){var b=ba.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}!function(){var a=d.createElement("div"),b=d.createDocumentFragment(),c=d.createElement("input");a.innerHTML="  <link/><table></table><a href=\'/a\'>a</a><input type=\'checkbox\'/>",l.leadingWhitespace=3===a.firstChild.nodeType,l.tbody=!a.getElementsByTagName("tbody").length,l.htmlSerialize=!!a.getElementsByTagName("link").length,l.html5Clone="<:nav></:nav>"!==d.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,b.appendChild(c),l.appendChecked=c.checked,a.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue,b.appendChild(a),c=d.createElement("input"),c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),a.appendChild(c),l.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!!a.addEventListener,a[n.expando]=1,l.attributes=!a.getAttribute(n.expando)}();var da={option:[1,"<select multiple=\'multiple\'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};da.optgroup=da.option,da.tbody=da.tfoot=da.colgroup=da.caption=da.thead,da.th=da.td;function ea(a,b){var c,d,e=0,f="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||n.nodeName(d,b)?f.push(d):n.merge(f,ea(d,b));return void 0===b||b&&n.nodeName(a,b)?n.merge([a],f):f}function fa(a,b){for(var c,d=0;null!=(c=a[d]);d++)n._data(c,"globalEval",!b||n._data(b[d],"globalEval"))}var ga=/<|&#?\\w+;/,ha=/<tbody/i;function ia(a){Z.test(a.type)&&(a.defaultChecked=a.checked)}function ja(a,b,c,d,e){for(var f,g,h,i,j,k,m,o=a.length,p=ca(b),q=[],r=0;o>r;r++)if(g=a[r],g||0===g)if("object"===n.type(g))n.merge(q,g.nodeType?[g]:g);else if(ga.test(g)){i=i||p.appendChild(b.createElement("div")),j=($.exec(g)||["",""])[1].toLowerCase(),m=da[j]||da._default,i.innerHTML=m[1]+n.htmlPrefilter(g)+m[2],f=m[0];while(f--)i=i.lastChild;if(!l.leadingWhitespace&&aa.test(g)&&q.push(b.createTextNode(aa.exec(g)[0])),!l.tbody){g="table"!==j||ha.test(g)?"<table>"!==m[1]||ha.test(g)?0:i:i.firstChild,f=g&&g.childNodes.length;while(f--)n.nodeName(k=g.childNodes[f],"tbody")&&!k.childNodes.length&&g.removeChild(k)}n.merge(q,i.childNodes),i.textContent="";while(i.firstChild)i.removeChild(i.firstChild);i=p.lastChild}else q.push(b.createTextNode(g));i&&p.removeChild(i),l.appendChecked||n.grep(ea(q,"input"),ia),r=0;while(g=q[r++])if(d&&n.inArray(g,d)>-1)e&&e.push(g);else if(h=n.contains(g.ownerDocument,g),i=ea(p.appendChild(g),"script"),h&&fa(i),c){f=0;while(g=i[f++])_.test(g.type||"")&&c.push(g)}return i=null,p}!function(){var b,c,e=d.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(l[b]=c in a)||(e.setAttribute(c,"t"),l[b]=e.attributes[c].expando===!1);e=null}();var ka=/^(?:input|select|textarea)$/i,la=/^key/,ma=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,na=/^(?:focusinfocus|focusoutblur)$/,oa=/^([^.]*)(?:\\.(.+)|)/;function pa(){return!0}function qa(){return!1}function ra(){try{return d.activeElement}catch(a){}}function sa(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)sa(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=qa;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=n.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return"undefined"==typeof n||a&&n.event.triggered===a.type?void 0:n.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(G)||[""],h=b.length;while(h--)f=oa.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=n.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=n.event.special[o]||{},l=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},i),(m=g[o])||(m=g[o]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),n.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n.hasData(a)&&n._data(a);if(r&&(k=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=oa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=k[o]||[],h=h[2]&&new RegExp("(^|\\\\.)"+p.join("\\\\.(?:.*\\\\.|)")+"(\\\\.|$)"),i=f=m.length;while(f--)g=m[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(k)&&(delete r.handle,n._removeData(a,"events"))}},trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(i=m=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!na.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),h=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\\\.)"+r.join("\\\\.(?:.*\\\\.|)")+"(\\\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),l=n.event.special[q]||{},f||!l.trigger||l.trigger.apply(e,c)!==!1)){if(!f&&!l.noBubble&&!n.isWindow(e)){for(j=l.delegateType||q,na.test(j+q)||(i=i.parentNode);i;i=i.parentNode)p.push(i),m=i;m===(e.ownerDocument||d)&&p.push(m.defaultView||m.parentWindow||a)}o=0;while((i=p[o++])&&!b.isPropagationStopped())b.type=o>1?j:l.bindType||q,g=(n._data(i,"events")||{})[b.type]&&n._data(i,"handle"),g&&g.apply(i,c),g=h&&i[h],g&&g.apply&&M(i)&&(b.result=g.apply(i,c),b.result===!1&&b.preventDefault());if(b.type=q,!f&&!b.isDefaultPrevented()&&(!l._default||l._default.apply(p.pop(),c)===!1)&&M(e)&&h&&e[q]&&!n.isWindow(e)){m=e[h],m&&(e[h]=null),n.event.triggered=q;try{e[q]()}catch(s){}n.event.triggered=void 0,m&&(e[h]=m)}return b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(n._data(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ma.test(f)?this.mouseHooks:la.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=g.srcElement||d),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,h.filter?h.filter(a,g):a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button,h=b.fromElement;return null==a.pageX&&null!=b.clientX&&(e=a.target.ownerDocument||d,f=e.documentElement,c=e.body,a.pageX=b.clientX+(f&&f.scrollLeft||c&&c.scrollLeft||0)-(f&&f.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(f&&f.scrollTop||c&&c.scrollTop||0)-(f&&f.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?b.toElement:h),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ra()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===ra()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return n.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=d.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c))},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?pa:qa):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:qa,isPropagationStopped:qa,isImmediatePropagationStopped:qa,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=pa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=pa,a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=pa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.submit||(n.event.special.submit={setup:function(){return n.nodeName(this,"form")?!1:void n.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=n.nodeName(b,"input")||n.nodeName(b,"button")?n.prop(b,"form"):void 0;c&&!n._data(c,"submit")&&(n.event.add(c,"submit._submit",function(a){a._submitBubble=!0}),n._data(c,"submit",!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&n.event.simulate("submit",this.parentNode,a))},teardown:function(){return n.nodeName(this,"form")?!1:void n.event.remove(this,"._submit")}}),l.change||(n.event.special.change={setup:function(){return ka.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(n.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._justChanged=!0)}),n.event.add(this,"click._change",function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1),n.event.simulate("change",this,a)})),!1):void n.event.add(this,"beforeactivate._change",function(a){var b=a.target;ka.test(b.nodeName)&&!n._data(b,"change")&&(n.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||n.event.simulate("change",this.parentNode,a)}),n._data(b,"change",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return n.event.remove(this,"._change"),!ka.test(this.nodeName)}}),l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=n._data(d,b);e||d.addEventListener(a,c,!0),n._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=n._data(d,b)-1;e?n._data(d,b,e):(d.removeEventListener(a,c,!0),n._removeData(d,b))}}}),n.fn.extend({on:function(a,b,c,d){return sa(this,a,b,c,d)},one:function(a,b,c,d){return sa(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=qa),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ta=/ jQuery\\d+="(?:null|\\d+)"/g,ua=new RegExp("<(?:"+ba+")[\\\\s/>]","i"),va=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:-]+)[^>]*)\\/>/gi,wa=/<script|<style|<link/i,xa=/checked\\s*(?:[^=]|=\\s*.checked.)/i,ya=/^true\\/(.*)/,za=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,Aa=ca(d),Ba=Aa.appendChild(d.createElement("div"));function Ca(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function Da(a){return a.type=(null!==n.find.attr(a,"type"))+"/"+a.type,a}function Ea(a){var b=ya.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Fa(a,b){if(1===b.nodeType&&n.hasData(a)){var c,d,e,f=n._data(a),g=n._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)n.event.add(b,c,h[c][d])}g.data&&(g.data=n.extend({},g.data))}}function Ga(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!l.noCloneEvent&&b[n.expando]){e=n._data(b);for(d in e.events)n.removeEvent(b,d,e.handle);b.removeAttribute(n.expando)}"script"===c&&b.text!==a.text?(Da(b).text=a.text,Ea(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),l.html5Clone&&a.innerHTML&&!n.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Z.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}}function Ha(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&xa.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),Ha(f,b,c,d)});if(o&&(k=ja(b,a[0].ownerDocument,!1,a,d),e=k.firstChild,1===k.childNodes.length&&(k=e),e||d)){for(i=n.map(ea(k,"script"),Da),h=i.length;o>m;m++)g=k,m!==p&&(g=n.clone(g,!0,!0),h&&n.merge(i,ea(g,"script"))),c.call(a[m],g,m);if(h)for(j=i[i.length-1].ownerDocument,n.map(i,Ea),m=0;h>m;m++)g=i[m],_.test(g.type||"")&&!n._data(g,"globalEval")&&n.contains(j,g)&&(g.src?n._evalUrl&&n._evalUrl(g.src):n.globalEval((g.text||g.textContent||g.innerHTML||"").replace(za,"")));k=e=null}return a}function Ia(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(ea(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&fa(ea(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(va,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h,i=n.contains(a.ownerDocument,a);if(l.html5Clone||n.isXMLDoc(a)||!ua.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(Ba.innerHTML=a.outerHTML,Ba.removeChild(f=Ba.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(d=ea(f),h=ea(a),g=0;null!=(e=h[g]);++g)d[g]&&Ga(e,d[g]);if(b)if(c)for(h=h||ea(a),d=d||ea(f),g=0;null!=(e=h[g]);g++)Fa(e,d[g]);else Fa(a,f);return d=ea(f,"script"),d.length>0&&fa(d,!i&&ea(a,"script")),d=h=e=null,f},cleanData:function(a,b){for(var d,e,f,g,h=0,i=n.expando,j=n.cache,k=l.attributes,m=n.event.special;null!=(d=a[h]);h++)if((b||M(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)m[e]?n.event.remove(d,e):n.removeEvent(d,e,g.handle);j[f]&&(delete j[f],k||"undefined"==typeof d.removeAttribute?d[i]=void 0:d.removeAttribute(i),c.push(f))}}}),n.fn.extend({domManip:Ha,detach:function(a){return Ia(this,a,!0)},remove:function(a){return Ia(this,a)},text:function(a){return Y(this,function(a){return void 0===a?n.text(this):this.empty().append((this[0]&&this[0].ownerDocument||d).createTextNode(a))},null,a,arguments.length)},append:function(){return Ha(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ca(this,a);b.appendChild(a)}})},prepend:function(){return Ha(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ca(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ha(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ha(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&n.cleanData(ea(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&n.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return Y(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(ta,""):void 0;if("string"==typeof a&&!wa.test(a)&&(l.htmlSerialize||!ua.test(a))&&(l.leadingWhitespace||!aa.test(a))&&!da[($.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(ea(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ha(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(ea(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=0,e=[],f=n(a),h=f.length-1;h>=d;d++)c=d===h?this:this.clone(!0),n(f[d])[b](c),g.apply(e,c.get());return this.pushStack(e)}});var Ja,Ka={HTML:"block",BODY:"block"};function La(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function Ma(a){var b=d,c=Ka[a];return c||(c=La(a,b),"none"!==c&&c||(Ja=(Ja||n("<iframe frameborder=\'0\' width=\'0\' height=\'0\'/>")).appendTo(b.documentElement),b=(Ja[0].contentWindow||Ja[0].contentDocument).document,b.write(),b.close(),c=La(a,b),Ja.detach()),Ka[a]=c),c}var Na=/^margin/,Oa=new RegExp("^("+T+")(?!px)[a-z%]+$","i"),Pa=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Qa=d.documentElement;!function(){var b,c,e,f,g,h,i=d.createElement("div"),j=d.createElement("div");if(j.style){j.style.cssText="float:left;opacity:.5",l.opacity="0.5"===j.style.opacity,l.cssFloat=!!j.style.cssFloat,j.style.backgroundClip="content-box",j.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===j.style.backgroundClip,i=d.createElement("div"),i.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",j.innerHTML="",i.appendChild(j),l.boxSizing=""===j.style.boxSizing||""===j.style.MozBoxSizing||""===j.style.WebkitBoxSizing,n.extend(l,{reliableHiddenOffsets:function(){return null==b&&k(),f},boxSizingReliable:function(){return null==b&&k(),e},pixelMarginRight:function(){return null==b&&k(),c},pixelPosition:function(){return null==b&&k(),b},reliableMarginRight:function(){return null==b&&k(),g},reliableMarginLeft:function(){return null==b&&k(),h}});function k(){var k,l,m=d.documentElement;m.appendChild(i),j.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",b=e=h=!1,c=g=!0,a.getComputedStyle&&(l=a.getComputedStyle(j),b="1%"!==(l||{}).top,h="2px"===(l||{}).marginLeft,e="4px"===(l||{width:"4px"}).width,j.style.marginRight="50%",c="4px"===(l||{marginRight:"4px"}).marginRight,k=j.appendChild(d.createElement("div")),k.style.cssText=j.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",k.style.marginRight=k.style.width="0",j.style.width="1px",g=!parseFloat((a.getComputedStyle(k)||{}).marginRight),j.removeChild(k)),j.style.display="none",f=0===j.getClientRects().length,f&&(j.style.display="",j.innerHTML="<table><tr><td></td><td>t</td></tr></table>",j.childNodes[0].style.borderCollapse="separate",k=j.getElementsByTagName("td"),k[0].style.cssText="margin:0;border:0;padding:0;display:none",f=0===k[0].offsetHeight,f&&(k[0].style.display="",k[1].style.display="none",f=0===k[0].offsetHeight)),m.removeChild(i)}}}();var Ra,Sa,Ta=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ra=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Sa=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Oa.test(g)&&Na.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0===g?g:g+""}):Qa.currentStyle&&(Ra=function(a){return a.currentStyle},Sa=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Oa.test(g)&&!Ta.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Ua(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Va=/alpha\\([^)]*\\)/i,Wa=/opacity\\s*=\\s*([^)]*)/i,Xa=/^(none|table(?!-c[ea]).+)/,Ya=new RegExp("^("+T+")(.*)$","i"),Za={position:"absolute",visibility:"hidden",display:"block"},$a={letterSpacing:"0",fontWeight:"400"},_a=["Webkit","O","Moz","ms"],ab=d.createElement("div").style;function bb(a){if(a in ab)return a;var b=a.charAt(0).toUpperCase()+a.slice(1),c=_a.length;while(c--)if(a=_a[c]+b,a in ab)return a}function cb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=n._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&W(d)&&(f[g]=n._data(d,"olddisplay",Ma(d.nodeName)))):(e=W(d),(c&&"none"!==c||!e)&&n._data(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function db(a,b,c){var d=Ya.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function eb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+V[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+V[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+V[f]+"Width",!0,e))):(g+=n.css(a,"padding"+V[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+V[f]+"Width",!0,e)));return g}function fb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ra(a),g=l.boxSizing&&"border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Sa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Oa.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+eb(a,b,c||(g?"border":"content"),d,f)+"px"}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Sa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;if(b=n.cssProps[h]||(n.cssProps[h]=bb(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=U.exec(c))&&e[1]&&(c=X(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=bb(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Sa(a,b,d)),"normal"===f&&b in $a&&(f=$a[b]),""===c||c?(e=parseFloat(f),c===!0||isFinite(e)?e||0:f):f}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Xa.test(n.css(a,"display"))&&0===a.offsetWidth?Pa(a,Za,function(){return fb(a,b,d)}):fb(a,b,d):void 0},set:function(a,c,d){var e=d&&Ra(a);return db(a,c,d?eb(a,b,d,l.boxSizing&&"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),l.opacity||(n.cssHooks.opacity={get:function(a,b){return Wa.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=n.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===n.trim(f.replace(Va,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Va.test(f)?f.replace(Va,e):f+" "+e)}}),n.cssHooks.marginRight=Ua(l.reliableMarginRight,function(a,b){return b?Pa(a,{display:"inline-block"},Sa,[a,"marginRight"]):void 0}),n.cssHooks.marginLeft=Ua(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Sa(a,"marginLeft"))||(n.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Pa(a,{\nmarginLeft:0},function(){return a.getBoundingClientRect().left}):0))+"px":void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+V[d]+b]=f[d]||f[d-2]||f[0];return e}},Na.test(a)||(n.cssHooks[a+b].set=db)}),n.fn.extend({css:function(a,b){return Y(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ra(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return cb(this,!0)},hide:function(){return cb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){W(this)?n(this).show():n(this).hide()})}});function gb(a,b,c,d,e){return new gb.prototype.init(a,b,c,d,e)}n.Tween=gb,gb.prototype={constructor:gb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=gb.propHooks[this.prop];return a&&a.get?a.get(this):gb.propHooks._default.get(this)},run:function(a){var b,c=gb.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):gb.propHooks._default.set(this),this}},gb.prototype.init.prototype=gb.prototype,gb.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},gb.propHooks.scrollTop=gb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=gb.prototype.init,n.fx.step={};var hb,ib,jb=/^(?:toggle|show|hide)$/,kb=/queueHooks$/;function lb(){return a.setTimeout(function(){hb=void 0}),hb=n.now()}function mb(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=V[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function nb(a,b,c){for(var d,e=(qb.tweeners[b]||[]).concat(qb.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ob(a,b,c){var d,e,f,g,h,i,j,k,m=this,o={},p=a.style,q=a.nodeType&&W(a),r=n._data(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,m.always(function(){m.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=n.css(a,"display"),k="none"===j?n._data(a,"olddisplay")||Ma(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(l.inlineBlockNeedsLayout&&"inline"!==Ma(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",l.shrinkWrapBlocks()||m.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],jb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(o))"inline"===("none"===j?Ma(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=n._data(a,"fxshow",{}),f&&(r.hidden=!q),q?n(a).show():m.done(function(){n(a).hide()}),m.done(function(){var b;n._removeData(a,"fxshow");for(b in o)n.style(a,b,o[b])});for(d in o)g=nb(q?r[d]:0,d,m),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function pb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function qb(a,b,c){var d,e,f=0,g=qb.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=hb||lb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:hb||lb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(pb(k,j.opts.specialEasing);g>f;f++)if(d=qb.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,nb,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(qb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return X(c.elem,a,U.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],qb.tweeners[c]=qb.tweeners[c]||[],qb.tweeners[c].unshift(b)},prefilters:[ob],prefilter:function(a,b){b?qb.prefilters.unshift(a):qb.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(W).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=qb(this,n.extend({},a),f);(e||n._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=n._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&kb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=n._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(mb(b,!0),a,d,e)}}),n.each({slideDown:mb("show"),slideUp:mb("hide"),slideToggle:mb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=n.timers,c=0;for(hb=n.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||n.fx.stop(),hb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){ib||(ib=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(ib),ib=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a,b=d.createElement("input"),c=d.createElement("div"),e=d.createElement("select"),f=e.appendChild(d.createElement("option"));c=d.createElement("div"),c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href=\'/a\'>a</a><input type=\'checkbox\'/>",a=c.getElementsByTagName("a")[0],b.setAttribute("type","checkbox"),c.appendChild(b),a=c.getElementsByTagName("a")[0],a.style.cssText="top:1px",l.getSetAttribute="t"!==c.className,l.style=/top/.test(a.getAttribute("style")),l.hrefNormalized="/a"===a.getAttribute("href"),l.checkOn=!!b.value,l.optSelected=f.selected,l.enctype=!!d.createElement("form").enctype,e.disabled=!0,l.optDisabled=!f.disabled,b=d.createElement("input"),b.setAttribute("value",""),l.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),l.radioValue="t"===b.value}();var rb=/\\r/g,sb=/[\\x20\\t\\r\\n\\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(rb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(sb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)if(d=e[g],n.inArray(n.valHooks.option.get(d),f)>-1)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var tb,ub,vb=n.expr.attrHandle,wb=/^(?:checked|selected)$/i,xb=l.getSetAttribute,yb=l.input;n.fn.extend({attr:function(a,b){return Y(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ub:tb)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)?yb&&xb||!wb.test(c)?a[d]=!1:a[n.camelCase("default-"+c)]=a[d]=!1:n.attr(a,c,""),a.removeAttribute(xb?c:d)}}),ub={set:function(a,b,c){return b===!1?n.removeAttr(a,c):yb&&xb||!wb.test(c)?a.setAttribute(!xb&&n.propFix[c]||c,c):a[n.camelCase("default-"+c)]=a[c]=!0,c}},n.each(n.expr.match.bool.source.match(/\\w+/g),function(a,b){var c=vb[b]||n.find.attr;yb&&xb||!wb.test(b)?vb[b]=function(a,b,d){var e,f;return d||(f=vb[b],vb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,vb[b]=f),e}:vb[b]=function(a,b,c){return c?void 0:a[n.camelCase("default-"+b)]?b.toLowerCase():null}}),yb&&xb||(n.attrHooks.value={set:function(a,b,c){return n.nodeName(a,"input")?void(a.defaultValue=b):tb&&tb.set(a,b,c)}}),xb||(tb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},vb.id=vb.name=vb.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},n.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:tb.set},n.attrHooks.contenteditable={set:function(a,b,c){tb.set(a,""===b?!1:b,c)}},n.each(["width","height"],function(a,b){n.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),l.style||(n.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var zb=/^(?:input|select|textarea|button|object)$/i,Ab=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return Y(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return a=n.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):zb.test(a.nodeName)||Ab.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.hrefNormalized||n.each(["href","src"],function(a,b){n.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this}),l.enctype||(n.propFix.enctype="encoding");var Bb=/[\\t\\r\\n\\f]/g;function Cb(a){return n.attr(a,"class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,Cb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=Cb(c),d=1===c.nodeType&&(" "+e+" ").replace(Bb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&n.attr(c,"class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,Cb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=Cb(c),d=1===c.nodeType&&(" "+e+" ").replace(Bb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&n.attr(c,"class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,Cb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=Cb(this),b&&n._data(this,"__className__",b),n.attr(this,"class",b||a===!1?"":n._data(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+Cb(c)+" ").replace(Bb," ").indexOf(b)>-1)return!0;return!1}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var Db=a.location,Eb=n.now(),Fb=/\\?/,Gb=/(,)|(\\[|{)|(}|])|"(?:[^"\\\\\\r\\n]|\\\\["\\\\\\/bfnrt]|\\\\u[\\da-fA-F]{4})*"\\s*:?|true|false|null|-?(?!0\\d)\\d+(?:\\.\\d+|)(?:[eE][+-]?\\d+|)/g;n.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=n.trim(b+"");return e&&!n.trim(e.replace(Gb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():n.error("Invalid JSON: "+b)},n.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new a.DOMParser,c=d.parseFromString(b,"text/xml")):(c=new a.ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var Hb=/#.*$/,Ib=/([?&])_=[^&]*/,Jb=/^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/gm,Kb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Lb=/^(?:GET|HEAD)$/,Mb=/^\\/\\//,Nb=/^([\\w.+-]+:)(?:\\/\\/(?:[^\\/?#]*@|)([^\\/?#:]*)(?::(\\d+)|)|)/,Ob={},Pb={},Qb="*/".concat("*"),Rb=Db.href,Sb=Nb.exec(Rb.toLowerCase())||[];function Tb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Ub(a,b,c,d){var e={},f=a===Pb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Vb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&n.extend(!0,a,c),a}function Wb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Xb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rb,type:"GET",isLocal:Kb.test(Sb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Vb(Vb(a,n.ajaxSettings),b):Vb(n.ajaxSettings,a)},ajaxPrefilter:Tb(Ob),ajaxTransport:Tb(Pb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var d,e,f,g,h,i,j,k,l=n.ajaxSetup({},c),m=l.context||l,o=l.context&&(m.nodeType||m.jquery)?n(m):n.event,p=n.Deferred(),q=n.Callbacks("once memory"),r=l.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!k){k={};while(b=Jb.exec(g))k[b[1].toLowerCase()]=b[2]}b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return j&&j.abort(b),y(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,l.url=((b||l.url||Rb)+"").replace(Hb,"").replace(Mb,Sb[1]+"//"),l.type=c.method||c.type||l.method||l.type,l.dataTypes=n.trim(l.dataType||"*").toLowerCase().match(G)||[""],null==l.crossDomain&&(d=Nb.exec(l.url.toLowerCase()),l.crossDomain=!(!d||d[1]===Sb[1]&&d[2]===Sb[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Sb[3]||("http:"===Sb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=n.param(l.data,l.traditional)),Ub(Ob,l,c,w),2===u)return w;i=n.event&&l.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Lb.test(l.type),f=l.url,l.hasContent||(l.data&&(f=l.url+=(Fb.test(f)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Ib.test(f)?f.replace(Ib,"$1_="+Eb++):f+(Fb.test(f)?"&":"?")+"_="+Eb++)),l.ifModified&&(n.lastModified[f]&&w.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&w.setRequestHeader("If-None-Match",n.etag[f])),(l.data&&l.hasContent&&l.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Qb+"; q=0.01":""):l.accepts["*"]);for(e in l.headers)w.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(l.beforeSend.call(m,w,l)===!1||2===u))return w.abort();v="abort";for(e in{success:1,error:1,complete:1})w[e](l[e]);if(j=Ub(Pb,l,c,w)){if(w.readyState=1,i&&o.trigger("ajaxSend",[w,l]),2===u)return w;l.async&&l.timeout>0&&(h=a.setTimeout(function(){w.abort("timeout")},l.timeout));try{u=1,j.send(s,y)}catch(x){if(!(2>u))throw x;y(-1,x)}}else y(-1,"No Transport");function y(b,c,d,e){var k,s,t,v,x,y=c;2!==u&&(u=2,h&&a.clearTimeout(h),j=void 0,g=e||"",w.readyState=b>0?4:0,k=b>=200&&300>b||304===b,d&&(v=Wb(l,w,d)),v=Xb(l,v,w,k),k?(l.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(n.lastModified[f]=x),x=w.getResponseHeader("etag"),x&&(n.etag[f]=x)),204===b||"HEAD"===l.type?y="nocontent":304===b?y="notmodified":(y=v.state,s=v.data,t=v.error,k=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),w.status=b,w.statusText=(c||y)+"",k?p.resolveWith(m,[s,y,w]):p.rejectWith(m,[w,y,t]),w.statusCode(r),r=void 0,i&&o.trigger(k?"ajaxSuccess":"ajaxError",[w,l,k?s:t]),q.fireWith(m,[w,y]),i&&(o.trigger("ajaxComplete",[w,l]),--n.active||n.event.trigger("ajaxStop")))}return w},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){if(n.isFunction(a))return this.each(function(b){n(this).wrapAll(a.call(this,b))});if(this[0]){var b=n(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}});function Yb(a){return a.style&&a.style.display||n.css(a,"display")}function Zb(a){if(!n.contains(a.ownerDocument||d,a))return!0;while(a&&1===a.nodeType){if("none"===Yb(a)||"hidden"===a.type)return!0;a=a.parentNode}return!1}n.expr.filters.hidden=function(a){return l.reliableHiddenOffsets()?a.offsetWidth<=0&&a.offsetHeight<=0&&!a.getClientRects().length:Zb(a)},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var $b=/%20/g,_b=/\\[\\]$/,ac=/\\r?\\n/g,bc=/^(?:submit|button|image|reset|file)$/i,cc=/^(?:input|select|textarea|keygen)/i;function dc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||_b.test(a)?d(a,e):dc(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)dc(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)dc(c,a[c],b,e);return d.join("&").replace($b,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&cc.test(this.nodeName)&&!bc.test(a)&&(this.checked||!Z.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(ac,"\\r\\n")}}):{name:b.name,value:c.replace(ac,"\\r\\n")}}).get()}}),n.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return this.isLocal?ic():d.documentMode>8?hc():/^(get|post|head|put|delete|options)$/i.test(this.type)&&hc()||ic()}:hc;var ec=0,fc={},gc=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in fc)fc[a](void 0,!0)}),l.cors=!!gc&&"withCredentials"in gc,gc=l.ajax=!!gc,gc&&n.ajaxTransport(function(b){if(!b.crossDomain||l.cors){var c;return{send:function(d,e){var f,g=b.xhr(),h=++ec;if(g.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(f in b.xhrFields)g[f]=b.xhrFields[f];b.mimeType&&g.overrideMimeType&&g.overrideMimeType(b.mimeType),b.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");for(f in d)void 0!==d[f]&&g.setRequestHeader(f,d[f]+"");g.send(b.hasContent&&b.data||null),c=function(a,d){var f,i,j;if(c&&(d||4===g.readyState))if(delete fc[h],c=void 0,g.onreadystatechange=n.noop,d)4!==g.readyState&&g.abort();else{j={},f=g.status,"string"==typeof g.responseText&&(j.text=g.responseText);try{i=g.statusText}catch(k){i=""}f||!b.isLocal||b.crossDomain?1223===f&&(f=204):f=j.text?200:404}j&&e(f,i,j,g.getAllResponseHeaders())},b.async?4===g.readyState?a.setTimeout(c):g.onreadystatechange=fc[h]=c:c()},abort:function(){c&&c(void 0,!0)}}}});function hc(){try{return new a.XMLHttpRequest}catch(b){}}function ic(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=d.head||n("head")[0]||d.documentElement;return{send:function(e,f){b=d.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||f(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var jc=[],kc=/(=)\\?(?=&|$)|\\?\\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=jc.pop()||n.expando+"_"+Eb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(kc.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&kc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(kc,"$1"+e):b.jsonp!==!1&&(b.url+=(Fb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,jc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ja([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var lc=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&lc)return lc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h,a.length)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function mc(a){return n.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&n.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,n.contains(b,e)?("undefined"!=typeof e.getBoundingClientRect&&(d=e.getBoundingClientRect()),c=mc(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===n.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(c=a.offset()),c.top+=n.css(a[0],"borderTopWidth",!0),c.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-n.css(d,"marginTop",!0),left:b.left-c.left-n.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Qa})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);n.fn[a]=function(d){return Y(this,function(a,d,e){var f=mc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?n(f).scrollLeft():e,c?e:n(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ua(l.pixelPosition,function(a,c){return c?(c=Sa(a,b),Oa.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({\npadding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return Y(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var nc=a.jQuery,oc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=oc),b&&a.jQuery===n&&(a.jQuery=nc),n},b||(a.jQuery=a.$=n),n});<\/script>\n\t<script type="text/javascript">/*! nanoScrollerJS - v0.8.7 - (c) 2015 James Florentino; Licensed MIT */\n\n!function(a){return"function"==typeof define&&define.amd?define(["jquery"],function(b){return a(b,window,document)}):"object"==typeof exports?module.exports=a(require("jquery"),window,document):a(jQuery,window,document)}(function(a,b,c){"use strict";var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;z={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",enabledClass:"has-scrollbar",flashedClass:"flashed",activeClass:"active",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},u="scrollbar",t="scroll",l="mousedown",m="mouseenter",n="mousemove",p="mousewheel",o="mouseup",s="resize",h="drag",i="enter",w="up",r="panedown",f="DOMMouseScroll",g="down",x="wheel",j="keydown",k="keyup",v="touchmove",d="Microsoft Internet Explorer"===b.navigator.appName&&/msie 7./i.test(b.navigator.appVersion)&&b.ActiveXObject,e=null,D=b.requestAnimationFrame,y=b.cancelAnimationFrame,F=c.createElement("div").style,H=function(){var a,b,c,d,e,f;for(d=["t","webkitT","MozT","msT","OT"],a=e=0,f=d.length;f>e;a=++e)if(c=d[a],b=d[a]+"ransform",b in F)return d[a].substr(0,d[a].length-1);return!1}(),G=function(a){return H===!1?!1:""===H?a:H+a.charAt(0).toUpperCase()+a.substr(1)},E=G("transform"),B=E!==!1,A=function(){var a,b,d;return a=c.createElement("div"),b=a.style,b.position="absolute",b.width="100px",b.height="100px",b.overflow=t,b.top="-9999px",c.body.appendChild(a),d=a.offsetWidth-a.clientWidth,c.body.removeChild(a),d},C=function(){var a,c,d;return c=b.navigator.userAgent,(a=/(?=.+Mac OS X)(?=.+Firefox)/.test(c))?(d=/Firefox\\/\\d{2}\\./.exec(c),d&&(d=d[0].replace(/\\D+/g,"")),a&&+d>23):!1},q=function(){function j(d,f){this.el=d,this.options=f,e||(e=A()),this.$el=a(this.el),this.doc=a(this.options.documentContext||c),this.win=a(this.options.windowContext||b),this.body=this.doc.find("body"),this.$content=this.$el.children("."+this.options.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return j.prototype.preventScrolling=function(a,b){if(this.isActive)if(a.type===f)(b===g&&a.originalEvent.detail>0||b===w&&a.originalEvent.detail<0)&&a.preventDefault();else if(a.type===p){if(!a.originalEvent||!a.originalEvent.wheelDelta)return;(b===g&&a.originalEvent.wheelDelta<0||b===w&&a.originalEvent.wheelDelta>0)&&a.preventDefault()}},j.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},j.prototype.updateScrollValues=function(){var a,b;a=this.content,this.maxScrollTop=a.scrollHeight-a.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=a.scrollTop,b=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==b&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:b}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},j.prototype.setOnScrollStyles=function(){var a;B?(a={},a[E]="translate(0, "+this.sliderTop+"px)"):a={top:this.sliderTop},D?(y&&this.scrollRAF&&y(this.scrollRAF),this.scrollRAF=D(function(b){return function(){return b.scrollRAF=null,b.slider.css(a)}}(this))):this.slider.css(a)},j.prototype.createEvents=function(){this.events={down:function(a){return function(b){return a.isBeingDragged=!0,a.offsetY=b.pageY-a.slider.offset().top,a.slider.is(b.target)||(a.offsetY=0),a.pane.addClass(a.options.activeClass),a.doc.bind(n,a.events[h]).bind(o,a.events[w]),a.body.bind(m,a.events[i]),!1}}(this),drag:function(a){return function(b){return a.sliderY=b.pageY-a.$el.offset().top-a.paneTop-(a.offsetY||.5*a.sliderHeight),a.scroll(),a.contentScrollTop>=a.maxScrollTop&&a.prevScrollTop!==a.maxScrollTop?a.$el.trigger("scrollend"):0===a.contentScrollTop&&0!==a.prevScrollTop&&a.$el.trigger("scrolltop"),!1}}(this),up:function(a){return function(b){return a.isBeingDragged=!1,a.pane.removeClass(a.options.activeClass),a.doc.unbind(n,a.events[h]).unbind(o,a.events[w]),a.body.unbind(m,a.events[i]),!1}}(this),resize:function(a){return function(b){a.reset()}}(this),panedown:function(a){return function(b){return a.sliderY=(b.offsetY||b.originalEvent.layerY)-.5*a.sliderHeight,a.scroll(),a.events.down(b),!1}}(this),scroll:function(a){return function(b){a.updateScrollValues(),a.isBeingDragged||(a.iOSNativeScrolling||(a.sliderY=a.sliderTop,a.setOnScrollStyles()),null!=b&&(a.contentScrollTop>=a.maxScrollTop?(a.options.preventPageScrolling&&a.preventScrolling(b,g),a.prevScrollTop!==a.maxScrollTop&&a.$el.trigger("scrollend")):0===a.contentScrollTop&&(a.options.preventPageScrolling&&a.preventScrolling(b,w),0!==a.prevScrollTop&&a.$el.trigger("scrolltop"))))}}(this),wheel:function(a){return function(b){var c;if(null!=b)return c=b.delta||b.wheelDelta||b.originalEvent&&b.originalEvent.wheelDelta||-b.detail||b.originalEvent&&-b.originalEvent.detail,c&&(a.sliderY+=-c/3),a.scroll(),!1}}(this),enter:function(a){return function(b){var c;if(a.isBeingDragged)return 1!==(b.buttons||b.which)?(c=a.events)[w].apply(c,arguments):void 0}}(this)}},j.prototype.addEvents=function(){var a;this.removeEvents(),a=this.events,this.options.disableResize||this.win.bind(s,a[s]),this.iOSNativeScrolling||(this.slider.bind(l,a[g]),this.pane.bind(l,a[r]).bind(""+p+" "+f,a[x])),this.$content.bind(""+t+" "+p+" "+f+" "+v,a[t])},j.prototype.removeEvents=function(){var a;a=this.events,this.win.unbind(s,a[s]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+t+" "+p+" "+f+" "+v,a[t])},j.prototype.generate=function(){var a,c,d,f,g,h,i;return f=this.options,h=f.paneClass,i=f.sliderClass,a=f.contentClass,(g=this.$el.children("."+h)).length||g.children("."+i).length||this.$el.append(\'<div class="\'+h+\'"><div class="\'+i+\'" /></div>\'),this.pane=this.$el.children("."+h),this.slider=this.pane.find("."+i),0===e&&C()?(d=b.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,""),c={right:-14,paddingRight:+d+14}):e&&(c={right:-e},this.$el.addClass(f.enabledClass)),null!=c&&this.$content.css(c),this},j.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},j.prototype.reset=function(){var a,b,c,f,g,h,i,j,k,l,m,n;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),a=this.content,f=a.style,g=f.overflowY,d&&this.$content.height()&&this.$content.css({height:this.$content.height()}),b=a.scrollHeight+e,l=parseInt(this.$el.css("max-height"),10),l>0&&(this.$el.height(""),this.$el.height(a.scrollHeight>l?l:a.scrollHeight)),i=this.pane.outerHeight(!1),k=parseInt(this.pane.css("top"),10),h=parseInt(this.pane.css("bottom"),10),j=i+k+h,n=Math.round(j/b*i),n<this.options.sliderMinHeight?n=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&n>this.options.sliderMaxHeight&&(n=this.options.sliderMaxHeight),g===t&&f.overflowX!==t&&(n+=e),this.maxSliderTop=j-n,this.contentHeight=b,this.paneHeight=i,this.paneOuterHeight=j,this.sliderHeight=n,this.paneTop=k,this.slider.height(n),this.events.scroll(),this.pane.show(),this.isActive=!0,a.scrollHeight===a.clientHeight||this.pane.outerHeight(!0)>=a.scrollHeight&&g!==t?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===a.scrollHeight&&g===t?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),c=this.$content.css("position"),("static"===c||"relative"===c)&&(m=parseInt(this.$content.css("right"),10),m&&this.$content.css({right:"",marginRight:m})),this)},j.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},j.prototype.scrollBottom=function(a){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-a).trigger(p),this.stop().restore(),this):void 0},j.prototype.scrollTop=function(a){return this.isActive?(this.$content.scrollTop(+a).trigger(p),this.stop().restore(),this):void 0},j.prototype.scrollTo=function(a){return this.isActive?(this.scrollTop(this.$el.find(a).get(0).offsetTop),this):void 0},j.prototype.stop=function(){return y&&this.scrollRAF&&(y(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},j.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),d&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass(this.options.enabledClass)&&(this.$el.removeClass(this.options.enabledClass),this.$content.css({right:""})),this},j.prototype.flash=function(){return!this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass(this.options.flashedClass),setTimeout(function(a){return function(){a.pane.removeClass(a.options.flashedClass)}}(this),this.options.flashDelay),this):void 0},j}(),a.fn.nanoScroller=function(b){return this.each(function(){var c,d;if((d=this.nanoscroller)||(c=a.extend({},z,b),this.nanoscroller=d=new q(this,c)),b&&"object"==typeof b){if(a.extend(d.options,b),null!=b.scrollBottom)return d.scrollBottom(b.scrollBottom);if(null!=b.scrollTop)return d.scrollTop(b.scrollTop);if(b.scrollTo)return d.scrollTo(b.scrollTo);if("bottom"===b.scroll)return d.scrollBottom(0);if("top"===b.scroll)return d.scrollTop(0);if(b.scroll&&b.scroll instanceof a)return d.scrollTo(b.scroll);if(b.stop)return d.stop();if(b.destroy)return d.destroy();if(b.flash)return d.flash()}return d.reset()})},a.fn.nanoScroller.Constructor=q});<\/script>\n\t<script type="text/javascript">/*\n * Very simple jQuery Color Picker\n * https://github.com/tkrotoff/jquery-simplecolorpicker\n *\n * Copyright (C) 2012-2013 Tanguy Krotoff <tkrotoff@gmail.com>\n *\n * Licensed under the MIT license\n */\n\n(function($) {\n  \'use strict\';\n\n  /**\n   * Constructor.\n   */\n  var SimpleColorPicker = function(select, options) {\n    this.init(\'simplecolorpicker\', select, options);\n  };\n\n  /**\n   * SimpleColorPicker class.\n   */\n  SimpleColorPicker.prototype = {\n    constructor: SimpleColorPicker,\n\n    init: function(type, select, options) {\n      var self = this;\n\n      self.type = type;\n\n      self.$select = $(select);\n      self.$select.hide();\n\n      self.options = $.extend({}, $.fn.simplecolorpicker.defaults, options);\n\n      self.$colorList = null;\n\n      if (self.options.picker === true) {\n        var selectText = self.$select.find(\'> option:selected\').text();\n        self.$icon = $(\'<span class="simplecolorpicker icon"\'\n  //                   + \' title="\' + selectText + \'"\'\n                     + \' style="background-color: \' + self.$select.val() + \';"\'\n                     + \' role="button" tabindex="0">\'\n                     + \'</span>\').insertAfter(self.$select);\n        self.$icon.on(\'click.\' + self.type, $.proxy(self.showPicker, self));\n\n        self.$picker = $(\'<span class="simplecolorpicker picker \' + self.options.theme + \'"></span>\').appendTo(document.body);\n        self.$colorList = self.$picker;\n\n        // Hide picker when clicking outside\n        $(document).on(\'mousedown.\' + self.type, $.proxy(self.hidePicker, self));\n        self.$picker.on(\'mousedown.\' + self.type, $.proxy(self.mousedown, self));\n      } else {\n        self.$inline = $(\'<span class="simplecolorpicker inline \' + self.options.theme + \'"></span>\').insertAfter(self.$select);\n        self.$colorList = self.$inline;\n      }\n      \n      \n\t  self.$picker.css({\n\t      display: \'inline-block\',\n\t      maxWidth: $(\'body\').width() < 300 ? $(\'body\').width() - 15 : 300\n\t  });\n\n      // Build the list of colors\n      // <span class="color selected" title="Green" style="background-color: #7bd148;" role="button"></span>\n      self.$select.find(\'> option\').each(function() {\n        var $option = $(this);\n        var color = $option.val();\n\n        var isSelected = $option.is(\':selected\');\n        var isDisabled = $option.is(\':disabled\');\n\n        var selected = \'\';\n        if (isSelected === true) {\n          selected = \' data-selected\';\n        }\n\n        var disabled = \'\';\n        if (isDisabled === true) {\n          disabled = \' data-disabled\';\n        }\n/*\n        var title = \'\';\n        if (isDisabled === false) {\n          title = \' title="\' + $option.text() + \'"\';\n        }\n*/\n        var role = \'\';\n        if (isDisabled === false) {\n          role = \' role="button" tabindex="0"\';\n        }\n\n        var $colorSpan = $(\'<span class="color"\'\n                         //+ title\n                         + \' style="background-color: \' + color + \';"\'\n                         + \' data-color="\' + color + \'"\'\n                         + selected\n                         + disabled\n                         + role + \'>\'\n                         + \'</span>\');\n\n        self.$colorList.append($colorSpan);\n        $colorSpan.on(\'click.\' + self.type, $.proxy(self.colorSpanClicked, self));\n\n        var $next = $option.next();\n        if ($next.is(\'optgroup\') === true) {\n          // Vertical break, like hr\n          self.$colorList.append(\'<span class="vr"></span>\');\n        }\n      });\n    },\n\n    /**\n     * Changes the selected color.\n     *\n     * @param color the hexadecimal color to select, ex: \'#fbd75b\'\n     */\n    selectColor: function(color) {\n      var self = this;\n\n      var $colorSpan = self.$colorList.find(\'> span.color\').filter(function() {\n        return $(this).data(\'color\').toLowerCase() === color.toLowerCase();\n      });\n\n      if ($colorSpan.length > 0) {\n        self.selectColorSpan($colorSpan);\n      } else {\n        console.error("The given color \'" + color + "\' could not be found");\n      }\n    },\n\n    showPicker: function(e) {\n      var pos = this.$icon.offset();\n\t  var x = pos.left;\n\t  if(x > $(\'body\').width() - this.$colorList.outerWidth() + 15) \n\t\t  x = $(\'body\').width() - this.$colorList.outerWidth();\n      this.$picker.css({\n        // Remove some pixels to align the picker icon with the icons inside the dropdown\n        left: x,\n        top: pos.top - this.$colorList.outerHeight()\n      });\n\n      this.$picker.show(this.options.pickerDelay);\n    },\n\n    hidePicker: function() {\n      this.$picker.hide(this.options.pickerDelay);\n    },\n\n    /**\n     * Selects the given span inside $colorList.\n     *\n     * The given span becomes the selected one.\n     * It also changes the HTML select value, this will emit the \'change\' event.\n     */\n    selectColorSpan: function($colorSpan) {\n      var color = $colorSpan.data(\'color\');\n      //var title = $colorSpan.prop(\'title\');\n\n      // Mark this span as the selected one\n      $colorSpan.siblings().removeAttr(\'data-selected\');\n      $colorSpan.attr(\'data-selected\', \'\');\n\n      if (this.options.picker === true) {\n        this.$icon.css(\'background-color\', color);\n        //this.$icon.prop(\'title\', title);\n        //this.hidePicker();,\n      }\n\n      // Change HTML select value\n      this.$select.val(color);\n    },\n\n    /**\n     * The user clicked on a color inside $colorList.\n     */\n    colorSpanClicked: function(e) {\n      // When a color is clicked, make it the new selected one (unless disabled)\n      if ($(e.target).is(\'[data-disabled]\') === false) {\n        this.selectColorSpan($(e.target));\n        this.$select.trigger(\'change\');\n      }\n    },\n\n    /**\n     * Prevents the mousedown event from "eating" the click event.\n     */\n    mousedown: function(e) {\n      e.stopPropagation();\n      e.preventDefault();\n    },\n\n    destroy: function() {\n      if (this.options.picker === true) {\n        this.$icon.off(\'.\' + this.type);\n        this.$icon.remove();\n        $(document).off(\'.\' + this.type);\n      }\n\n      this.$colorList.off(\'.\' + this.type);\n      this.$colorList.remove();\n\n      this.$select.removeData(this.type);\n      this.$select.show();\n    }\n  };\n\n  /**\n   * Plugin definition.\n   * How to use: $(\'#id\').simplecolorpicker()\n   */\n  $.fn.simplecolorpicker = function(option) {\n    var args = $.makeArray(arguments);\n    args.shift();\n\n    // For HTML element passed to the plugin\n    return this.each(function() {\n      var $this = $(this),\n        data = $this.data(\'simplecolorpicker\'),\n        options = typeof option === \'object\' && option;\n      if (data === undefined) {\n        $this.data(\'simplecolorpicker\', (data = new SimpleColorPicker(this, options)));\n      }\n      if (typeof option === \'string\') {\n        data[option].apply(data, args);\n      }\n    });\n  };\n\n  /**\n   * Default options.\n   */\n  $.fn.simplecolorpicker.defaults = {\n    // No theme by default\n    theme: \'\',\n\n    // Show the picker or make it inline\n    picker: false,\n\n    // Animation delay in milliseconds\n    pickerDelay: 0\n  };\n\n})(jQuery);<\/script>\n\t\n\t<script type="text/javascript">function popup_module() {\n\tvar now = undefined;\n\tvar list = [];\n\tvar self = this;\n\tvar count = 0;\n\t//pb.css({ \'opacity\' : 0.4 });\n\t$(function() {\n\t\tself.html = $(\'#popup_frame\').html();\n\t\tself.pb = $(\'#popupBackground\');\n\t\tself.pu = $(\'#popupWrap\');\n\t})\n\tthis.add = function (html, type, funx, after) {\n\t\tcount++;\n\t\tlist.push({html : html, type: type, fun:funx, after:after, code:count});\n\t\ton();\n\t\treturn count;\n\t}\n\tthis.confirm = function(title, subtitle, fn) {\n\t\tvar dom = $(this.html);\n\t\treturn this.add(dom, \'confirm\', function(layer, pb, pu) {\n\t\t\tvar $this = this;\n\t\t\tpu.find(\'.title\').text(title);\n\t\t\tpu.find(\'dt\').text(subtitle);\n\t\t\tlayer.centering();\n\t\t\tpu.one(\'click\', \'.ok\', function() {\n\t\t\t\tlayer.close();\n\t\t\t\tfn(true);\n\t\t\t}).one(\'click\', \'.cancel\', function() {\n\t\t\t\tlayer.close();\n\t\t\t\tfn(false);\n\t\t\t});\n\t\t\tpb.one(\'click\', function() {\n\t\t\t\tlayer.close();\n\t\t\t\tfn(null);\n\t\t\t}); \n\t\t});\n\n\n\t}\n\tthis.prompt = function(title, subtitle, value, fn) {\n\t\tvar dom = $(this.html);\n\t\treturn this.add(dom, \'prompt\', function(layer, pb, pu) {\n\t\t\tvar $this = this;\n\t\t\tpu.find(\'.title\').text(title);\n\t\t\tpu.find(\'dt\').text(subtitle);\n\t\t\tpu.find(\'dd\').append(\'<input class="prompt_data"/>\');\n\t\t\tpu.find(\'input:first\').val(value).focus();\n\t\t\tlayer.centering();\n\n\t\t\tpu.one(\'click\', \'.ok\', function() {\n\t\t\t\tvar result = pu.find(".prompt_data").val();\n\t\t\t\tlayer.close();\n\t\t\t\tfn(result);\n\t\t\t}).one(\'click\', \'.cancel\', function() {\n\t\t\t\tlayer.close();\n\t\t\t\tfn(null);\n\t\t\t});\n\t\t\tpb.one(\'click\', function() {\n\t\t\t\tlayer.close();\n\t\t\t\tfn(null);\n\t\t\t}); \n\t\t});\n\t}\n\tthis.password = function( title, subtitle, value, fn) {\n\t\tvar dom = $(this.html);\n\t\treturn this.add(dom, \'password\', function(layer, pb, pu) {\n\t\t\tvar $this = this;\n\t\t\tpu.find(\'.title\').text(title);\n\t\t\tpu.find(\'dt\').text(subtitle);\n\t\t\tpu.find(\'dd\').append(\'<input type="password" class="prompt_data"/>\');\n\t\t\tpu.find(\'input:first\').val(value).focus();\n\t\t\tlayer.centering();\n\n\t\t\tpu.one(\'click\', \'.ok\', function() {\n\t\t\t\tvar result = pu.find(".prompt_data").val();\n\t\t\t\tlayer.close();\n\t\t\t\tfn(result);\n\t\t\t}).one(\'click\', \'.cancel\', function() {\n\t\t\t\tlayer.close();\n\t\t\t\tfn(null);\n\t\t\t});\n\t\t\tpb.one(\'click\', function() {\n\t\t\t\tlayer.close();\n\t\t\t\tfn(null);\n\t\t\t}); \n\t\t});\n\t}\n\tthis.alert = function(title, content, fn, after) {\n\t\tvar dom = $(this.html);\n\t\treturn this.add(dom, \'alert\', function(layer, pb, pu) {\n\t\t\tpu.find(\'.title\').text(title);\n\t\t\tpu.find(\'.content\').html(content);\n\t\t\tpu.find(\'.cancel\').hide();\n\n\t\t\tlayer.centering();\n\t\t\tpu.one(\'click\', \'.ok\', function() {\n\t\t\t\tlayer.close();\n\t\t\t});\n\t\t\tpb.one(\'click\', function() {\n\t\t\t\tlayer.close();\n\t\t\t});\n\t\t\tfn && fn(layer, pb, pu);\n\t\t}, after);\n\t}\n\tthis.select = function(title, subtitle, list, fn) {\n\t\tvar dom = $(this.html);\n\t\treturn this.add(dom, \'select\', function(layer, pb, pu) {\n\t\t\tpu.find(\'.title\').text(title);\n\t\t\tpu.find(\'dt\').text(subtitle);\n\t\t\tvar select = $(\'<select class="select_data" />\');\n\t\t\tfor(var i in list) {\n\t\t\t\tselect.append($(\'<option />\').val(i).text(list[i]));\n\t\t\t}\n\t\t\tpu.find(\'dd\').append(select);\n\t\t\tlayer.centering();\n\n\t\t\tpu.one(\'click\', \'.ok\', function() {\n\t\t\t\tvar result = pu.find(".select_data").val();\n\t\t\t\tlayer.close();\n\t\t\t\tfn(result);\n\t\t\t}).one(\'click\', \'.cancel\', function() {\n\t\t\t\tlayer.close();\n\t\t\t\tfn(null);\n\t\t\t});\n\t\t\tpb.one(\'click\', function() {\n\t\t\t\tlayer.close();\n\t\t\t\tfn(null);\n\t\t\t}); \n\t\t});\n\t}\n\tfunction on () {\n\t\tif(now)\n\t\t\treturn;\n\t\tif(!list[0])\n\t\t\treturn;\n\t\tnow = list.shift();\n\t\tself.pu.off(\'.pop_btn\');\n\t\tself.pu.on(\'keypress\', function(e) {\n\t\t\tif(e.keyCode == 13)\n\t\t\t\tself.pu.find(\'.ok\').click();\n\t\t\t//return false;\n\t\t});\n\t\tif(typeof now.html === \'string\') {\n\t\t\tself.pu.html(now.html);\n\t\t} else {\n\t\t\tself.pu.html(\'\');\n\t\t\tself.pu.append(now.html);\n\t\t}\n\t\tself.pu.show();\n\t\tself.pb.show();\n\t\tself.pu.width(self.pu.children().outerWidth(true)).height(self.pu.children().outerHeight(true));\n\t\tpuCenter();\n\t\tnow.fun({close: returnCallback(now.code), centering : puCenter }, self.pb, self.pu);\n\t}\n\n\tfunction returnCallback (code) { \n\t\treturn function() {\n\t\t\tself.close(code);\n\t\t}\n\t}\n\n\tthis.close = function(id) {\n\t\tif(typeof id !== \'undefined\') {\n\t\t\tif(now && now.code == id) {\n\t\t\t\tthis.close();\n\t\t\t} else {\n\t\t\t\tfor (var i=list.length-1, l=0; i>=l; i--) {\n\t\t\t\t\tif(list[i].code == id){ \n\t\t\t\t\t\tlist.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t} \n\t\t\t}\n\t\t} else {\n\t\t\tself.pu.off().hide();\n\t\t\tself.pb.off().hide();\n\t\t\tself.pu.empty();\n\n\t\t\tif(now) {\n\t\t\t\tif(typeof now.after == \'function\') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tnow.after();\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tnow = undefined;\n\t\t\ton();\n\t\t}\n\t}\n\tthis.closeByType = function(target) {\n\t\tif(target) { \n\t\t\tfor(var i=list.length-1, l=0; i>=l; i--) {\n\t\t\t\tif(list[i].type == target){ \n\t\t\t\t\tthis.close(list[i].code);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(now && now.type == target)\n\t\t\t\tthis.close();\n\t\t}\n\t}\n\n\tfunction puCenter() {\n\t\tself.pu.width(\'auto\').css({\'left\':$(\'body\').width()/2-self.pu.outerWidth()/2+\'px\', \'top\':$(\'body\').height()/2-self.pu.outerHeight()/2+\'px\' });\n\t}\n}\t\n<\/script>\n\t<script type="text/javascript">var rooms = {};\n\nvar XD=function(){var e,t,n,a=1,s=this;return{postMessage:function(e,t,n){t&&(n=n||parent,s.postMessage?n.postMessage(e,t.replace(/([^:]+:\\/\\/[^\\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+a+++"&"+e))},receiveMessage:function(a,o){s.postMessage?(a&&(n=function(e){if("string"==typeof o&&e.origin!==o||"[object Function]"===Object.prototype.toString.call(o)&&!1===o(e.origin))return!1;a(e)}),s.addEventListener?s[a?"addEventListener":"removeEventListener"]("message",n,!1):s[a?"attachEvent":"detachEvent"]("onmessage",n)):(e&&clearInterval(e),e=null,a&&(e=setInterval(function(){var e=document.location.hash,n=/^#?\\d+&/;e!==t&&n.test(e)&&(t=e,a({data:e.replace(n,"")}))},100)))}}}();\n\nvar popup;\nvar whisper;\n\nvar settingPopup;\n\nvar command_regex = /^\\/([^\\/ ]+)/;\nvar plugin_regex = /^!([^! ]+)/;\nvar non_printable_regex = /[\\0-\\x1F\\x7F-\\x9F\\xAD\\u0378\\u0379\\u037F-\\u0383\\u038B\\u038D\\u03A2\\u0528-\\u0530\\u0557\\u0558\\u0560\\u0588\\u058B-\\u058E\\u0590\\u05C8-\\u05CF\\u05EB-\\u05EF\\u05F5-\\u0605\\u061C\\u061D\\u06DD\\u070E\\u070F\\u074B\\u074C\\u07B2-\\u07BF\\u07FB-\\u07FF\\u082E\\u082F\\u083F\\u085C\\u085D\\u085F-\\u089F\\u08A1\\u08AD-\\u08E3\\u08FF\\u0978\\u0980\\u0984\\u098D\\u098E\\u0991\\u0992\\u09A9\\u09B1\\u09B3-\\u09B5\\u09BA\\u09BB\\u09C5\\u09C6\\u09C9\\u09CA\\u09CF-\\u09D6\\u09D8-\\u09DB\\u09DE\\u09E4\\u09E5\\u09FC-\\u0A00\\u0A04\\u0A0B-\\u0A0E\\u0A11\\u0A12\\u0A29\\u0A31\\u0A34\\u0A37\\u0A3A\\u0A3B\\u0A3D\\u0A43-\\u0A46\\u0A49\\u0A4A\\u0A4E-\\u0A50\\u0A52-\\u0A58\\u0A5D\\u0A5F-\\u0A65\\u0A76-\\u0A80\\u0A84\\u0A8E\\u0A92\\u0AA9\\u0AB1\\u0AB4\\u0ABA\\u0ABB\\u0AC6\\u0ACA\\u0ACE\\u0ACF\\u0AD1-\\u0ADF\\u0AE4\\u0AE5\\u0AF2-\\u0B00\\u0B04\\u0B0D\\u0B0E\\u0B11\\u0B12\\u0B29\\u0B31\\u0B34\\u0B3A\\u0B3B\\u0B45\\u0B46\\u0B49\\u0B4A\\u0B4E-\\u0B55\\u0B58-\\u0B5B\\u0B5E\\u0B64\\u0B65\\u0B78-\\u0B81\\u0B84\\u0B8B-\\u0B8D\\u0B91\\u0B96-\\u0B98\\u0B9B\\u0B9D\\u0BA0-\\u0BA2\\u0BA5-\\u0BA7\\u0BAB-\\u0BAD\\u0BBA-\\u0BBD\\u0BC3-\\u0BC5\\u0BC9\\u0BCE\\u0BCF\\u0BD1-\\u0BD6\\u0BD8-\\u0BE5\\u0BFB-\\u0C00\\u0C04\\u0C0D\\u0C11\\u0C29\\u0C34\\u0C3A-\\u0C3C\\u0C45\\u0C49\\u0C4E-\\u0C54\\u0C57\\u0C5A-\\u0C5F\\u0C64\\u0C65\\u0C70-\\u0C77\\u0C80\\u0C81\\u0C84\\u0C8D\\u0C91\\u0CA9\\u0CB4\\u0CBA\\u0CBB\\u0CC5\\u0CC9\\u0CCE-\\u0CD4\\u0CD7-\\u0CDD\\u0CDF\\u0CE4\\u0CE5\\u0CF0\\u0CF3-\\u0D01\\u0D04\\u0D0D\\u0D11\\u0D3B\\u0D3C\\u0D45\\u0D49\\u0D4F-\\u0D56\\u0D58-\\u0D5F\\u0D64\\u0D65\\u0D76-\\u0D78\\u0D80\\u0D81\\u0D84\\u0D97-\\u0D99\\u0DB2\\u0DBC\\u0DBE\\u0DBF\\u0DC7-\\u0DC9\\u0DCB-\\u0DCE\\u0DD5\\u0DD7\\u0DE0-\\u0DF1\\u0DF5-\\u0E00\\u0E3B-\\u0E3E\\u0E5C-\\u0E80\\u0E83\\u0E85\\u0E86\\u0E89\\u0E8B\\u0E8C\\u0E8E-\\u0E93\\u0E98\\u0EA0\\u0EA4\\u0EA6\\u0EA8\\u0EA9\\u0EAC\\u0EBA\\u0EBE\\u0EBF\\u0EC5\\u0EC7\\u0ECE\\u0ECF\\u0EDA\\u0EDB\\u0EE0-\\u0EFF\\u0F48\\u0F6D-\\u0F70\\u0F98\\u0FBD\\u0FCD\\u0FDB-\\u0FFF\\u10C6\\u10C8-\\u10CC\\u10CE\\u10CF\\u1249\\u124E\\u124F\\u1257\\u1259\\u125E\\u125F\\u1289\\u128E\\u128F\\u12B1\\u12B6\\u12B7\\u12BF\\u12C1\\u12C6\\u12C7\\u12D7\\u1311\\u1316\\u1317\\u135B\\u135C\\u137D-\\u137F\\u139A-\\u139F\\u13F5-\\u13FF\\u169D-\\u169F\\u16F1-\\u16FF\\u170D\\u1715-\\u171F\\u1737-\\u173F\\u1754-\\u175F\\u176D\\u1771\\u1774-\\u177F\\u17DE\\u17DF\\u17EA-\\u17EF\\u17FA-\\u17FF\\u180F\\u181A-\\u181F\\u1878-\\u187F\\u18AB-\\u18AF\\u18F6-\\u18FF\\u191D-\\u191F\\u192C-\\u192F\\u193C-\\u193F\\u1941-\\u1943\\u196E\\u196F\\u1975-\\u197F\\u19AC-\\u19AF\\u19CA-\\u19CF\\u19DB-\\u19DD\\u1A1C\\u1A1D\\u1A5F\\u1A7D\\u1A7E\\u1A8A-\\u1A8F\\u1A9A-\\u1A9F\\u1AAE-\\u1AFF\\u1B4C-\\u1B4F\\u1B7D-\\u1B7F\\u1BF4-\\u1BFB\\u1C38-\\u1C3A\\u1C4A-\\u1C4C\\u1C80-\\u1CBF\\u1CC8-\\u1CCF\\u1CF7-\\u1CFF\\u1DE7-\\u1DFB\\u1F16\\u1F17\\u1F1E\\u1F1F\\u1F46\\u1F47\\u1F4E\\u1F4F\\u1F58\\u1F5A\\u1F5C\\u1F5E\\u1F7E\\u1F7F\\u1FB5\\u1FC5\\u1FD4\\u1FD5\\u1FDC\\u1FF0\\u1FF1\\u1FF5\\u1FFF\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u206F\\u2072\\u2073\\u208F\\u209D-\\u209F\\u20BB-\\u20CF\\u20F1-\\u20FF\\u218A-\\u218F\\u23F4-\\u23FF\\u2427-\\u243F\\u244B-\\u245F\\u2700\\u2B4D-\\u2B4F\\u2B5A-\\u2BFF\\u2C2F\\u2C5F\\u2CF4-\\u2CF8\\u2D26\\u2D28-\\u2D2C\\u2D2E\\u2D2F\\u2D68-\\u2D6E\\u2D71-\\u2D7E\\u2D97-\\u2D9F\\u2DA7\\u2DAF\\u2DB7\\u2DBF\\u2DC7\\u2DCF\\u2DD7\\u2DDF\\u2E3C-\\u2E7F\\u2E9A\\u2EF4-\\u2EFF\\u2FD6-\\u2FEF\\u2FFC-\\u3000\\u3040\\u3097\\u3098\\u3100-\\u3104\\u312E-\\u3130\\u318F\\u31BB-\\u31BF\\u31E4-\\u31EF\\u321F\\u32FF\\u4DB6-\\u4DBF\\u9FCD-\\u9FFF\\uA48D-\\uA48F\\uA4C7-\\uA4CF\\uA62C-\\uA63F\\uA698-\\uA69E\\uA6F8-\\uA6FF\\uA78F\\uA794-\\uA79F\\uA7AB-\\uA7F7\\uA82C-\\uA82F\\uA83A-\\uA83F\\uA878-\\uA87F\\uA8C5-\\uA8CD\\uA8DA-\\uA8DF\\uA8FC-\\uA8FF\\uA954-\\uA95E\\uA97D-\\uA97F\\uA9CE\\uA9DA-\\uA9DD\\uA9E0-\\uA9FF\\uAA37-\\uAA3F\\uAA4E\\uAA4F\\uAA5A\\uAA5B\\uAA7C-\\uAA7F\\uAAC3-\\uAADA\\uAAF7-\\uAB00\\uAB07\\uAB08\\uAB0F\\uAB10\\uAB17-\\uAB1F\\uAB27\\uAB2F-\\uABBF\\uABEE\\uABEF\\uABFA-\\uABFF\\uD7A4-\\uD7AF\\uD7C7-\\uD7CA\\uFA6E\\uFA6F\\uFADA-\\uFAFF\\uFB07-\\uFB12\\uFB18-\\uFB1C\\uFB37\\uFB3D\\uFB3F\\uFB42\\uFB45\\uFBC2-\\uFBD2\\uFD40-\\uFD4F\\uFD90\\uFD91\\uFDC8-\\uFDEF\\uFDFE\\uFDFF\\uFE1A-\\uFE1F\\uFE27-\\uFE2F\\uFE53\\uFE67\\uFE6C-\\uFE6F\\uFE75\\uFEFD-\\uFF00\\uFFBF-\\uFFC1\\uFFC8\\uFFC9\\uFFD0\\uFFD1\\uFFD8\\uFFD9\\uFFDD-\\uFFDF\\uFFE7\\uFFEF-\\uFFFB\\uFFFE\\uFFFF]/g;\n\nvar started_time;\nvar tooltip;\n\n\n\nfunction top_layer_module(target) {\n\tthis.target = target;\n\tthis.init_top = target.offset().top;\n\tthis.init_left = target.offset().left;\n\tthis.layer_floor = $(\'#top_layer_floor\').html();\n\tthis.layer_wrap = $(\'#top_layer_wrap\').html();\n\n\tthis.init = function() {\n\t\tthis.wrap = $(this.layer_wrap);\n\t\ttarget.parent().css(\'position\', \'relative\').append(this.wrap);\n\t\treturn this;\n\t}\n\tthis.add = function(text, bgcolor, ftcolor, timeout, link, weight) {\n\t\tvar floor = $(this.layer_floor);\n\t\tbgcolor && floor.css(\'backgroundColor\', bgcolor);\n\t\tftcolor && floor.css(\'color\', ftcolor);\n\t\tfloor.find(\'.text\').text(text);\n\t\tfloor.find(\'.close\').click(function() {\n\t\t\tfloor.remove();\n\t\t});\n\t\tfloor.data(\'weight\', weight);\n\t\tif(timeout && timeout < 0x7FFFFFFF) { \n\t\t\tsetTimeout(function() { \n\t\t\t\tfloor.remove();\n\t\t\t}, timeout);\n\t\t}\n\t\tif(link) {\n\t\t\tfloor.find(\'.text\').append(\'<div class="iconLink"></div>\');\n\t\t\tfloor.css(\'cursor\', \'pointer\').click(function() {\n\t\t\t\tif(link.indexOf(\'javascript:\') === 0)\n\t\t\t\t\ttop.location.href = link;\n\t\t\t\telse\n\t\t\t\t\twindow.open(link);\n\t\t\t});\n\t\t}\n\t\tvar wrote = false;\n\t\tthis.wrap.find(\'.floor\').each(function(index) {\n\t\t\tif($(this).data(\'weight\') < floor.data(\'weight\')) {\n\t\t\t\twrote = true;\n\t\t\t\t$(this).before(floor);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\tif(!wrote) {\n\t\t\tthis.wrap.append(floor);\n\t\t}\n\t\tfloor.addClass(isWhiteness(floor.css(\'backgroundColor\'))?\'black\':\'white\');\n\t\treturn floor;\n\t}\n\tthis.remove = function() {\n\t\tthis.wrap.html(\'\');\n\t}\n}\n\nfunction whisper_module(stage) {\n\tvar target = \'\';\n\n\tthis.getTarget = function () {\n\t\treturn target;\n\t}\n\tthis.get = function() {\n\t\tif(target)\n\t\t\treturn \'/w \'+target+\' \';\n\t\telse\n\t\t\treturn \'\';\n\t}\n\tthis.add = function ( nickname ) {\n\t\tif(!nickname)\n\t\t\treturn;\n\t\ttarget = nickname;\n\t\tvar html = \'\';\n\t\t//html += \'<img class="middleImg" src="http://uchat.co.kr/2/skin/basic-white/img/1px.gif">\';\n\t\thtml += \'<div class="target nick" nick="\'+escape(nickname)+\'"><span>\'+text(nickname)+\'</span>&nbsp;<span class="cancle">x</span></div>\';\n\t\tstage.html(html);\n\t}\n\tthis.remove = function () {\n\t\ttarget = \'\';\n\t\tstage.html(\'\');\n\t\treturn false;\n\t}\n\tstage.on(\'click\', \'.cancle\', this.remove);\n}\n\nfunction commandSwitch(room, arr) {\n\tvar command = arr.shift().toLowerCase();\n\tswitch(command) {\n\t\tcase \'w\':\n\t\tcase \'ㅈ\':\n\t\t\twhisper.add(arr.shift());\n\t\t\troom.action.command(\'whisper\', whisper.getTarget(), arr.join(\' \'));\n\t\t\tbreak;\n\t\tcase \'r\':\n\t\tcase \'ㄱ\':\n\t\t\twhisper.add(rooms[room.id].log.last_whisper);\n\t\t\troom.action.command(\'whisper\', whisper.getTarget(), arr.join(\' \'));\n\t\t\tbreak;\n\t\tcase \'ban\':\n\t\t\tvar target = arr.shift();\n\t\t\tvar reason = arr.join(\' \');\n\t\t\tif(!reason)\n\t\t\t\tpopup.prompt(\'차단\', \'사유\', \'\', function(reason) {\n\t\t\t\t\tif(reason === null)\n\t\t\t\t\t\treturn;\n\t\t\t\t\troom.action.command(\'ban\', target, reason);\n\t\t\t\t});\n\t\t\tbreak;\n\t\tcase \'report\':\n\t\t\tvar target = arr.shift();\n\t\t\tvar reason = arr.join(\' \');\n\t\t\tif(!reason)\n\t\t\t\tpopup.prompt(\'신고\', \'사유\', \'\', function(reason) {\n\t\t\t\t\tif(reason === null)\n\t\t\t\t\t\treturn;\n\t\t\t\t\troom.action.command(\'report\', target, reason);\n\t\t\t\t});\n\t\t\tbreak;\n\t\tcase \'upload\':\n\t\t\troom.action.command(\'upload\', function(upload_json) {\n\t\t\t\tif(upload_json.status)\n\t\t\t\t\t$(\'.chatInput\', rooms[room.id].layout).append(upload_json.url);\n\t\t\t\telse\n\t\t\t\t\talert(upload_json.msg);\n\t\t\t});\n\t\t\tbreak;\n\t\tcase \'mute\':\n\t\t\tvar target = arr.shift();\n\t\t\tpopup.prompt(\'채팅금지\', \'시간(분)\', \'5\', function(time) {\n\t\t\t\tif(time === null)\n\t\t\t\t\treturn;\n\t\t\t\troom.action.command(\'mute\', target, time);\n\t\t\t});\n\t\t\tbreak;\n\t\tcase \'unmute\':\n\t\t\tvar target = arr.shift();\n\t\t\troom.action.command(\'unmute\', target);\n\t\t\tbreak;\n\t\tcase \'call\':\n\t\t\tvar target = arr.shift();\n\t\t\troom.action.command(\'call\', target);\n\t\t\tbreak;\n\t\tcase \'ip\':\n\t\t\tvar target = arr.shift();\n\t\t\troom.action.command(\'ip\', target);\n\t\t\tbreak;\n\t\tcase \'popup\':\n\t\t\troom.action.command(\'popup\');\n\t\t\tbreak;\n\t\tcase \'individual\':\n\t\t\tvar target = arr.shift();\n\t\t\troom.action.command(\'invite\', target);\n\t\t\tbreak;\n\t\tcase \'ignore\':\n\t\t\tvar target = arr.shift();\n\t\t\troom.action.command("ignore", target);\n\t\t\tbreak;\n\t\tcase \'un_ignore\':\n\t\t\tvar target = arr.shift();\n\t\t\troom.action.command("un_ignore", target);\n\t\t\tbreak;\n\t\tcase \'닉네임\':\n\t\tcase \'nick\':\n\t\tcase \'닉\':\n\t\t\tvar nickname = arr.shift();\n\t\t\troom.action.command("changeInfo", {"nick": nickname});\n\t\t\tbreak;\n\t\tcase \'op\':\n\t\t\tvar target = arr.shift();\n\t\t\troom.action.command("op", target);\n\t\t\tbreak;\n\t\tcase \'deop\':\n\t\t\tvar target = arr.shift();\n\t\t\troom.action.command("deop", target);\n\t\t\tbreak;\n\t\tcase \'myinfo\':\n\t\t\t$(\'.my_information\', rooms[room.id].layout).click();\n\t\t\tbreak;\n\t\tcase \'login\':\n\t\t\tvar password = arr.shift();\n\t\t\troom.action.command(\'login\', password);\n\t\t\tbreak;\n\t\tcase \'frozen\':\n\t\t\troom.action.command(\'frozen\');\n\t\t\tbreak;\n\t\t\n\t\tcase \'defrozen\':\n\t\t\troom.action.command(\'defrozen\');\n\t\t\tbreak;\n\t\tcase \'logout\':\n\t\t\troom.action.command(\'logout\');\n\t\t\tbreak;\n\t\tcase \'test\':\n\t\t\tpopup.select(\'테스트\', \'내용\', {\'dlfma\':1, \'두번째\':2}, function(data) { \n\t\t\t\talert(data);\n\t\t\t});\n\t\t\tbreak;\n\t\tdefault:\n\t\t\troom.action.command.apply(undefined, [command].concat(arr));\n\t\t\t//room.action.command(command);\n\n\n\t};\n}\nfunction filter_character(data) {\n    if(isArray(data)) {\n        for(var i = 0, limit = data.length; i<limit; i++ ) {\n            if(isStr(data[i]))\n                data[i] = filter_character(data[i]);\n        }\n        return data;\n    } else if(isStr(data)) {\n        return data.replace(non_printable_regex, \'\\ufffd\');\n    } else\n        return data;\n}\n\nfunction remove_multi_space(msg) {\n\tif(isArray(msg)) {\n\t\tfor(var i = 0, limit = msg.length; i<limit; i++) {\n\t\t\tif(isStr(msg[i])) {\n\t\t\t\tmsg[i] = remove_multi_space(msg[i]);\n\t\t\t}\n\t\t}\n\t\treturn msg;\n\t} else if (isStr(msg)) {\n\t\treturn msg.replace(/\\s\\s+/g, \' \');\n\t} else \n\t\treturn msg;\n\n}\n\nfunction text(data) {\n\treturn remove_multi_space(filter_character(escapeHTML(data)));\n}\n\n$(function() { // 전체 채팅방에 대한 공통적인 사항\n\t\n\t// Tooltip only Text\n\ttooltip = $(\'.tooltip\');\n\tvar tipTimer = 0;\n\tvar x = 0;\n\t$(\'body\').on(\'mouseover\', \'[title], [data-tiptext]\', function(e){\n\t\tvar self = $(this);\n\t\tclearTimeout(tipTimer);\n\t\tx = e.pageX;\n\t\ttipTimer = setTimeout(function() {\n\t\t\t// Hover over code\n\t\t\tvar title = unescape(self.attr(\'title\') || self.attr(\'data-tiptext\'));\n\t\t\tself.removeAttr(\'title\').attr(\'data-tiptext\', title);\n\t\t\tif(self.attr(\'created\')) \n\t\t\t\ttitle = title.replace(\'{ago}\', timeSince(Uchat.getServerSecond(), self.attr(\'created\')*1000));\n\t\t\ttooltip.text(title);\n\n\t\t\tvar y = self.offset().top - tooltip.outerHeight(true) - 3;\n\t\t\tvar now_x = x - tooltip.outerWidth(true)/2; //$(this).offset().left + $(this).outerWidth()/2 - tooltip.outerWidth(true)/2;\n\n\t\t\tif( now_x < 0 )\n\t\t\t\tnow_x = 0;\n\t\t\tif( now_x > $(\'body\').width() - tooltip.outerWidth())\n\t\t\t\tnow_x = $(\'body\').width() - tooltip.outerWidth();\n\n\t\t\tif( y < 0 )\n\t\t\t\ty = self.offset().top + self.outerHeight() + 3;\n\t\t\tif( y > $(\'body\').height() - tooltip.outerHeight())\n\t\t\t\ty = $(\'body\').height() - tooltip.outerHeight();\n\n\t\t\ttooltip.css({ top: y +7 , left: now_x });\n\t\t\ttooltip.animate({top: y}, \'fast\').fadeIn({queue: false, duration:\'normal\'});\n\n\t\t\tclearTimeout(tipTimer);\n\t\t}, 400);\n\t}).on(\'mouseleave\', \'[title], [data-tiptext]\', function() {\n\t\t// Hover out code\n\t\t//$(this).attr(\'title\', $(this).data(\'tipText\'));\n\t\ttooltip.stop().fadeOut(\'fast\');\n\t\tclearTimeout(tipTimer);\n\t}).on(\'mousemove\', \'[title], [data-tiptext]\', function(e) { \n\t\tx = e.pageX;\n\t});\n\t$(document).mouseleave(function() {\n\t\tclearTimeout(tipTimer); // 밖에 나갔는데 뜨면 안됨\n\t\ttooltip.stop().hide();\n\t});\n});\n\n\nfunction layout_init(room) {\n\t//room.nano = $(\'.nano\', rooms[room.id].layout).nanoScroller();\n\t\n\troom.skin.dom = rooms[room.id].dom = {};\n\trooms[room.id].dom.wrap = $(\'.wrap\', rooms[room.id].layout);\n\trooms[room.id].dom.top = $(\'.top\', rooms[room.id].layout);\n\trooms[room.id].dom.menubar = $(\'.menuBar\', rooms[room.id].layout);\n\trooms[room.id].dom.bottom = $(\'.bottom\', rooms[room.id].layout);\n\trooms[room.id].dom.setting = $(\'.settingContent\', rooms[room.id].layout);\n\trooms[room.id].dom.settingBG = $(\'.settingBackground\', rooms[room.id].layout);\n\trooms[room.id].dom.latest_chat = $(\'.latest_chat\', rooms[room.id].layout);\n\trooms[room.id].dom.chatInputHidden = $(\'.chatInputHidden\', rooms[room.id].layout);\n\trooms[room.id].dom.inputContent = $(\'.inputContent\', rooms[room.id].layout);\n\trooms[room.id].dom.middle = $(\'.middle\', rooms[room.id].layout);\n\trooms[room.id].dom.userList = $(\'.userListWrap\', rooms[room.id].layout);\n\trooms[room.id].dom.content = $(\'.contentWrap\', rooms[room.id].layout);\n\trooms[room.id].dom.contour = $(\'.contour\', rooms[room.id].layout);\n\trooms[room.id].dom.content_target = $(\'.content\', rooms[room.id].layout).not(".scroll-wrapper");\n\n\troom.skin.arguments.defaultBGColor = room.skin.arguments.defaultBGColor || \'#ffffff\';\n\troom.skin.arguments.topBGColor = room.skin.arguments.topBGColor || shadeColor2(room.skin.arguments.defaultBGColor, isWhiteness(room.skin.arguments.defaultBGColor)?-0.045:-0.07);\n\troom.skin.arguments.middleBGColor = room.skin.arguments.middleBGColor || room.skin.arguments.defaultBGColor;\n\troom.skin.arguments.bottomBGColor = room.skin.arguments.bottomBGColor || room.skin.arguments.defaultBGColor;\n\troom.skin.arguments.settingBGColor = room.skin.arguments.settingBGColor || room.skin.arguments.defaultBGColor;\n\troom.skin.arguments.userlistBGColor = room.skin.arguments.userlistBGColor || shadeColor2(room.skin.arguments.defaultBGColor, isWhiteness(room.skin.arguments.defaultBGColor)?-0.03:-0.07);\n\t\n\trooms[room.id].dom.top.css(\'backgroundColor\', room.skin.arguments.topBGColor).addClass(isWhiteness(room.skin.arguments.topBGColor)?\'black\':\'white\');\n\trooms[room.id].dom.middle.css(\'backgroundColor\', room.skin.arguments.middleBGColor).addClass(isWhiteness(room.skin.arguments.middleBGColor)?\'black\':\'white\');\n\trooms[room.id].dom.bottom.css(\'backgroundColor\', room.skin.arguments.bottomBGColor).addClass(isWhiteness(room.skin.arguments.bottomBGColor)?\'black\':\'white\');\n\trooms[room.id].dom.setting.css(\'backgroundColor\', room.skin.arguments.settingBGColor).addClass(isWhiteness(room.skin.arguments.settingBGColor)?\'black\':\'white\');\n\trooms[room.id].dom.userList.css(\'backgroundColor\', room.skin.arguments.userlistBGColor).addClass(isWhiteness(room.skin.arguments.userlistBGColor)?\'black\':\'white\')\n\n\n\trooms[room.id].textarea_reload = function() {\n\t\t$(window).trigger(\'resize\', [room.id]);\n\t\treturn false;\n\t\t/*\n\t\t$(\'.chatInputHidden\', rooms[room.id].layout).width($(\'.chatInput\', rooms[room.id].layout).width());\n\t\tvar a = $(\'.chatInput\', rooms[room.id].layout).height()\n\t\t\t, b = $(\'.chatInputHidden\', rooms[room.id].layout).text($(\'.chatInput\', rooms[room.id].layout).val()).height();\n\t\t//console.log(\'리사이트\', $(\'.chatInputHidden\', rooms[room.id].layout).text($(\'.chatInput\', rooms[room.id].layout).val()).height());\n\t\tif(a!=b) {\n\t\t\t$(\'.chatInput\', rooms[room.id].layout).height(b);\n\t\t\t$(window).trigger(\'resize\', [room.id]);\n\t\t}\n\t\t*/\n\t}\n\trooms[room.id].userListDom = (function() {\n\t\tvar middle = rooms[room.id].dom.middle, dom = rooms[room.id].dom.userList;\n\n\t\tfunction show() {\n\t\t\troom.action.command(\'userList\');\n\t\t\troom.action.command(\'io\', true);\n\t\t\tdom.show();\n\t\t}\n\t\tfunction hide() {\n\t\t\troom.action.command(\'io\', false);\n\t\t\tdom.hide();\n\t\t\tdom.find(\'.userFloor\').remove();\n\t\t}\n\t\tfunction resize() {\n\t\t\tif(middle.is(\'.vertical\'))\n\t\t\t\trooms[room.id].dom.content.height(rooms[room.id].dom.middle.height() - rooms[room.id].dom.contour.outerHeight(true) - rooms[room.id].dom.userList.filter(\':visible\').outerHeight(true));\n\t\t\telse\n\t\t\t\trooms[room.id].dom.content.width(parseInt(rooms[room.id].dom.middle[0].getBoundingClientRect().width) - rooms[room.id].dom.contour.outerWidth(true) - rooms[room.id].dom.userList.filter(\':visible\').outerWidth(true));\n\t\t\troom.skin.scrollDown();\n\t\t}\n\t\tfunction toggle() {\n\t\t\tif(dom.is(\':visible\') || room.skin.arguments.nerverOpenUserList)\n\t\t\t\thide();\n\t\t\telse\n\t\t\t\tshow();\n\t\t\tresize();\n\t\t}\n\t\tfunction init() {\n\t\t\tif (room.skin.arguments.hideUserList || !room.info.io || room.skin.arguments.nerverOpenUserList || (rooms[room.id].dom.middle.hasClass("horizontal") && rooms[room.id].dom.middle.width() <= 397) || (rooms[room.id].dom.middle.hasClass(\'vertical\') && rooms[room.id].dom.middle.height() < 270) )\n\t\t\t\thide(); // io 안보내기 위해 직접 컨트롤\n\t\t\telse\n\t\t\t\tshow();\n\t\t\tresize();\n\t\t}\n\t\treturn {\n\t\t\tdom: dom\n\t\t\t\t, init: init\n\t\t\t\t, show: show\n\t\t\t\t, hide: hide\n\t\t\t\t, toggle: toggle\n\n\t\t}\n\t})();\n\n\t$(function () {\t\n\t\tpopup = new popup_module();\n\t\twhisper = new whisper_module($(\'.whisperWrap\', rooms[room.id].layout));\n\t\t\n\t\troom.top_layer = new top_layer_module(rooms[room.id].dom.content_target).init();\n\t\t// 알림 허락 요 청\n\t\tif(!room.skin.arguments[\'disableAskAllowNotification\'] && "Notification" in window && Notification.permission === \'default\') {\n\t\t\troom.top_layer.add(\'!! 채팅방에서 오는 알림을 받고싶다면, 날 눌러주세요.\', \'\', \'\', 10*1000).css(\'cursor\', \'pointer\').click(function() {\n\t\t\t\tNotification.requestPermission();\n\t\t\t});\n\t\t}\n\n\t\t\n\t\troom.skin.scrollDown = function (force) {\n\t\t\tvar content = room.skin.dom.content_target;\n\t\t\t\n\t\t\tvar autoScroll;\n\t\t\tif(typeof(room.setting.data[\'option.autoScroll\']) == \'undefined\')\n\t\t\t\tautoScroll = 1;\n\t\t\telse {\n\t\t\t\tif(room.setting.data[\'option.autoScroll\'] === 1)\n\t\t\t\t\tautoScroll = 1;\n\t\t\t\telse\n\t\t\t\t\tautoScroll = 0;\n\t\t\t}\n\t\t\tif(!window.addEventListener)\n\t\t\t\tcontent.find(\'img\').each(function(i) {\n\t\t\t\t\t// 이미지 로딩전에는 이미지의 높이,넓이를 알수없지만 대화 높이계산이 마무리되므로\n\t\t\t\t\t// 이미지가 로딩되었을때 다시 높이를 계산함.\n\t\t\t\t\tif(!this.onload && !this.complete) {\n\t\t\t\t\t\tthis.onload = room.skin.scrollDown;\n\t\t\t\t\t\t// 이미지에 이벤트가 씌워지고 이미지 로딩되기전, 오토스크롤 값이 변경되는걸 방지 (설명이상해;)\n\t\t\t\t\t\troom.setting.data[\'option.autoScroll\'] = autoScroll;\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\tif(force || (autoScroll && !room.log.temp_scroll_stop)) {\n\t\t\t\troom.skin.dom.content.nanoScroller().nanoScroller({\n\t\t\t\t\tscrollBottom : true\n\t\t\t\t});\n\n\t\t\t\tautoScroll = 1;\n\t\t\t\troom.log.temp_scroll_stop = 0;\n\t\t\t\tif(room.setting.data[\'option.oldChatRemove\']) {\n\t\t\t\t\t//room.setting.data[\'option.oldChatRemove\'] 에 갯수 들어가야될꺼야~\n\t\t\t\t\tcontent.find(\'>div:lt(-\'+300+\')\').remove();\n\t\t\t\t}\n\t\t\t}\n\t\t\troom.setting.data[\'option.autoScroll\'] = autoScroll;\n\t\t}\n\t\t\n\t\t/*\n\t\t\t레이아웃을 반응형으로 만들기위한 jquery 떡칠\n\t\t*/\n\t\t\n\t\t/*\n\t\tif(room.skin.arguments.fontSize)\n\t\t\trooms[room.id].dom.middle.append(\'<style>.middle .line, .middle .line span, .middle .userFloor span {font-size:\'+room.skin.arguments.fontSize+\';}</style>\');\n\t\t\t*/\n\t\tif(room.skin.arguments.fontSize)\n\t\t\t$(\'body\').css(\'fontSize\', room.skin.arguments.fontSize);\n\t\t//rooms[room.id].menubar.add(\'scroll\', $(\'#scroll\').html());\n\n\t\t$(window).resize(function (event, room_id) {\n\n\t\t\tvar wrap_height = $(\'body\').height()\n\t\t\t\t\t- parseInt(rooms[room.id].dom.wrap.css(\'borderTopWidth\'))\n\t\t\t\t\t- parseInt(rooms[room.id].dom.wrap.css(\'borderBottomWidth\'))\n\t\t\t\t\t- parseInt(rooms[room.id].dom.wrap.css(\'paddingTop\'))\n\t\t\t\t\t- parseInt(rooms[room.id].dom.wrap.css(\'paddingBottom\'));\n\t\t\t/*\n\t\t\t\t슬림스크롤 설정.\n\t\t\t*/\n\t\t\t/*\n\t\t\t$(\'.content, .userList\', rooms[room.id].layout).slimScroll({\n\t\t\t\theight: \'100%\'\n\t\t\t});*/\n\t\t \t\n\t\t\t// 전체 높이 재설정\n\t\t\t//$(\'.wrap\', rooms[room.id].layout).height($(window).height() - 16).width($(window).width() - 16);\n\t\t\trooms[room.id].dom.wrap.height(wrap_height);\n\n\t\t\t// 유동인 middle 높이 재설정\n\t\t\trooms[room.id].dom.middle.height(wrap_height - rooms[room.id].dom.top.outerHeight(true) -  rooms[room.id].dom.bottom.outerHeight(true));\n\t\t\t//console.log(\'debug\', wrap_height, rooms[room.id].dom.top.outerHeight(true), rooms[room.id].dom.bottom.outerHeight(true));\n\t\t\trooms[room.id].dom.latest_chat.css(\'bottom\', parseInt(rooms[room.id].dom.wrap.css(\'borderBottomWidth\'))\n\t\t\t\t\t+ parseInt(rooms[room.id].dom.wrap.css(\'paddingBottom\'))\n\t\t\t\t\t+ rooms[room.id].dom.bottom.outerHeight(true)\n\t\t\t\t\t);\n\t\t\t//rooms[room.id].dom.setting.css(\'left\', rooms[room.id].dom.wrap.width());\n\t\t\t//$(\'.menuBar\', rooms[room.id].layout).css("bottom", $(\'.bottom\', rooms[room.id].layout).outerHeight(true))\n\t\t\trooms[room.id].dom.chatInputHidden.css(\'width\', rooms[room.id].dom.inputContent.width());\n\t\t\t(function (shape) {\n\t\t\t\tshape = shape || room.skin.arguments.shape;\n\t\t\t\tswitch (shape) {\n\t\t\t\t\tcase 1:\n\t\t\t\t\tcase \'vertical\':\n\t\t\t\t\t\trooms[room.id].dom.middle.removeClass(\'horizontal\').addClass(\'vertical\');\n\t\t\t\t\t\trooms[room.id].dom.userList.width(\'auto\').height(rooms[room.id].dom.userList.data(\'height\') || room.skin.arguments.userListHeight || 120);\n\t\t\t\t\t\trooms[room.id].dom.content.width(\'auto\').height(rooms[room.id].dom.middle.height() - rooms[room.id].dom.contour.outerHeight(true) - rooms[room.id].dom.userList.filter(\':visible\').outerHeight(true));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\tcase \'horizontal\':\n\t\t\t\t\t\trooms[room.id].dom.middle.removeClass(\'vertical\').addClass(\'horizontal\');\n\t\t\t\t\t\trooms[room.id].dom.userList.height(\'100%\').width(rooms[room.id].dom.userList.data(\'width\') || room.skin.arguments.userListWidth || 150);\n\t\t\t\t\t\trooms[room.id].dom.content.height(\'100%\').width(parseInt(rooms[room.id].dom.middle[0].getBoundingClientRect().width) - rooms[room.id].dom.contour.outerWidth(true) - rooms[room.id].dom.userList.filter(\':visible\').outerWidth(true));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif ($(window).height() > $(window).width())\n\t\t\t\t\t\t\targuments.callee(1);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\targuments.callee(2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t})();\n\n\t\t\t//$(\'.plusWrap\', rooms[room.id].layout).css({bottom:$(\'.bottom\', rooms[room.id].layout).outerHeight(true) + parseInt(rooms[room.id].dom.wrap.css(\'borderBottomWidth\')) + parseInt(rooms[room.id].dom.wrap.css(\'paddingBottom\'))});\n\t\t\t/*\n\t\t\t\tshape 에 따라 스타일 변경.\n\t\t\t\t0 : 자동 ( 높이가 넓이보다 크면 세로형, 아니면 가로형)\n\t\t\t\t1 : 세로형\n\t\t\t\t2 : 가로형\n\t\t\t*/\n\t\t\t//$(\'.content\', rooms[room.id].layout).not(".scroll-wrapper").append(\'<p>\'+$(window).height()+\'</p>\');\n\t\t\troom.skin.scrollDown(true);\n\t\t}).resize();\n\t\trooms[room.id].dom.content.on(\'mouseover\', \'a\', function(e) {\n\t\t\tvar href = $(this).attr(\'href\'), image_url = \'\';\n\t\t\tif(href && href.match(/\\.(jpg|jpeg|png|gif)$/gi))\n\t\t\t\timage_url = href;\n\t\t\telse if (href && href.match(/^(https?)?:?\\/\\/(\\w+\\.)?imgur.com\\/(\\w*\\d\\w*)+(\\.[a-zA-Z]{3})?$/))\n\t\t\t\timage_url = href+\'.jpg\';\n\t\t\telse if(href.match(/youtu(be\\.com|\\.be)(\\/\\watch\\?v\\=|\\/embed\\/|\\/)(.{11})/))\n\t\t\t\timage_url = \'//img.youtube.com/vi/\'+href.match(/youtu(be\\.com|\\.be)(\\/\\watch\\?v=|\\/embed\\/|\\/)(.{11})/).pop()+\'/0.jpg\';\n\n\t\t\tif(image_url) {\n\t\t\t\tpopup.add(\'<div style="width:200px; text-align:center;"><img src="\'+image_url+\'" style="max-width:200px; max-height:200px;vertical-align:bottom"></div>\', \'imageView\', function(layer, pb, pu) {\n\t\t\t\t\tpb.hide();\n\t\t\t\t\tvar x = $(e.target).offset().left + $(e.target).width()/2 -100;\n\t\t\t\t\tvar y = $(e.target).offset().top-pu.find(\'img\').height()-10;\n\t\t\t\t\t/*\n\t\t\t\t\tif($(\'body\').height()/2 > $(this).offset().top) {\n\t\t\t\t\t\ty = $(this).offset().top - 5;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ty = $(this).offset().top\n\t\t\t\t\t}\n\t\t\t\t\t*/\n\t\t\t\t\tif(x<0)\n\t\t\t\t\t\tx = 0;\n\t\t\t\t\tif(y<0) {\n\t\t\t\t\t\ty = $(e.target).offset().top + $(e.target).height()+10;\n\t\t\t\t\t\tpu.find(\'>div\').css(\'lineHeight\', 1);\n\t\t\t\t\t\tpu.one(\'mouseleave\', function(e) {\n\t\t\t\t\t\t\tlayer.close();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tpu.css("top", y).css("left", x);\n\t\t\t\t\tif(pu.find(\'img\').width() > 200 || pu.find(\'img\').height() > 200) {\n\t\t\t\t\t\tif(pu.find(\'img\').width() > pu.find(\'img\').height())\n\t\t\t\t\t\t\tpu.find(\'img\').width(200);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tpu.find(\'img\').height(200);\n\t\t\t\t\t}\n\t\t\t\t\t/*\n\t\t\t\t\tpb.one(\'mousemove\', function() {\n\t\t\t\t\t\tlayer.close();\n\t\t\t\t\t});\n\t\t\t\t\t*/\n\t\t\t\t\t/*\n\t\t\t\t\tpu.one(\'click\', \'.floor\', function(event) {\n\t\t\t\t\t\tvar target = pu.find(\'.subject\').attr(\'nick\');\n\t\t\t\t\t\tvar kind = $(this).attr(\'kind\');\n\t\t\t\t\t\tswitch(kind) {\n\t\t\t\t\t\t\tcase \'whisper\':\n\t\t\t\t\t\t\t\twhisper.add(unescape(target));\n\t\t\t\t\t\t\t\t$(\'.chatInput\', rooms[room.id].layout).focus();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tcommandSwitch(room, [kind, unescape(target)]);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlayer.close();\n\t\t\t\t\t});*/\n\t\t\t\t});\n\t\t\t}\n\t\t}).on(\'mouseleave\', \'a\', function(e) {\n\t\t\tpopup.closeByType(\'imageView\');\n\t\t});\n\t\t/*\n\t\t$(\'.userList\', rooms[room.id].layout).scrollbar({duration :100});\n\t\t$(\'.content\', rooms[room.id].layout).scrollbar({\n\t\t\tduration :100,\n\t\t\tonScroll: function(y, x) {\n\t\t\t\tif(rooms[room.id].log.temp_scroll_stop)\n\t\t\t\t\treturn false;\n\t\t\t\tif (y.scroll + y.visible < y.size) {\n\t\t\t\t\t//$(\'.uchat_scroll\').css({backgroundPosition:\'-16px 0\'}); //////console.log(\'scroll_off\');\n\t\t\t\t\tif (room.setting.data[\'option.autoScroll\'] === 1) {\n\t\t\t\t\t\troom.setting.data[\'option.autoScroll\'] = 0;\n\t\t\t\t\t}\n\t\t\t\t} else { //////console.log(\'scroll_on\');\n\t\t\t\t\t$(\'.latest_chat\', rooms[room.id].layout).hide();\n\t\t\t\t\tif (room.setting.data[\'option.autoScroll\'] !== 1) {\n\t\t\t\t\t\troom.setting.data[\'option.autoScroll\'] = 1;\n\t\t\t\t\t}\n\t\t\t\t\t//control_chat(\'scroll\');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t*/\n\t\trooms[room.id].dom.middle.on(\'mousedown\', \'.contour\', function(e) {\n\t\t\tvar b = rooms[room.id].dom.middle, c = rooms[room.id].dom.userList, d = $(\'.contentWrap\', rooms[room.id].layout);\n\t\t\t$(this).addClass(\'draggable\').parents().on(\'mousemove\', function(e) {\n\t\t\t\tif(!rooms[room.id].dom.userList.is(\':visible\')) return false;\n\t\t\t\tvar a = b.find(\'.draggable\');\n\t\t\t\tif (b.is(\'.vertical\')) {\n\t\t\t\t\t//console.log(c.offset()[\'top\'], e.pageY, $(\'.draggable\').outerHeight());\n\t\t\t\t\tif(a.length) {\n\t\t\t\t\t\tvar cHeight = e.pageY - c.offset()[\'top\'] - parseInt(a.outerHeight(true)/2), dHeight = b.height() - a.outerHeight(true) - cHeight;\n\t\t\t\t\t\tif(dHeight >= 0) {\n\t\t\t\t\t\t\tc.height(cHeight);\n\t\t\t\t\t\t\tc.data(\'height\', cHeight);\n\t\t\t\t\t\t\td.height(dHeight);\n\t\t\t\t\t\t\troom.skin.scrollDown(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//$(window).trigger(\'resize\', [room_id]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t//console.log(c.offset()[\'top\'], e.pageY, $(\'.draggable\').outerHeight());\n\t\t\t\t\tif(a.length) {\n\t\t\t\t\t\tvar dWidth = e.pageX - d.offset()[\'left\'] - parseInt(a.outerWidth(true)/2), cWidth = b.width() - a.outerWidth(true) - dWidth;\n\t\t\t\t\t\t//console.log(dWidth);\n\t\t\t\t\t\tif(dWidth >= 0 && cWidth >= 0) {\n\t\t\t\t\t\t\tc.width(cWidth);\n\t\t\t\t\t\t\tc.data(\'width\', cWidth);\n\t\t\t\t\t\t\td.width(dWidth);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//$(window).trigger(\'resize\', [room_id]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ta.addClass(\'moved\');\n\t\t\t});\n\t\t\te.preventDefault();\n\t\t});\n\t\trooms[room.id].layout.on(\'mouseup\', function() {\n\t\t\tif($(\'.draggable\').length && !$(\'.draggable\').hasClass(\'moved\'))\n\t\t\t\trooms[room.id].userListDom.toggle();\n\t\t\t$(\'.draggable\').removeClass(\'draggable\').removeClass(\'moved\').parents().off(\'mousemove\');\n\t\t});\n\t\t\n\t\t//$(\'.content\').scrollbar({duration :100});\n\t\t\n\t\t/*\n\t\tfleXenv.fleXcrollMain($(\'.content\', rooms[room.id].layout)[0]);\n\t\tfleXenv.fleXcrollMain($(\'.userList\', rooms[room.id].layout)[0]);*/\n\t\t/*\n\t\t\tios 에서 대화를 전송하고 난다음 글자를 쓸때 이전대화의 마지막글자가 갑자기 튀어나오는것을 방지\n\t\t*/\n\t\t$(\'.inputWrap\', rooms[room.id].layout).on(\'click\', function() {\n\t\t\t$(this).find(\'.chatInput\').focus();\n\t\t});\n\t\t$(\'.inputsubmit\', rooms[room.id].layout).submit(function() {\n\t\t\tsend();\n\t\t\treturn false;\n\t\t});\n\t\t$(\'.chatInput\', rooms[room.id].layout).keydown(function (event) {\n\t\t\tif (event.keyCode == 8) {\n\t\t\t\tif (!$(\'.chatInput\', rooms[room.id].layout).text())\n\t\t\t\t\twhisper.remove();\n\t\t\t} else if (event.keyCode == 9) {\n\t\t\t\twhisper.add(rooms[room.id].log.last_whisper);\n\t\t\t\t$(\'.chatInput\', rooms[room.id].layout).focus();\n\t\t\t\treturn false;\n\t\t\t} else if (event.keyCode == 13) {\n\t\t\t\tif(room.agent.ios) {\n\t\t\t\t\t//$(\'.chatInput\', rooms[room.id].layout).attr(\'readonly\', true);\n\t\t\t\t\t//$(this).blur();\n\t\t\t\t\tsend();\n\t\t\t\t\tvar $this = this;\n\t\t\t\t\t//setTimeout(function() { $($this)[0].innerHTML = \'\'; });\n\t\t\t\t\t$(this).html(\'\');\n\t\t\t\t\t//$(this).click();\n\t\t\t\t\t//$(\'.chatInput\', rooms[room.id].layout).attr(\'readonly\', false);\n\t\t\t\t\t//$(\'.chatInput\', rooms[room.id].layout).focus();\n\t\t\t\t} else {\n\t\t\t\t\tsend();\n\t\t\t\t\t$(this).html(\'\');\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\t\t\t\t//$(this).html(\'\');\n\n\t\t\t\t/*\n\t\t\t\tif (!room.agent.ios)\n\t\t\t\t\treturn false;\n\t\t\t\t*/\n\t\t\t}\n\t\t}).keydown(function(event) {\n\t\t\tif(event.keyCode == 38) {\n\t\t\t\tif(rooms[room.id].log.now_chat == 9)\n\t\t\t\t\treturn;\n\t\t\t\tif(rooms[room.id].log.chat[rooms[room.id].log.now_chat+1])\n\t\t\t\t\t$(this).text(rooms[room.id].log.chat[++rooms[room.id].log.now_chat]);\n\t\t\t\t\tplaceCaretAtEnd($(this)[0]);\n\t\t\t\treturn false;\n\t\t\t} else if(event.keyCode == 40) {\n\t\t\t\tif(rooms[room.id].log.now_chat == -1)\n\t\t\t\t\treturn;\n\t\t\t\tif(rooms[room.id].log.chat[rooms[room.id].log.now_chat-1] || rooms[room.id].log.now_chat == 0) {\n\t\t\t\t\t$(this).text(rooms[room.id].log.chat[--rooms[room.id].log.now_chat]?rooms[room.id].log.chat[rooms[room.id].log.now_chat]:\'\');\n\t\t\t\t\tplaceCaretAtEnd($(this)[0]);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}).keyup(function(date) {\n\t\t\trooms[room.id].textarea_reload();\n\t\t});\n\n\t\tfunction send() {\n\t\t\tvar text = strip($(\'.chatInput\', rooms[room.id].layout).html());\n\t\t\tif(!text) return false;\n\t\t\ttext = whisper.get() + text;\n\t\t\t\n\t\t\trooms[room.id].log.temp_scroll_stop = 0;\n\t\t\troom.setting.data[\'option.autoScroll\'] = 1;\n\t\t\t\n\t\t\trooms[room.id].log.chat.unshift(text);\n\t\t\tif(rooms[room.id].log.chat.length > 10)\n\t\t\t\trooms[room.id].log.chat.pop();\n\t\t\trooms[room.id].log.now_chat = -1;\n\n\t\t\tif (command_regex.exec(text)) {\n\t\t\t\ttext2 = text.replace(/^\\//, \'\');\n\t\t\t\tvar arr = text2.split(/\\s/g);\n\t\t\t\tcommandSwitch(room, arr);\n\t\t\t\treturn true;\n\t\t\t} else if ( plugin_regex.exec(text) ) {\n\t\t\t\ttext2 = text.replace(/^!/, \'\');\n\t\t\t\tvar arr = text2.split(/\\s/g);\n\t\t\t\tif(room.action.plugin(arr.shift(), arr) === true)\n\t\t\t\t\treturn true;\n\n\t\t\t}\n\t\t\tvar style =  {\n\t\t\t\t\tbold: room.setting.data[\'style.bold\']\n\t\t\t\t\t, italic: room.setting.data[\'style.italic\'] \n\t\t\t\t\t, underline: room.setting.data[\'style.underline\']\n\t\t\t\t\t, color: $(\'.chatInput\', rooms[room.id].layout).css(\'color\')\n\t\t\t};\n\t\t\troom.action.send(text, style);\n\n\t\t\troom.skin.scrollDown();\n\t\t}\n\t\t\n\t\t$(\'.menu\', rooms[room.id].layout).click(showSetting);\n\t\t$(\'.settingContent .cross, .settingBackground\', rooms[room.id].layout).click(hideSetting);\n\t\t\n\t\t$(\'.reload\', rooms[room.id].layout).click(function() {\n\t\t\troom.reload();\n\t\t});\n\t\t$(\'.plus\', rooms[room.id].layout).click(function(e) {\n\t\t\troom.skin.menubar.toggle();\n\t\t\te.stopImmediatePropagation();\n\t\t});\n\t\trooms[room.id].layout.on(\'click\', function() {\n\t\t\troom.skin.menubar.hide();\n\t\t});\n\t\trooms[room.id].dom.menubar.on(\'click\', function(e) {\n\t\t\te.stopImmediatePropagation();\n\t\t});\n\t\t$(window).blur(function onBlur() {\n\t\t\t$(\'.settingBackground\').trigger(\'click\');\n\t\t\tpopup.pb.click();\n\t\t\troom.skin.menubar.hide();\n\t\t\t/*\n\t\t\tif (parseInt($(\'.menuBar\', rooms[room.id].layout).css("bottom")) != 0) {\n\t\t\t\treturn false;\n\t\t\t\t//$(\'.menuBar\', rooms[room.id].layout).animate({"bottom": 0}, \'fast\');\n\t\t\t\t$(\'.top\', rooms[room.id].layout).animate({\'marginTop\': 0}, \'fast\');\n\t\t\t}\n\t\t\t*/\n\t\t});\n\n\t\t$(\'.send\', rooms[room.id].layout).click(function() {\n\t\t\treturn send();\n\t\t});\n\n\t\t/*\n\t\t\t유저 메뉴에서 hover 이벤트\n\t\t*/\n\t\t$(\'.content\', rooms[room.id].layout).on(\'mouseover\', \'.nick, a\', function() {\n\t\t\trooms[room.id].log.temp_scroll_stop = true;\n\t\t}).on(\'mouseleave\', \'.nick, a\', function() {\n\t\t\trooms[room.id].log.temp_scroll_stop = false;\n\t\t\troom.skin.scrollDown();\n\t\t});\n\t\t$(\'.latest_chat\', rooms[room.id].layout).click(function() {\n\t\t\t$(\'.latest_chat\', rooms[room.id].layout).hide();\n\t\t\trooms[room.id].log.temp_scroll_stop = false;\n\t\t\troom.setting.data[\'option.autoScroll\'] = 1;\n\t\t\troom.skin.scrollDown();\n\t\t})\n\t\t/*\n\t\t\t닉네임 클릭시 메뉴 오픈\n\t\t*/\n\t\t$(rooms[room.id].layout).on(\'click\', \'.nick\', function(e) {\n\n\t\t\tvar myInfo = room.my;\n\t\t\tvar nick = unescape($(this).attr(\'nick\'));\n\t\t\tvar html = \'\';\n\n\n\t\t\thtml += \'<div style="background:white; border:1px solid gray;overfloat:hidden" class="usermenu_popup">\';\n\t\t\thtml += \'<div class="subject" nick="\'+escape(nick)+ \'">\'+ text(nick)+ \'</div>\';\n\t\t\t/*\n\t\t\tif( room.my.nick == nick ) {\n\t\t\t\thtml += \'<div class="hr"></div>\';\n\t\t\t\thtml += \'<div class="group">\';\n\t\t\t\thtml += \'<div class="floor right" kind="info">보기</div>\';\n\t\t\t\thtml += \'<div class="floor" kind="myInfo">내정보수정</div>\';\n\t\t\t\thtml += \'</div>\';\n\t\t\t\tif(room.my.auth >= 2) {\n\t\t\t\t\thtml += \'<div class="group">\';\n\t\t\t\t\thtml += \'<div class="floor right" kind="defrozen">녹이기</div>\';\n\t\t\t\t\thtml += \'<div class="floor" kind="frozen">얼리기</div>\';\n\t\t\t\t\thtml += \'</div>\';\n\t\t\t\t\thtml += \'<div class="floor" kind="clearlog">채팅방 로그 청소</div>\';\n\n\t\t\t\t} else\n\t\t\t\t\thtml += \'<div class="floor" kind="clearlog">채팅방 청소</div>\';\n\t\t\t\tif( room.info[\'mode\'] != MODE_INDI && !room.skin.arguments.hideIndi )\n\t\t\t\t\thtml += \'<div class="floor" kind="individual">개인채널생성</div>\';\n\t\t\t\tif( room.my.auth >= 2 ) {\n\t\t\t\t\thtml += \'<div class="floor" kind="logout">로그아웃</div>\';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(room.my.auth >= 2) {\n\t\t\t\t\thtml += \'<div class="hr"></div>\';\n\t\t\t\t\thtml += \'<div class="floor" kind="info">유저정보보기</div>\';\n\n\t\t\t\t\tif(room.my.auth >= 3) {\n\t\t\t\t\t\thtml += \'<div class="group">\';\n\t\t\t\t\t\thtml += \'<div class="floor right" kind="deop">해제</div>\';\n\t\t\t\t\t\thtml += \'<div class="floor" kind="op">권한등록</div>\';\n\t\t\t\t\t\thtml += \'</div>\';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(room.my.auth >= 2) {\n\t\t\t\t\thtml += \'<div class="hr"></div>\';\n\t\t\t\t\thtml += \'<div class="group">\';\n\t\t\t\t\thtml += \'<div class="floor right" kind="unmute">해제</div>\';\n\t\t\t\t\thtml += \'<div class="floor" kind="mute">채팅금지</div>\';\n\t\t\t\t\thtml += \'</div>\';\n\t\t\t\t\thtml += \'<div class="group">\';\n\t\t\t\t\thtml += \'<div class="floor right" kind="ip">보기</div>\';\n\t\t\t\t\thtml += \'<div class="floor" kind="ban">아이피차단</div>\';\n\t\t\t\t\thtml += \'</div>\';\n\t\t\t\t}\n\n\t\t\t\thtml += \'<div class="hr"></div>\';\n\t\t\t\thtml += \'<div class="group">\';\n\t\t\t\thtml += \'<div class="floor right" kind="whisper">귓속말</div>\';\n\t\t\t\thtml += \'<div class="floor" style="" kind="call">호출</div>\';\n\t\t\t\thtml += \'</div>\';\n\n\t\t\t\thtml += \'<div class="group">\';\n\t\t\t\thtml += \'<div class="floor right" kind="un_ignore">해제</div>\';\n\t\t\t\thtml += \'<div class="floor" kind="ignore">무시하기</div>\';\n\t\t\t\thtml += \'</div>\';\n\t\t\t\tif(!room.skin.arguments.hideIndi)\n\t\t\t\t\thtml += \'<div class="floor" kind="individual">개인채널초대</div>\';\t\t\t\t\n\t\t\t}\n\t\t\t*/\n\t\t\t/*\n\t\t\tif(room.my.auth < 2) {\n\t\t\t\thtml += \'<div class="floor" kind="report">신고하기</div>\';\n\t\t\t}\n\t\t\t*/\n\t\t\t/*\n\t\t\tif(room.my.auth >= 3) {\n\t\t\t\thtml += \'<div class="floor" kind="op">관리자 임명</div>\';\n\t\t\t}*/\n\t\t\t//html += room.skin.userMenu.print(nick);\n\t\t\thtml += \'</div>\';\n\t\t\thtml = $(html).append($(\'<div />\').addClass(\'scrollable\').append(room.skin.userMenu.print(nick)));\n\n\t\t\tpopup.add(html, \'userMenu\', function(layer, pb, pu) {\n\n\t\t\t\tvar x = e.pageX;\n\t\t\t\tvar y = e.pageY;\n\n\t\t\t\t/* ie7 에서 wrap 의 넓이가 안정해지면 자식객체가 width 를 100% 으로 써버림 (float:right 하는순간 width 100%)\n\t\t\t\tif(pu.outerWidth() < 120)\n\t\t\t\t\tpu.width(120);\n\t\t\t\t\t*/\n\t\t\t\tpu.width(120);\n\t\t\t\tif( x < 0 )\n\t\t\t\t\tx = 0;\n\t\t\t\tif( x > $(\'body\').width() - pu.outerWidth())\n\t\t\t\t\tx = $(\'body\').width() - pu.outerWidth();\n\t\t\t\tif( y > $(\'body\').height() - pu.outerHeight()) {\n\t\t\t\t\ty = 0;\n\t\t\t\t\tpu.height($(\'body\').height());\n\t\t\t\t\tpu.find(\'.scrollable\').height(pu.height() - pu.find(\'.subject[nick]\').outerHeight());\n\t\t\t\t}\n\t\t\t\tpu.css("top", y).css("left", x);\n\t\t\t\tpu.on(\'mouseover\', \'.floor\', function(e) {\n\t\t\t\t\t$(this).addClass(\'hover\');\n\t\t\t\t});\n\t\t\t\tpu.on(\'mouseleave\', \'.floor\', function() {\n\t\t\t\t\t$(this).removeClass(\'hover\');\n\t\t\t\t});\n\t\t\t\tpb.one(\'click\', layer.close);\n\t\t\t\tpu.on(\'click\', \'.floor\', layer.close);\n\t\t\t});\n\n\t\t});\n\t\tfunction initSetting() {\n\t\t\t$(\'.settingContent>.pack\', rooms[room.id].layout).hide();\n\t\t\tvar setting = room.setting.data;\n\t\t\tvar labels = $(\'.settingContent div.floor\', rooms[room.id].layout);\n\t\t\tfor (var i in setting) {\n\t\t\t\tif (setting[i]) {\n\t\t\t\t\tlabels.filter(\'[kind="\' + i + \'"]\').find(\'input[type=checkbox]\').attr(\'checked\', \'checked\');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(room.info[\'frozen\'])\n\t\t\t\tlabels.filter(\'[kind="frozen"]\').find(\'input[type=checkbox]\').attr(\'checked\', \'checked\');\n\n\t\t\tif(room.my.auth >= AUTH_SUBADMIN)\n\t\t\t\t$(\'.settingContent .onlyadmin\', rooms[room.id].layout).show();\n\t\t/*, function () {\n\t\t\t\t$(\'.settingContent input[type=checkbox]\', rooms[room.id].layout).each(function (index) {\n\t\t\t\t\troom.option.set($(this).attr(\'kind\'), $(this)[0].checked);\n\t\t\t\t});\n\t\t\t});\n\t\t\t*/\n\t\t}\n\t\tfunction showSetting(e) {\n\t\t\tif($(\'.settingBackground\', rooms[room.id].layout).not(\':visible\')) {\n\t\t\t\tinitSetting();\n\t\t\t\trooms[room.id].dom.settingBG.show();\n\t\t\t\trooms[room.id].dom.setting.show();\n\t\t\t\tif(rooms[room.id].dom.wrap.height()-e.pageY-20 < rooms[room.id].dom.setting.height()) {\n\t\t\t\t\trooms[room.id].dom.setting.find(\'.scrollable\').height(rooms[room.id].dom.wrap.height()-e.pageY-20 - rooms[room.id].dom.setting.find(\'>.title\').height());\n\t\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\trooms[room.id].dom.setting.css({top: e.pageY + 10, left:e.pageX - rooms[room.id].dom.setting.outerWidth(true), \'maxHeight\': rooms[room.id].dom.wrap.height()-e.pageY-20});\n\t\t\t}\n\n\n\t\t}\n\t\tfunction hideSetting() {\n\t\t\tif($(\'.settingBackground\', rooms[room.id].layout).is(\':visible\')) {\n\t\t\t\trooms[room.id].dom.settingBG.hide();\n\t\t\t\trooms[room.id].dom.setting.hide();\n\t\t\t}\n\t\t}\n\t\t$(\'.settingContent\', rooms[room.id].layout).on(\'click\', \'.subject\', function (index) {\n\t\t\t$(\'.settingContent .pack\', rooms[room.id].layout).eq($(this).index(".settingContent .subject")).toggle();\n\t\t});\n\t\t$(\'.settingContent\', rooms[room.id].layout).on(\'click\', \'.my_information\', function () {\n\t\t\tpopup.prompt(\'나의 정보\', \'닉네임\', room.my.nick, function(data) { \n\t\t\t\tif(data) {\n\t\t\t\t\tcommandSwitch(room, [\'nick\', data ]);\n\t\t\t\t\thideSetting();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\n\t\t$(\'.settingContent\', rooms[room.id].layout).on(\'click\', \'div.floor\', function(e) {\n\t\t\tif($(e.target).is(\'label\')) {\n\t\t\t\tswitch($(this).attr(\'kind\')) {\n\t\t\t\t\tcase \'frozen\':\n\t\t\t\t\t\tif( !$(this).find(\'input[type=checkbox]\').is(\':checked\') ) // 클릭하는 순간에는 변경되기 전이므로 반대로 한다.\n\t\t\t\t\t\t\tcommandSwitch( room, [ \'frozen\' ] );\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tcommandSwitch( room, [ \'defrozen\' ] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \'clearLog\':\n\t\t\t\t\t\tcommandSwitch( room, [ \'clearLog\' ] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\troom.setting.data[$(this).attr(\'kind\')] = $(this).find(\'input[type=checkbox]\').is(\':checked\')?0:1;  // 클릭하는 순간에는 변경되기 전이므로 반대로 한다.\n\t\t\t\t\t\troom.setting.save();\n\t\t\t\t}\n\t\t\t}\n\t\t\t//e.stopPropagation(); e.preventDefault();\n\t\t});\n\n\t\t$(\'.countWrap\', rooms[room.id].layout).click(rooms[room.id].userListDom.toggle);\n\n\n\t\t$(\'.new_popup\', rooms[room.id].layout).click(function() {\n\t\t\tcommandSwitch(room, [\'popup\']);\n\t\t});\n\n\t\t$(\'.uchat_info\', rooms[room.id].layout).click(function() {\n\t\t\tpopup.alert(\'\', $(\'#uchat_info\').html());\n\t\t});\n\n\t\t$(\'.login\', rooms[room.id].layout).click(function() {\n\t\t\tpopup.password(\'관리자 로그인\', \'패스워드\', \'\', function(data) {\n\t\t\t\tif(data)\n\t\t\t\t\troom.action.command(\'login\', data);\n\t\t\t\thideSetting();\n\t\t\t});\n\t\t});\n\t\tif(room.skin.arguments.hideEmoticon) $(\'.emoticon\', rooms[room.id].layout).hide();\n\t\t$(rooms[room.id].layout).on(\'click\', \'.room_setting\', function() {\n\t\t\troom.action.command("adminPage");\n\t\t});\n\t\trooms[room.id].layout.on(\'click\', \'.emoticon\', function(event) {\n\t\t\tif(room.skin.arguments.hideEmoticon) return false;\n\t\t\tpopup.add($(\'#emoticon_popup\').html(), \'emoticon_popup\', function(layer, pb, pu) {\n\t\t\t\t/*\n\t\t\t\tpu.find(\'input:first\').focus();\n\t\t\t\tpu.find(".nickname").val(room.my.nick);\n\t\t\t\t*/\n\n\t\t\t\tvar x = event.pageX;\n\t\t\t\tvar y = event.pageY;\n\n\t\t\t\t/* ie7 에서 wrap 의 넓이가 안정해지면 자식객체가 width 를 100% 으로 써버림 (float:right 하는순간 width 100%)\n\t\t\t\tif(pu.outerWidth() < 120)\n\t\t\t\t\tpu.width(120);\n\t\t\t\t\t*/\n\t\t\t\tpu.width($(\'body\').width() < 200? $(\'body\').width():200);\n\t\t\t\tif( x < 0 )\n\t\t\t\t\tx = 0;\n\t\t\t\tif( x > $(\'body\').width() - pu.outerWidth())\n\t\t\t\t\tx = $(\'body\').width() - pu.outerWidth();\n\t\t\t\tif( y > $(\'body\').height() - pu.outerHeight())\n\t\t\t\t\ty = $(\'body\').height() - pu.outerHeight();\n\t\t\t\tpu.css("top", y).css("left", x);\n\t\t\t\t\n\t\t\t\tvar html = \'\';\n\n\t\t\t\tfor(var i =1; i <= 127; i++) {\n\t\t\t\t\thtml += \'<img src="//devclient.uchat.io/emoticon/onionhead/\'+leadingZeros(i, 3)+\'.gif" code="onionhead|\'+leadingZeros(i, 3)+\'.gif">\';\n\t\t\t\t}\n\n\t\t\t\tpu.find(\'.emoticon_middle\').html(html);\n\t\t\t\tpb.on(\'click\', function() {\n\t\t\t\t\tlayer.close();\n\t\t\t\t});\n\t\t\t\tpu.on(\'click\', \'img\', function() {\n\t\t\t\t\t$(\'.chatInput\', rooms[room.id].layout).append(\'<img src="\'+$(this).attr(\'src\')+\'">\');\n\t\t\t\t\tvar el = $(\'.chatInput\', rooms[room.id].layout)[0];\n\t\t\t\t\tel.focus();\n\t\t\t\t\tif (typeof window.getSelection != "undefined"\n\t\t\t\t\t\t\t&& typeof document.createRange != "undefined") {\n\t\t\t\t\t\tvar range = document.createRange();\n\t\t\t\t\t\trange.selectNodeContents(el);\n\t\t\t\t\t\trange.collapse(false);\n\t\t\t\t\t\tvar sel = window.getSelection();\n\t\t\t\t\t\tsel.removeAllRanges();\n\t\t\t\t\t\tsel.addRange(range);\n\t\t\t\t\t} else if (typeof document.body.createTextRange != "undefined") {\n\t\t\t\t\t\tvar textRange = document.body.createTextRange();\n\t\t\t\t\t\ttextRange.moveToElementText(el);\n\t\t\t\t\t\ttextRange.collapse(false);\n\t\t\t\t\t\ttextRange.select();\n\t\t\t\t\t}\n\t\t\t\t\trooms[room.id].textarea_reload();\n\t\t\t\t\tlayer.close();\n\n\t\t\t\t});\n\t\t\t\t/*\n\t\t\t\tpu.one(\'click\', \'.ok\', function() {\n\t\t\t\t\t//alert(\'오케이\');\n\t\t\t\t\tcommandSwitch(room, [\'nick\', pu.find(".nickname").val() ]);\n\t\t\t\t\tlayer.close();\n\t\t\t\t\thideSetting();\n\t\t\t\t}).one(\'click\', \'.cancel\', function() {\n\t\t\t\t\t//alert(\'거절\');\n\t\t\t\t\tlayer.close();\n\t\t\t\t\thideSetting();\n\t\t\t\t});\n\t\t\t\t*/\n\t\t\t});\n\t\t});\n\t});\n\n}\n\n\nfunction allot(str, data) {\n\tfor( var i in data ) {\n\t\tif (!data.hasOwnProperty(i) || typeof(data[i]) === \'undefined\') {\n\t\t\tcontinue;\n\t\t}\n\t\tstr = str.replace(new RegExp("{"+i+"}", "gi"), data[i].replace("\'", \'&#39;\').replace(\'"\', \'&quot;\'));\n\t}\n\treturn str;\n}\n\nfunction allot2(str, data) {\n\tif(!str)\n\t\treturn \'\';\n\tfor(var i in data) {\n\t\tstr = str.replace(\'{\'+i+\'}\', data[i]);\n\t}\n\treturn str;\n}\nfunction imageMaker ( data, alt ) {\n\tvar result = \'\';\n\tif(data)\n\t\tresult = \'<img src="\'+data+\'"\'+(alt?\' alt="\'+(alt.replace(/"/gi, \'&quot;\'))+\'"\':\'\')+\'>\';\n\treturn result;\n}\n\nfunction icons_parsing(data) {\n\tvar icon_set = data.split(\'@\');\n\tvar icons_front_arr = (icon_set[0]||\'\').split(\',\'); // 닉콘 앞 아이콘들\n\tvar icons_back_arr = (icon_set[1]||\'\').split(\',\'); // 닉콘 뒤 아이콘들\n\tvar icons_front = \'\';\n\tvar icons_back = \'\';\n\tfor(var i = 0; i<icons_front_arr.length; i++)\n\t\tif(icons_front_arr[i])\n\t\t\ticons_front += imageMaker(icons_front_arr[i])+\'&nbsp;\';\n\n\tfor(var i = 0; i<icons_back_arr.length; i++) {\n\t\tif(icons_back_arr[i])\n\t\t\ticons_back += \'&nbsp;\'+imageMaker(icons_back_arr[i]);\n\t}\n\treturn [icons_front, icons_back];\n}\n\nfunction userFloorMaker( data ) {\n\tvar html = \'\';\n\tvar auth = \'\';\n\tvar title = \'\';\n\tvar addClass = \'\';\n\tswitch(data[\'auth\']) {\n\t\tcase 3:\n\t\t\ttitle = \' <img src="//devclient.uchat.io/skin/basic/img/crown-icon.gif">\';\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\ttitle = \' <img src="//devclient.uchat.io/skin/basic/img/crown-icon-s.gif">\';\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\ttitle = \'\';\n\t\t\tbreak;\n\t\tcase 0:\n\t\t\ttitle = \'\';\n\t\t\tbreak;\n\t}\n\n\tif(data[\'mute\'])\n\t\taddClass += \'mute\';\n\n\tvar icon_set = icons_parsing(data[\'icons\']);\n\n\tif(data[\'nickcon\']) {\n\t\tvar nickcon = imageMaker(data[\'nickcon\'], data[\'nick\']);\n\t}\n\n\tvar html = ["<div class=\'userFloor nick ", addClass, "\' nick=\'", escape(data[\'nick\']), "\' title=\'", text(data[\'nick\']).replace(/\'/gi, \'&#39;\'), " - {ago}", "\' created=\'", data[\'time\'], "\'>", icon_set[0], "<span>", nickcon?nickcon:text(data[\'nick\']), "</span>", icon_set[1], title, \'</div>\'];\n\n\treturn html.join(\'\');\n}\n\nfunction userFloorSend(room, html, data ) {\n\tvar auth = 0;\n\tswitch(data[\'auth\']) {\n\t\tcase 3:\n\t\t\tauth = \'admin\';\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tauth = \'subadmin\';\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tauth = \'member\';\n\t\t\tbreak;\n\t\tcase 0:\n\t\t\tauth = \'guest\';\n\t\t\tbreak;\n\t}\n\tif(room.my.nick == data[\'nick\'])\n\t\t$(\'.userList .i\', rooms[room.id].layout).html(html);\n\telse\n\t\t$(\'.userList .\'+auth+\'-list\', rooms[room.id].layout).append(html);\n\trooms[room.id].dom.userList.nanoScroller();\n}\n\nfunction userAdd ( room, data ) {\n\tif(!$(\'.userFloor[nick="\'+escape(data[\'nick\'])+\'"]\', rooms[room.id].layout)[0]) {\n\t\tuserFloorSend(room, userFloorMaker(data), data);\n\t}\n}\nfunction system(target, room, type, data) {\n\tif(type != \'notice\' && type != \'toplayer\') {\n\t\tdata = text(data);\n\t}\n\tswitch(type) {\n\t\tcase \'invite\':\n\t\t\tvar result = $(\'<div>\');\n\t\t\tif(room.skin.arguments.hideIndi) break;\n\t\t\tif(started_time >= new Date().getTime() - 1000)\n\t\t\t\ttarget.append(\'<div class="line system" data-tiptext="{ago}" created="\'+Uchat.getServerSecond()+\'">\'+allot2(room.language.system[type], data)+\'</div>\');\n\t\t\telse {\n\t\t\t\tpopup.confirm(\'개인채널 초대\', data[0]+\'님이 개인채널에 초대하였습니다. \', function(result) {\n\t\t\t\t\tif(result) {\n\t\t\t\t\t\troom.action.command(\'individual\', data[2]);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif("Notification" in window) {\n\t\t\t\t\tvar options = {\n\t\t\t\t\t\tbody : data[0]+\'님이 개인채널에 초대하였습니다. \'\n\t\t\t\t\t};\n\t\t\t\t\tvar notification = new Notification("개인채널 초대", options);\n\t\t\t\t\tnotification.onclick = function() {\n\t\t\t\t\t\tparent.focus();\n\t\t\t\t\t\tthis.close();\n\t\t\t\t\t};\n\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \'frozen\':\n\t\t\t$(rooms[room.id].layout).addClass(\'frozen\');\n\t\t\ttarget.append(\'<div class="line system" data-tiptext="{ago}" created="\'+Uchat.getServerSecond()/1000+\'">\'+allot2(room.language.system[type], data)+\'</div>\');\n\t\t\tbreak;\n\t\tcase \'defrozen\':\n\t\t\t$(rooms[room.id].layout).removeClass(\'frozen\');\n\t\t\ttarget.append(\'<div class="line system" data-tiptext="{ago}" created="\'+Uchat.getServerSecond()/1000+\'">\'+allot2(room.language.system[type], data)+\'</div>\');\n\t\t\tbreak;\n\t\tcase \'user_info\':\n\t\t\tpopup.alert(\'유저정보\', allot2(room.language.system[type], data), function(pb, pu) {\n\t\t\t});\n\t\t\tbreak;\n\t\tcase \'from_call\':\n\t\t\tif(room.setting.data[\'sound.call\'] && started_time < new Date().getTime() - 1000) {\n\t\t\t\trooms[room.id].dom.content_target.append(sound(\'//devclient.uchat.io/skin/basic/sound/di_sound\'));\n\t\t\t}\n\t\t\t\n\t\t\tif(started_time >= new Date().getTime() - 1000) {\n\t\t\t\ttarget.append(\'<div class="line system" data-tiptext="{ago}" created="\'+Uchat.getServerSecond()/1000+\'">\'+allot2(room.language.system[type], data)+\'</div>\');\n\t\t\t} else {\n\t\t\t\tpopup.alert(\'호출\', allot2(room.language.system[type], data), function(pb, pu) {});\n\t\t\t\tif("Notification" in window) {\n\t\t\t\t\tvar options = {\n\t\t\t\t\t\tbody : allot2(room.language.system[type], data)\n\t\t\t\t\t};\n\t\t\t\t\tvar notification = new Notification("호출", options);\n\t\t\t\t\tnotification.onclick = function() {\n\t\t\t\t\t\tparent.focus();\n\t\t\t\t\t\tthis.close();\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tbreak;\n\t\tcase \'toplayer\':\n\t\t\tvar timeout = 0;\n\t\t\tif(data[4])\n\t\t\t\ttimeout = data[4]*1000 - room.now();\n\t\t\tif(data[5] > 0 && (data[4] == 0 || (timeout > 0  && data[5]*1000 < timeout )))\n\t\t\t\ttimeout = data[5]*1000;\n\t\t\troom.top_layer.add(allot2(room.language.system[type], data), data[1], data[2], timeout, data[6], data[7]);\n\t\t\tbreak;\n\t\tcase \'changed_nick\':\n\t\t\tif(room.skin.arguments.hideNickChange)\n\t\t\t\treturn false;\n\t\tdefault:\n\t\t\ttarget.append(\'<div class="line system" data-tiptext="{ago}" created="\'+Uchat.getServerSecond()/1000+\'">\'+allot2(room.language.system[type], data)+\'</div>\');\n\t\t\tbreak;\n\t}\n\troom.skin.scrollDown();\n}\n\nUchat.on(\'creation\', function(room) {\n\t//console.log(\'★★\', room.setting.data);\n\trooms[room.id] = this_room= {room:room, log : {}};\n\trooms[room.id].layout = $($(\'#room_layout\').html());\n\t// 리포팅\n\troom.reporting_timer = setTimeout(function( ) { \n\t\troom.action.report();\n\t}, 5000);\n\t\n\troom.language.system[\'channel_made\'] = \'<div class="background-1">채널 채팅방을 생성하셨습니다. <br>오른쪽 <div class="room_setting" style="display:inline-block;"><img src="//devclient.uchat.io/skin/basic/img/black/setting.png" width="16" alt=""></div>를 클릭하여 채팅방 관리자 로그인 비밀번호를 설정해주세요.<br>관리자 로그인 비밀번호가 설정되어있지 않으면 채팅방에 아무도 없을때 모든 설정이 날라가고 새로운 접속자에게 권한이 넘어갑니다.<br>채팅방 관리자는 이 채팅방의 모든 권한을 가질 수 있습니다.<br>남에게 알려주지 마시고 쉬운 비밀번호로 설정하지 마세요.<br>관리자 로그인 비밀번호가 있더라도 2주동안 아무도 접속하지 않으면 채팅방이 자동 소멸됩니다.</div>\';\n\n\t$(\'body\').append(rooms[room.id].layout);\n\troom.skin.arguments.defaultColor = isWhiteness(room.skin.arguments.middleBGColor || room.skin.arguments.defaultBGColor || \'#ffffff\') ? \'#333333\' : \'#cccccc\';\n\tlayout_init(room);\n\n\troom.setting.data[\'option.autoScroll\'] = 1;\n\trooms[room.id].log.temp_scroll_stop = 0;\n\n\trooms[room.id].log.chat = [];\n\trooms[room.id].log.now_chat = -1;\n\n\tif(room.skin.arguments.hideUserCount) $(\'.countWrap\', rooms[room.id].layout).remove();\n\troom.setting.init({\n\t\t\'style.color\': room.skin.arguments.defaultColor\n\t\t, \'style.bold\': false\n\t\t, \'style.italic\': false\n\t\t, \'style.underline\': false\n\t\t, \'sound.call\': true\n\t\t, \'sound.invite\': true\n\t\t, \'sound.joinout\': false\n\t\t, \'access.call\': true\n\t\t, \'access.whisper\': true\n\t\t, \'access.invite\': true\n\t\t, \'access.joinout\': false\n\t\t, \'option.oldChatRemove\': 200\n\t\t, \'option.autoScroll\': 1\n\t});\n\t/* 이미지 로드되면 스크롤 내리기 */\n\tif(window.addEventListener)\n\t\troom.skin.dom.wrap[0].addEventListener(\'load\', function(event){\n\t\t\tif( event.target.tagName == \'IMG\')\n\t\t\t\troom.skin.scrollDown();\n\t\t}, true);\n\n\t/* skin 함수 시작 */\n\troom.skin.window = window;\n\troom.skin.document = document;\n\troom.skin.popup = popup;\n\troom.skin.userMenu = new ( function userMenu_module() { \n\t\tthis.list = [];\n\t\t\n\t\tthis.add = function( data ) {\n\t\t\tif(!data.id) return false;\n\t\t\tfor(var i =0, l=this.list.length; i<l; i++) {\n\t\t\t\tif(this.list[i].id == data.id)\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\tdata.layout = $(\'<div />\').addClass(\'floor\').text(data.text);\n\t\t\tthis.list.push(data);\n\t\t}\n\n\t\tthis.group = function( data1, data2 ) { \n\t\t\tdata1.layout = $(\'<div />\').addClass(\'floor\').text(data1.text);\n\t\t\tdata2.layout = $(\'<div />\').addClass(\'floor right\').text(data2.text);\n\n\t\t\tthis.list.push( [data1, data2] );\n\t\t}\n\n\t\tthis.hr = function( data ) { \n\t\t\tif(!data) data = {};\n\t\t\tdata.id = \'hr\';\n\t\t\tdata.layout = $(\'<div class="hr"></div>\');\n\t\t\tthis.list.push(data);\n\t\t}\n\n\t\tthis.remove = function( id ) {\n\t\t\tif(!id) return false;\n\t\t\tvar i = this.list.length;\n\t\t\twhile(i--) {\n\t\t\t\tif(isArray(this.list[i])) {\n\t\t\t\t\tif(this.list[i][1] && this.list[i][1].id == id)\n\t\t\t\t\t\tthis.list[i].splice(1, 1);\n\t\t\t\t\tif(this.list[i][0] && this.list[i][0].id == id)\n\t\t\t\t\t\tthis.list[i].splice(0, 1);\n\t\t\t\t\tif(this.list[i].length == 0)\n\t\t\t\t\t\tthis.list.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tif(this.list[i].id == id)\n\t\t\t\t\t\tthis.list.splice(i, 1);\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tthis.print = function ( target ) {\n\t\t\tvar result = [];\n\t\t\tvar self = this;\n\t\t\tfor(var i = 0, l = this.list.length; i<l; i++) {\n\t\t\t\tif(isArray(this.list[i])) {\n\t\t\t\t\tvar group_tmp = $(\'<div />\').addClass(\'group\');\n\t\t\t\t\tif(checkCondition(this.list[i][1], room, {target : target})) {\n\t\t\t\t\t\tresult.push(onClick(this.list[i][1]));\n\t\t\t\t\t}\n\t\t\t\t\tif(checkCondition(this.list[i][0], room, {target : target})) {\n\t\t\t\t\t\tresult.push(onClick(this.list[i][0]));\n\t\t\t\t\t}\n\t\t\t\t\tif(group_tmp.find(\'div\').length > 0) {\n\t\t\t\t\t\tresult.push(group_tmp);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tif(checkCondition(this.list[i], room, {target : target})) {\n\t\t\t\t\t\tresult.push(onClick(this.list[i]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tfunction checkCondition( fn, room, data ) {\n\t\t\tif(fn && fn.condition && fn.condition(room, data) === false)\n\t\t\t\treturn false;\n\t\t\telse\n\t\t\t\treturn true;\n\n\t\t}\n\n\t\tfunction onClick(data) {\n\t\t\tif(!data) return ;\n\t\t\treturn data.layout.click(function(e) {\n\t\t\t\tdata.onClick && data.onClick( room,  {event:e, id:data.id, target:unescape($(\'#popupWrap\').find(\'.subject\').attr(\'nick\'))});\n\t\t\t});\n\t\t}\n\n\t})();\n\tvar userMenuOnClick = function ( room, data ) {\n\t\tcommandSwitch(room, [data.id, data.target]);\n\t}\n\troom.skin.userMenu.hr();\n\troom.skin.userMenu.group( { \n\t\tid : \'myInfo\'\n\t\t, text : \'내정보수정\'\n\t\t, condition : function ( room, data ) {\n\t\t\tif(room.my.nick != data.target) return false;\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t}, { \n\t\tid : \'info\'\n\t\t, text : \'보기\'\n\t\t, condition : function ( room, data ) {\n\t\t\tif(room.my.nick != data.target) return false;\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t} );\n\n\troom.skin.userMenu.group( {\n\t\tid : \'frozen\'\n\t\t, text : \'얼리기\'\n\t\t, condition : function ( room, data ) { \n\t\t\tif(room.my.nick != data.target || room.my.auth < 2) return false;\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t}, {\n\t\tid : \'defrozen\'\n\t\t, text : \'녹이기\'\n\t\t, condition : function ( room, data ) { \n\t\t\tif(room.my.nick != data.target || room.my.auth < 2) return false;\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t});\n\troom.skin.userMenu.add( {\n\t\tid : \'clearlog\'\n\t\t, text : \'채팅방 로그 청소\'\n\t\t, condition : function ( room, data ) { \n\t\t\tif(room.my.nick != data.target || room.my.auth < 2) return false;\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t} );\n\troom.skin.userMenu.add( {\n\t\tid : \'clearlog\'\n\t\t, text : \'채팅방 청소\'\n\t\t, condition : function ( room, data ) { \n\t\t\tif(room.my.nick == data.target)\n\t\t\t\tif(room.my.auth < 2)\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t} );\n\troom.skin.userMenu.add( {\n\t\tid : \'individual\'\n\t\t, text : \'개인채널생성\'\n\t\t, condition : function ( room, data ) { \n\t\t\tif(room.my.nick == data.target)\n\t\t\t\tif( room.info[\'mode\'] != MODE_INDI && !room.skin.arguments.hideIndi )\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t} );\n\troom.skin.userMenu.add( {\n\t\tid : \'logout\'\n\t\t, text : \'로그아웃\'\n\t\t, condition : function ( room, data ) { \n\t\t\tif(room.my.nick == data.target)\n\t\t\t\tif( room.my.auth >= 2 ) \n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t} );\n\troom.skin.userMenu.hr( { \n\t\tcondition : function ( room, data ) {\n\t\t\tif(room.my.auth >= 2)\n\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t} );\n\troom.skin.userMenu.add( {\n\t\tid : \'info\'\n\t\t, text : \'유저정보보기\'\n\t\t, condition : function ( room, data ) { \n\t\t\tif( room.my.nick != data.target)\n\t\t\t\tif( room.my.auth >= 2 ) \n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t} );\n\troom.skin.userMenu.group( {\n\t\tid : \'op\'\n\t\t, text : \'권한등록\'\n\t\t, condition : function ( room, data ) {\n\t\t\tif( room.my.nick != data.target ) \n\t\t\t\tif( room.my.auth >= 3 )\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t}, {\n\t\tid : \'deop\'\n\t\t, text: \'해제\'\n\t\t, condition : function ( room, data ) {\n\t\t\tif( room.my.nick != data.target ) \n\t\t\t\tif ( room.my.auth >= 3 ) \n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t} );\n\troom.skin.userMenu.hr( { \n\t\tcondition : function( room, data ) {\n\t\t\tif(room.my.nick != data.target ) \n\t\t\t\tif(room.my.auth >=2 )\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t} );\n\troom.skin.userMenu.group( {\n\t\tid : \'mute\'\n\t\t, text : \'채팅금지\'\n\t\t, condition : function ( room, data ) {\n\t\t\tif( room.my.nick != data.target) \n\t\t\t\tif( room.my.auth >= 2 )\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t}, {\n\t\tid: \'unmute\'\n\t\t, text: "해제"\n\t\t, condition : function ( room, data ) {\n\t\t\tif(room.my.nick != data.target)\n\t\t\t\tif( room.my.auth >= 2 )\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t} );\n\troom.skin.userMenu.group ( {\n\t\tid : \'ban\'\n\t\t, text : \'아이피차단\'\n\t\t, condition : function ( room, data ) {\n\t\t\tif(room.my.nick != data.target)\n\t\t\t\tif(room.my.auth >= 2)\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t}, {\n\t\tid : \'ip\'\n\t\t, text : \'보기\'\n\t\t, condition : function ( room, data ) {\n\t\t\tif(room.my.nick != data.target )\n\t\t\t\tif(room.my.auth >= 2)\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t} );\n\troom.skin.userMenu.hr( { \n\t\tcondition : function( room, data ) {\n\t\t\tif(room.my.nick != data.target )\n\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t} );\n\troom.skin.userMenu.group( { \n\t\tid : \'call\'\n\t\t, text : \'호출\'\n\t\t, condition : function ( room, data ) { \n\t\t\tif(room.my.nick != data.target) \n\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t}, {\n\t\tid : \'whisper\'\n\t\t, text : \'귓속말\'\n\t\t, condition : function( room, data ) { \n\t\t\tif(room.my.nick != data.target) \n\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t\t, onClick : function( room, data ) {\n\t   \t\twhisper.add(unescape(data.target));\n\t   \t\t$(\'.chatInput\', rooms[room.id].layout).focus();\n\t   \t}\n\t});\n\troom.skin.userMenu.group( { \n\t\tid : \'ignore\'\n\t\t, text : \'무시하기\'\n\t\t, condition : function( room, data ) {\n\t\t\tif( room.my.nick != data.target) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t}, {\n\t\tid : \'un_ignore\'\n\t\t, text : \'해제\'\n\t\t, condition : function( room, data ) {\n\t\t\tif( room.my.nick != data.target ) {\n\t\t\t\treturn true;\n\t\t\t} else { \n\t\t\t\treturn false; \n\t\t\t}\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t} );\n\troom.skin.userMenu.add({\n\t\tid: \'report\'\n\t\t, text: \'신고하기\'\n\t\t, condition: function (room, data) {\n\t\t\tif(room.my.nick != data.target)\n\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t});\n\troom.skin.userMenu.add( {\n\t\tid : \'invite\'\n\t\t, text : \'개인채널초대\'\n\t\t, condition : function ( room, data ) {\n\t\t\tif(room.my.nick != data.target)\n\t\t\t\tif(!room.skin.arguments.hideIndi)\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t\t, onClick : userMenuOnClick\n\t} );\n\n\n\troom.skin.menubar = new (function menubar_module() {\n\t\tthis.list = [];\n\t\tthis.menubar = $(\'.menuBar\', rooms[room.id].layout);\n\t\tthis.room = room;\n\n\t\tthis.add = function(data) {\n\t\t\tif(!data.id) return false;\n\n\t\t\tfor(var i = 0, l= this.list.length; i<l; i++){\n\t\t\t\tif (this.list[i].id == data.id) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(data.html) {\n\t\t\t\tdata.layout = $(data.html);\n\t\t\t} else {\n\t\t\t\tdata.layout = $(\'<div />\');\n\t\t\t} \n\t\t\t\n\t\t\tdata.layout.attr(\'title\', data.title || \'\').addClass(\'menu-style\').addClass(\'menubar-\'+data.id).on(\'change click\', function(e) {\n\t\t\t\tdata.event = e;\n\t\t\t\tdata.onClick && data.onClick(room, data); \n\t\t\t}).data(\'menuId\', data.id); \n\t\t\tif(data.icon)\n\t\t\t\tdata.layout.css(\'backgroundImage\', \'url(\'+data.icon+\')\');\n\t\t\tthis.list.push(data);\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.remove = function (id) {\n\t\t\tvar i = this.list.length;\n\t\t\twhile(i--) {\n\t\t\t\tif(this.list[i].id == id) {\n\n\t\t\t\t\tthis.list[i].beforeUnload && this.list[i].beforeUnload();\n\t\t\t\t\tthis.menubar.find(\'.menubar-\'+i).remove();\n\t\t\t\t\tthis.list[i].afterUnload && this.list[i].afterUnload();\n\t\t\t\t\tthis.list.splice(i, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.refresh = function () {\n\t\t\tvar self = this;\n\t\t\tfor(var i = 0, l= this.list.length; i<l; i++) {\n\t\t\t\tvar data = this.list[i];\n\t\t\t\tif(this.menubar.find(\'.menubar-\'+this.list[i].id).length > 0) {\n\t\t\t\t\tif(this.list[i].condition && this.list[i].condition( room, this.list[i] ) === false) { //삭제시작\n\t\t\t\t\t\tthis.remove(data.id);\n\t\t\t\t\t}\n\t\t\t\t} else { \n\t\t\t\t\tif(this.list[i].condition && this.list[i].condition( room, this.list[i] ) === false) { // 조건이 안됨\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else { \n\t\t\t\t\t\tif(!this.list[i].beforeLoad || this.list[i].beforeLoad && this.list[i].beforeLoad(room, data) !== false) {\n\t\t\t\t\t\t\tthis.menubar.append(this.list[i].layout);\n\t\t\t\t\t\t\tthis.list[i].afterLoad && this.list[i].afterLoad(room, data);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$(window).resize();\n\t\t}\n\n\t\tthis.hide = function () {\n\t\t\tif(this.menubar.is(\':visible\')) {\n\t\t\t\tthis.menubar.hide();\n\t\t\t\t$(window).resize();\n\t\t\t}\n\t\t}\n\n\t\tthis.show  = function () {\n\t\t\tif(this.menubar.not(\':visible\')) {\n\t\t\t\tthis.menubar.show();\n\t\t\t\t$(window).resize();\n\t\t\t}\n\t\t}\n\n\t\tthis.toggle = function() {\n\t\t\tif(this.menubar.is(\':visible\'))\n\t\t\t\tthis.hide();\n\t\t\telse\n\t\t\t\tthis.show();\n\t\t}\n\t\t\n\t})();\n\n\troom.skin.menubar.add( { // 스크롤 등록\n\t\tid : \'scroll\'\n\t\t, title : \'스크롤 고정\'\n\t\t, icon : \'//devclient.uchat.io/skin/basic/img/scroll.png\'\n\t\t, beforeLoad : function( room, data ) {\n\t\t\tvar self = this;\n\t\t\tdata.layout.css({\n\t\t\t\t\'backgroundPositionY\' : \'-4px\'\n\t\t\t\t, \'float\' : \'right\'\n\t\t\t\t, \'margin\' : 0\n\t\t\t});\n\t\t\trooms[room.id].dom.content.find(\'.content\').on("scroll", function(e){\n\t\t\t\tif(tooltip) tooltip.hide();\n\t\t\t\tif(rooms[room.id].log.temp_scroll_stop)\n\t\t\t\t\treturn false;\n\t\t\t\tif ($(this).height() + this.scrollTop >= this.scrollHeight-1){\n\t\t\t\t\t$(\'.latest_chat\', rooms[room.id].layout).hide();\n\t\t\t\t\tif (room.setting.data[\'option.autoScroll\'] !== 1) {\n\t\t\t\t\t\troom.setting.data[\'option.autoScroll\'] = 1;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (room.setting.data[\'option.autoScroll\'] === 1) {\n\t\t\t\t\t\troom.setting.data[\'option.autoScroll\'] = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tself.refresh(room, data);\n\t\t\t});\n\t\t\treturn true;\n\t\t}\n\t\t, onClick : function( room , data ) {\n\t\t\tif(room.setting.data[\'option.autoScroll\']) {\n\t\t\t\troom.setting.data[\'option.autoScroll\'] = 0;\n\t\t\t} else {\n\t\t\t\troom.setting.data[\'option.autoScroll\'] = 1;\n\t\t\t}\n\n\t\t\tthis.refresh(room, data);\n\t\t}\n\t\t, afterLoad : function( room, data ) {\n\t\t}\n\t\t, refresh : function( room, data ) { \n\t\t\tif(room.setting.data[\'option.autoScroll\']) { \n\t\t\t\tdata.layout.css("backgroundPositionX", \'0\');\n\t\t\t} else { \n\t\t\t\tdata.layout.css("backgroundPositionX", \'100%\');\n\t\t\t}\n\t\t}\n\t} );\n\n\troom.skin.menubar.add( { // bold 등록\n\t\tid : \'bold\'\n\t\t, title : \'굵게\'\n\t\t, condition : function ( room, data ) { \n\t\t\tif(!room.info[\'font\']) return false;\n\t\t}\n\t\t, beforeLoad : function( room, data ) {\n\t\t\tvar url = \'\';\n\t\t\tif(isWhiteness(room.skin.arguments.bottomBGColor))\n\t\t\t\turl = \'//devclient.uchat.io/skin/basic/img/black/bold.png\';\n\t\t\telse\n\t\t\t\turl = \'//devclient.uchat.io/skin/basic/img/white/bold.png\';\n\n\t\t\tvar src = \'url(\'+url+\')\';\n\t\t\tdata.layout.css(\'backgroundImage\', src).addClass(\'hoverOpacity\');\n\t\t}\n\t\t, onClick : function( room, data ) { \n\t\t\tif(!data.layout.hasClass(\'on\')) {\n\t\t\t\tdata.layout.addClass(\'on\');\n\t\t\t\t$(\'.chatInput\', rooms[room.id].layout).css(\'fontWeight\', \'bold\');\n\t\t\t\troom.setting.data[\'style.bold\'] = true;\n\t\t\t} else {\n\t\t\t\tdata.layout.removeClass(\'on\');\n\t\t\t\t$(\'.chatInput\', rooms[room.id].layout).css(\'fontWeight\', \'normal\');\n\t\t\t\troom.setting.data[\'style.bold\'] = false;\n\t\t\t}\n\t\t\troom.setting.save();\n\t\t}\n\t\t, afterLoad : function( room, data ) {\n\t\t\tif(room.setting.data[\'style.bold\']) {\n\t\t\t\t$(\'.chatInput\', rooms[room.id].layout).css(\'fontWeight\', \'bold\');\n\t\t\t\tdata.layout.addClass(\'on\');\n\t\t\t}\n\t\t}\n\t\t, afterUnload : function ( ) {\n\t\t\t$(\'.chatInput\', rooms[room.id].layout).css(\'fontWeight\', \'normal\');\n\t\t\troom.setting.data[\'style.bold\'] = false;\n\t\t}\n\t} );\n\troom.skin.menubar.add( { // italic 등록\n\t\tid : \'italic\'\n\t\t, title : \'기울기\'\n\t\t, icon: \'\'\n\t\t, condition : function ( room, data ) { \n\t\t\tif(!room.info[\'font\']) return false;\n\t\t}\n\t\t, beforeLoad : function( room, data ) {\n\t\t\tvar url = \'\';\n\t\t\tif(isWhiteness(room.skin.arguments.bottomBGColor))\n\t\t\t\turl = \'//devclient.uchat.io/skin/basic/img/black/italic.png\';\n\t\t\telse\n\t\t\t\turl = \'//devclient.uchat.io/skin/basic/img/white/italic.png\';\n\n\t\t\tvar src = \'url(\'+url+\')\';\n\t\t\tdata.layout.css(\'backgroundImage\', src).addClass(\'hoverOpacity\');\n\t\t}\n\t\t, onClick : function( room, data ) { \n\t\t\tif(!data.layout.hasClass(\'on\')) {\n\t\t\t\tdata.layout.addClass(\'on\');\n\t\t\t\t$(\'.chatInput\', rooms[room.id].layout).css(\'fontStyle\', \'italic\');\n\t\t\t\troom.setting.data[\'style.italic\'] = true;\n\t\t\t} else {\n\t\t\t\tdata.layout.removeClass(\'on\');\n\t\t\t\t$(\'.chatInput\', rooms[room.id].layout).css(\'fontStyle\', \'normal\');\n\t\t\t\troom.setting.data[\'style.italic\'] = false;\n\t\t\t}\n\t\t\troom.setting.save();\n\t\t}\n\t\t, afterLoad : function( room, data ) {\n\t\t\tif(room.setting.data[\'style.italic\']) {\n\t\t\t\t$(\'.chatInput\', rooms[room.id].layout).css(\'fontStyle\', \'italic\');\n\t\t\t\tdata.layout.addClass(\'on\');\n\t\t\t}\n\t\t}\n\t\t, afterUnload : function ( ) {\n\t\t\t$(\'.chatInput\', rooms[room.id].layout).css(\'fontStyle\', \'normal\');\n\t\t\troom.setting.data[\'style.italic\'] = false;\n\t\t}\n\t} );\n\troom.skin.menubar.add( { // undefline 등록\n\t\tid : \'underline\'\n\t\t, title : \'밑줄\'\n\t\t, icon: \'\'\n\t\t, condition : function ( room, data ) { \n\t\t\tif(!room.info[\'font\']) return false;\n\t\t}\n\t\t, beforeLoad : function( room, data ) {\n\t\t\tvar url = \'\';\n\t\t\tif(isWhiteness(room.skin.arguments.bottomBGColor))\n\t\t\t\turl = \'//devclient.uchat.io/skin/basic/img/black/underline.png\';\n\t\t\telse\n\t\t\t\turl = \'//devclient.uchat.io/skin/basic/img/white/underline.png\';\n\n\t\t\tvar src = \'url(\'+url+\')\';\n\t\t\tdata.layout.css(\'backgroundImage\', src).addClass(\'hoverOpacity\');\n\t\t}\n\t\t, onClick : function( room, data ) { \n\t\t\tif(!data.layout.hasClass(\'on\')) {\n\t\t\t\tdata.layout.addClass(\'on\');\n\t\t\t\t$(\'.chatInput\', rooms[room.id].layout).css(\'textDecoration\', \'underline\');\n\t\t\t\troom.setting.data[\'style.underline\'] = true;\n\t\t\t} else {\n\t\t\t\tdata.layout.removeClass(\'on\');\n\t\t\t\t$(\'.chatInput\', rooms[room.id].layout).css(\'textDecoration\', \'none\');\n\t\t\t\troom.setting.data[\'style.underline\'] = false;\n\t\t\t}\n\t\t\troom.setting.save();\n\t\t}\n\t\t, afterLoad : function( room, data ) {\n\t\t\tif(room.setting.data[\'style.underline\']) {\n\t\t\t\t$(\'.chatInput\', rooms[room.id].layout).css(\'textDecoration\', \'underline\');\n\t\t\t\tdata.layout.addClass(\'on\');\n\t\t\t}\n\t\t}\n\t\t, afterUnload : function ( ) {\n\t\t\t$(\'.chatInput\', rooms[room.id].layout).css(\'textDecoration\', \'none\');\n\t\t\troom.setting.data[\'style.underline\'] = false;\n\t\t}\n\t} );\n\n\troom.skin.menubar.add( { // 글씨색\n\t \tid : \'color\'\n\t\t, title : \'글씨색\'\n\t\t, html : \'<div><select name="colorpicker-picker-shortlist" class="colorpicker"></select></div>\'\n\t\t, condition : function ( room, data ) { \n\t\t\tif(!room.info[\'font\']) return false;\n\t\t}\n\t\t, beforeLoad : function ( room, data ) { \n\t\t\tvar colorpicker = data.layout.find(\'.colorpicker\');\n\t\t\tvar colorList = [\'#b71c1c\', \'#880E4F\', \'#4A148C\', \'#311B92\', \'#1A237E\', \'#0D47A1\', \'#01579B\', \'#006064\', \'#004D40\', \'#1B5E20\', \'#33691E\', \'#827717\', \'#F57F17\', \'#FF6F00\', \'#E65100\', \'#BF360C\', \'#3E2723\', \'#AB47BC\', \'#26C6DA\', \'#26A69A\', \'#E91E63\', \'#546E7A\', \'#BFA0ED\'];\n\t\t\tif(room.skin.arguments.colorList) {\n\t\t\t\tcolorList = room.skin.arguments.colorList.split(\' \');\n\t\t\t}\n\t\t\tif(colorList.indexOf(room.skin.arguments.defaultColor || \'#333333\') == -1) {\n\t\t\t\tcolorList.unshift(room.skin.arguments.defaultColor || \'#333333\');\n\t\t\t}\n\t\t\tfor(var i = 0, len = colorList.length; i<len; i++ ) {\n\t\t\t\tcolorpicker.append($(\'<option></option>\').val(colorList[i]));\n\t\t\t}\n\t\t\tvar color = room.setting.data[\'style.color\'] || room.skin.arguments.defaultColor;\n\t\t\tcolorpicker.val(color);\n\t\t\t$(\'.chatInput\').css(\'color\', color);\n\t\t\troom.setting.data[\'style.color\'] = color;\n\t\t\tcolorpicker.simplecolorpicker({picker: true});\n\n\t\t}\n\t\t, onClick : function ( room, data ) { \n\t\t}\n\t\t, afterLoad : function ( room, data ) { \n\t\t\tdata.layout.on(\'change\', function() {\n\t\t\t\tvar color = data.layout.find(\'.colorpicker\').val();\n\t\t\t\t$(\'.chatInput\').css(\'color\', color);\n\t\t\t\troom.setting.data[\'style.color\'] = color;\n\t\t\t\troom.setting.save();\n\t\t\t\tvar colorpicker = data.layout.find(\'.colorpicker\');\n\t\t\t\tcolorpicker.simplecolorpicker(\'hidePicker\');;\n\t\t\t});\n\t\t}\n\t} );\n\n\n\troom.skin.menubar.add( { // emoticon  등록\n\t\tid : \'emoticon\'\n\t\t, title : \'이모티콘\'\n\t\t, icon: \'\'\n\t\t, condition : function ( room, data ) { \n\t\t\tif(room.skin.arguments.hideEmoticon) return false;\n\t\t}\n\t\t\n\t\t, REGEX_FOR_EMOTICON : new RegExp("\\\\<img[^>]*src\\\\=\\\\\\"(https?:)?"+(\'//devclient.uchat.io\'.replace(/\\//g, \'\\\\/\').replace(/\\./g, \'\\\\.\'))+"\\\\/emoticon\\\\/([a-zA-Z_0-9]+)\\\\/(\\\\d+\\\\.(gif|jpe?g|png))\\\\\\"[^>]*\\\\>", "gi")\n\t\t, toEmoticon : function(text) {\n\t\t\tif(room.skin.arguments.hideEmoticon) return false;\n\t\t\tif(text) { \n\t\t\t\ttext = text.replace(/\\{e\\|([a-zA-Z_0-9]+)\\|(\\d+\\.(gif|jpe?g|png))\\}/g, \'<img src="//devclient.uchat.io/emoticon/$1/$2">\');\n\t\t\t}\n\t\t\treturn text;\n\t\t}\n\n\t\t, fromEmoticon : function(text) {\n\t\t\tif(room.skin.arguments.hideEmoticon) return false;\n\t\t\tif(text) { \n\t\t\t\ttext = text.replace(this.REGEX_FOR_EMOTICON, \'{e|$2|$3}\');\n\t\t\t}\n\t\t\treturn text;\n\n\t\t}\n\n\t\t, removeEmoticon : function(text) {\n\t\t\tif(text) { \n\t\t\t\ttext = text.replace(/\\{e\\|([a-zA-Z_0-9]+)\\|(\\d+\\.(gif|jpe?g|png))\\}/g, \'\');\n\t\t\t\ttext = text.replace(this.REGEX_FOR_EMOTICON, \'\');\n\t\t\t}\n\t\t\treturn text;\n\t\t}\n\t\t, beforeLoad : function( room, data ) {\n\t\t\tvar url = \'\';\n\t\t\tif(isWhiteness(room.skin.arguments.bottomBGColor))\n\t\t\t\turl = \'//devclient.uchat.io/skin/basic/img/black/emoticon.png\';\n\t\t\telse\n\t\t\t\turl = \'//devclient.uchat.io/skin/basic/img/white/emoticon.png\';\n\n\t\t\tvar src = \'url(\'+url+\')\';\n\t\t\tdata.layout.css(\'backgroundImage\', src).addClass(\'hoverOpacity\');\n\t\t\tvar self = this;\n\t\t\t$.fn.bindFirst = function(name, fn) {\n    \t\t\t// bind as you normally would\n    \t\t\t// don\'t want to miss out on any jQuery magic\n    \t\t\tthis.on(name, fn);\n\n    \t\t\t// Thanks to a comment by @Martin, adding support for\n    \t\t\t// namespaced events too.\n    \t\t\tthis.each(function() {\n        \t\t\tvar handlers = $._data(this, \'events\')[name.split(\'.\')[0]];\n        \t\t\t// take out the handler we just inserted from the end\n        \t\t\tvar handler = handlers.pop();\n        \t\t\t// move it at the beginning\n        \t\t\thandlers.splice(0, 0, handler);\n    \t\t\t});\n\t\t\t};\n\t\t\t$(\'.chatInput\').bindFirst(\'keydown\', function(e) { \n\t\t\t\tif(e.keyCode == 13 ) {\n\t\t\t\t\t$(this).html(self.fromEmoticon($(this).html()));\n\t\t\t\t}\n\t\t\t});\n\t\t\troom.on(\'after.message\', function(room, data) {\n\t\t\t\tvar target = $(\'.content div:last-child .chatContent\', room.skin.document);\n\t\t\t\tvar target2 = room.skin.dom.latest_chat.find(\'.chatContent\');\n\n\t\t\t\tif(!room.skin.arguments.hideEmoticon) {\n\t\t\t\t\ttarget.html(self.toEmoticon(target.html()));\n\t\t\t\t\ttarget2.html(self.toEmoticon(target2.html()));\n\t\t\t\t} else\n\t\t\t\t\ttarget.html(self.removeEmoticon(target.html()));\n\n\t\t\t\troom.skin.scrollDown();\n\t\t\t});\n\t\t\troom.on(\'after.whisper\', function(room, data) {\n\t\t\t\tvar target = $(\'.content div:last-child .chatContent\', room.skin.document);\n\t\t\t\tif(!room.skin.arguments.hideEmoticon) {\n\t\t\t\t\ttarget.html(self.toEmoticon(target.html()));\n\t\t\t\t} else\n\t\t\t\t\ttarget.html(self.removeEmoticon(target.html()));\n\t\t\t\troom.skin.scrollDown();\n\t\t\t});\n\t\t}\n\t\t, onClick : function( room, data ) { \n\t\t\tif(room.skin.arguments.hideEmoticon) return false;\n\t\t\tpopup.add($(\'#emoticon_popup\').html(), \'emoticon_popup\', function(layer, pb, pu) {\n\t\t\t\t/*\n\t\t\t\tpu.find(\'input:first\').focus();\n\t\t\t\tpu.find(".nickname").val(room.my.nick);\n\t\t\t\t*/\n\n\t\t\t\tvar x = data.event.pageX;\n\t\t\t\tvar y = data.event.pageY;\n\n\t\t\t\t/* ie7 에서 wrap 의 넓이가 안정해지면 자식객체가 width 를 100% 으로 써버림 (float:right 하는순간 width 100%)\n\t\t\t\tif(pu.outerWidth() < 120)\n\t\t\t\t\tpu.width(120);\n\t\t\t\t\t*/\n\t\t\t\tpu.width($(\'body\').width() < 200? $(\'body\').width():200);\n\t\t\t\tif( x < 0 )\n\t\t\t\t\tx = 0;\n\t\t\t\tif( x > $(\'body\').width() - pu.outerWidth())\n\t\t\t\t\tx = $(\'body\').width() - pu.outerWidth();\n\t\t\t\tif( y > $(\'body\').height() - pu.outerHeight())\n\t\t\t\t\ty = $(\'body\').height() - pu.outerHeight();\n\t\t\t\tpu.css("top", y).css("left", x);\n\t\t\t\t\n\t\t\t\tvar html = \'\';\n\n\t\t\t\tfor(var i =1; i <= 127; i++) {\n\t\t\t\t\thtml += \'<img src="//devclient.uchat.io/emoticon/onionhead/\'+leadingZeros(i, 3)+\'.gif" code="onionhead|\'+leadingZeros(i, 3)+\'.gif">\';\n\t\t\t\t}\n\n\t\t\t\tpu.find(\'.emoticon_middle\').html(html);\n\t\t\t\tpb.on(\'click\', function() {\n\t\t\t\t\tlayer.close();\n\t\t\t\t});\n\t\t\t\tpu.on(\'click\', \'img\', function() {\n\t\t\t\t\t$(\'.chatInput\', rooms[room.id].layout).append(\'<img src="\'+$(this).attr(\'src\')+\'">\');\n\t\t\t\t\tvar el = $(\'.chatInput\', rooms[room.id].layout)[0];\n\t\t\t\t\tel.focus();\n\t\t\t\t\tif (typeof window.getSelection != "undefined"\n\t\t\t\t\t\t\t&& typeof document.createRange != "undefined") {\n\t\t\t\t\t\tvar range = document.createRange();\n\t\t\t\t\t\trange.selectNodeContents(el);\n\t\t\t\t\t\trange.collapse(false);\n\t\t\t\t\t\tvar sel = window.getSelection();\n\t\t\t\t\t\tsel.removeAllRanges();\n\t\t\t\t\t\tsel.addRange(range);\n\t\t\t\t\t} else if (typeof document.body.createTextRange != "undefined") {\n\t\t\t\t\t\tvar textRange = document.body.createTextRange();\n\t\t\t\t\t\ttextRange.moveToElementText(el);\n\t\t\t\t\t\ttextRange.collapse(false);\n\t\t\t\t\t\ttextRange.select();\n\t\t\t\t\t}\n\t\t\t\t\trooms[room.id].textarea_reload();\n\t\t\t\t\tlayer.close();\n\n\t\t\t\t});\n\t\t\t\t/*\n\t\t\t\tpu.one(\'click\', \'.ok\', function() {\n\t\t\t\t\t//alert(\'오케이\');\n\t\t\t\t\tcommandSwitch(room, [\'nick\', pu.find(".nickname").val() ]);\n\t\t\t\t\tlayer.close();\n\t\t\t\t\thideSetting();\n\t\t\t\t}).one(\'click\', \'.cancel\', function() {\n\t\t\t\t\t//alert(\'거절\');\n\t\t\t\t\tlayer.close();\n\t\t\t\t\thideSetting();\n\t\t\t\t});\n\t\t\t\t*/\n\t\t\t});\n\t\t}\n\t} );\n\n\t\t\n\troom.skin.menubar.add( { // 사진 업로드 등록\n\t\tid : \'picture\'\n\t\t, title : \'업로드\'\n\t\t, html : \'<div><form action="//dev.uchat.io/s/index" method="post" target="hiddenImageUpload" enctype="multipart/form-data"><input type="hidden" name="referer" /><input type="hidden" name="room" value="uchat_main" /><input type="hidden" name="target" value="" /><img><input type="file" id="uploads" name="uploads" class="uploads" style="position: absolute; z-index: 19999; top: -1000px; left: -1000px;" /></form></div>\'\n\t\t, condition : function ( room, data ) { \n\t\t\tif(room.skin.arguments.hideUpload) return false;\n\t\t}\n\t\t, beforeLoad : function( room, data ) {\n\t\t\tvar url = \'\';\n\t\t\tvar hidden = document.createElement(\'iframe\');\n\t\t\thidden.name = hidden.id = \'hiddenImageUpload\';\n\t\t\t$(\'body\').append($(hidden).width(0).height(0));\n\n\t\t\tif(isWhiteness(room.skin.arguments.bottomBGColor))\n\t\t\t\turl = \'//devclient.uchat.io/skin/basic/img/black/picture.png\';\n\t\t\telse\n\t\t\t\turl = \'//devclient.uchat.io/skin/basic/img/white/picture.png\';\n\n\t\t\t//data.layout.css(\'backgroundImage\', src).addClass(\'hoverOpacity\');\n\t\t\tdata.layout.find(\'img\').attr(\'src\', url).css({height:\'100%\', width:\'100%\', zIndex:10}).click(function() {\n\t\t\t\t$(this).closest(\'form\').find(\'input[type=file]\').click();\n\t\t\t});;\n\t\t\t\n\t\t\tvar $data = data;\n\t\t\tXD.receiveMessage(function(data) {\n\t\t\t\tvar upload_json = JSONParse(data.data);\n\t\t\t\tif(upload_json.status) {\n\t\t\t\t\t$(\'.chatInput\', rooms[room.id].layout).append(upload_json.url);\n\t\t\t\t\tplaceCaretAtEnd($(\'.chatInput\', rooms[room.id].layout)[0]);\n\t\t\t\t\t$data.layout.find(\'.uploads\').prop(\'value\', \'\');\n\t\t\t\t} else\n\t\t\t\t\talert(upload_json.msg);\n\t\t\t}, location.protocol+\'//dev.uchat.io\');\n\n\t\t\tdata.layout.find(\'.uploads\').on(\'change\', function(e) {\n    \t\t\tvar count=1;\n\n    \t\t\tvar files = e.currentTarget.files; // puts all files into an array\n    \t\t\t// call them as such; files[0].size will get you the file size of the 0th file\n\n    \t\t\tif(!files.length)\n    \t\t\t\treturn false;\n\n    \t\t\tfor (var x in files) {\n        \t\t\tvar filesize = ((files[x].size/1024)/1024).toFixed(4); // MB\n        \t\t\tif (files[x].name != "item" && typeof files[x].name != "undefined") { \n        \t\t\t\tvar ext = files[x].name.split(\'.\').pop();\n        \t\t\t\tif(indexOf([\'jpg\', \'jpeg\', \'png\', \'gif\'], ext.toLowerCase()) == -1) {\n        \t\t\t\t\talert("그림파일만 허용하고 있습니다.");\n        \t\t\t\t\treturn false;\n        \t\t\t\t}\n        \t\t\t\tif(filesize >= 3) {\n        \t\t\t\t\talert("파일 크기가 3MB를 넘습니다.");\n        \t\t\t\t\treturn false;\n        \t\t\t\t}\n        \t\t\t}\n    \t\t\t}\n\t\t\t\tdata.layout.find(\'[name=referer]\').val(location.href);\n\t\t\t\tdata.layout.find(\'form\').submit();\n\t\t\t});\n\n\t\t}\n\t} );\n\t\n\troom.skin.menubar.add( {  // 어드민 콜\n\t\tid : \'call_admin\'\n\t\t, title : \'관리자 호출\'\n\t\t, icon : \'//devclient.uchat.io/skin/basic/img/alarm.png\'\n\t\t, condition : function( room, data ) {\n\t\t\tif(!room.info[\'call_admin\'])\n\t\t\t\treturn false;\n\t\t}\n\t\t, onClick : function( room, data ) {\n\t\t\tcommandSwitch(room, [\'call_admin\']);\n\t\t}\n\t} );\n\n\t\n\n\tvar content_target = $(\'.content\', rooms[room.id].layout).not(".scroll-wrapper");\n\trooms[room.id].dom.content_target = content_target;\n\n\troom._on("system", function ( room, data ) {\n\t\tsystem(content_target, room, data.type, data.data);\n\t});\n\troom._on(\'update\', function ( room, data ) {\n\t\t// 여기에 업데이트시에 갱신해야되는거 넣어야됨\n\t});\n\troom._on("join", function( room, data ) {\n\t\t// refresh skin menubar\n\t\troom.skin.menubar.refresh();\n\t\tcontent_target.append(\'<div class="line system" data-tiptext="{ago}" created="\'+Uchat.getServerSecond()/1000+\'">\'+room.info.name.replace(/</, \'&lt;\')+\' 연결 완료</div>\');\n\t\tstarted_time = new Date().getTime();\n\t\t$(\'.chatname\', rooms[room.id].layout).text(room.info.name);\n\n\t\t$(\'.count\', rooms[room.id].layout).text(\'0\');\n\n\t\t$(\'.login, .room_setting\', rooms[room.id].layout).hide();\n\n\t\tif(room.my.auth < 2 && room.info.mode == MODE_CHANNEL)\n\t\t\t$(\'.login\', rooms[room.id].layout).show();\n\t\tif(room.my.auth == 3 && room.info.mode !== MODE_INDI)\n\t\t\t$(\'.room_setting\', rooms[room.id].layout).show();\n\t\trooms[room.id].userListDom.init();\n\t\t\t\n\t\t!room.skin.arguments.hideChatRecord && room.action.command(\'chatList\');\n\t\troom.action.command(\'noticeList\');\n\n\t});\n\t\n\troom._on("whisper", function( room, data ) {\n\t\tvar myClass = \'\';\n\t\tvar myNick = room.my.nick;\n\t\tif(data[\'from\'][\'nick\'] != myNick && data[\'to\'][\'nick\'] == myNick)\n\t\t\trooms[room.id].log.last_whisper = data[\'from\'][\'nick\'];\n\t\tif(data[\'from\'][\'nick\'] == myNick)\n\t\t\tmyClass = \' myLine\';\n\t\tvar html = \'\';\n\t\tvar to_icon_set = icons_parsing(data[\'to\'][\'icons\']);\n\t\tvar from_icon_set = icons_parsing(data[\'from\'][\'icons\']);\n\n\t\thtml += \'<div class="line\'+myClass+\'" title="\'+data[\'created\']+\'">\';\n\t\thtml += \'<span class="whisperFlag">[귓]</span>\';\n\t\tif (data[\'from\'][\'nick\'] == myNick) {\n\t\t\thtml += to_icon_set[0];\n\t\t\thtml += \'<span class="nick" nick="\'+escape(data[\'to\'][\'nick\'])+\'" uid="\'+data[\'to\'][\'id\']+\'">\'+text(data[\'to\'][\'nick\'])+\' </span> 님에게\';\n\t\t\thtml += to_icon_set[1];\n\t\t} else if(data[\'to\'][\'nick\'] == myNick) {\n\t\t\thtml += from_icon_set[0];\n\t\t\thtml += \'<span class="nick" nick="\'+escape(data[\'from\'][\'nick\'])+\'" uid="\'+data[\'from\'][\'id\']+\'">\'+text(data[\'from\'][\'nick\'])+\'</span> 님이\';\n\t\t\thtml += from_icon_set[1];\n\t\t} else {\n\t\t\thtml += from_icon_set[0];\n\t\t\thtml += \'<span class="nick" nick="\'+escape(data[\'from\'][\'nick\'])+\'" uid="\'+data[\'from\'][\'id\']+\'">\'+text(data[\'from\'][\'nick\'])+\'</span>\';\n\t\t\thtml += from_icon_set[1];\n\t\t\thtml += \' -> \';\n\t\t\thtml += to_icon_set[0];\n\t\t\thtml += \'<span class="nick" nick="\'+escape(data[\'to\'][\'nick\'])+\'" uid="\'+data[\'to\'][\'id\']+\'">\'+text(data[\'to\'][\'nick\'])+\' </span>\';\n\t\t\thtml += to_icon_set[1];\n\n\t\t}\n\t\thtml += \'&nbsp;:&nbsp;\';\n\t\thtml += \'<span class="chatContent">\'+linkify(text(data[\'content\']))+\'</span></div>\';\n\t\tcontent_target.append(html);\n\t\troom.skin.scrollDown();\n\t});\n\troom._on("message", function( room, data ) {\n\t\tvar myClass = \'\';\n\t\tif(data.user[\'nick\'] == room.my.nick)\n\t\t\tmyClass = \' myLine\';\n\t\tvar style = [];\n\t\tif(data[\'style\'][\'bold\'])\n\t\t\tstyle.push(\'font-weight: bold;\');\n\t\tif(data[\'style\'][\'italic\'])\n\t\t\tstyle.push(\'font-style: italic;\');\n\t\tif(data[\'style\'][\'underline\'])\n\t\t\tstyle.push(\'text-decoration: underline;\');\n\t\tif(data[\'style\'][\'color\'])\n\t\t\tstyle.push(\'color: \'+data[\'style\'][\'color\']+\';\');\n\t\tif(data[\'style\'][\'size\'])\n\t\t\tstyle.push(\'font-size: \'+(room.skin.arguments.fontSize||data[\'style\'][\'size\'])+\';\');\n\t\tvar html = \'<div class="line\'+myClass+\'" data-tiptext="\'+escape(data.user[\'nick\'])+\' - {ago}" created="\'+data[\'time\']+\'">\';\n\t\tvar icons_set = icons_parsing(data.user[\'icons\']);\n\t\t\t\n\t\tif(data.user[\'nickcon\']) {\n\t\t\tvar nickcon = imageMaker(data.user[\'nickcon\']);\n\t\t}\n\n\n\t\thtml += icons_set[0]+\'<span class="nick\'+(myClass?\' myNick\':\'\')+\'" nick="\'+escape(data.user[\'nick\'])+\'">\'+(nickcon?nickcon:text(data.user[\'nick\']))+icons_set[1]+\':</span>&nbsp;<span class="chatContent" style="\'+style.join(\' \')+\'">\'+linkify(text(data[\'content\']))+\'</span></div>\';\n\t\tcontent_target.append(html);\n\t\tif((room.setting.data[\'option.autoScroll\'] === 0 || rooms[room.id].log.temp_scroll_stop) && rooms[room.id].dom.content_target.height() != rooms[room.id].dom.content_target[0].scrollHeight)\n\t\t\t$(\'.latest_chat .latest_chat_content\', rooms[room.id].layout).html(html).parent().show();\n\t\troom.skin.scrollDown();\n\t});\n\troom._on("user.modi", function( room, data ) {\n\t\t//console.log(target, change_data);\n\t\tvar targetData = room.user.get(data.target);\n\t\tfor(var i in data.changed) {\n\t\t\tswitch(i) {\n\t\t\t\tcase \'nick\':\t\n\t\t\t\t\t$(\'.userFloor[nick="\'+escape(data.target)+\'"]\', rooms[room.id].layout).attr(\'nick\', escape(data.changed[\'nick\'])).find(\'span\').text(data.changed[\'nick\']);\n\t\t\t\t\tsystem(content_target, room, "changed_nick", [data.target, data.changed[\'nick\']]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \'auth\':\n\t\t\t\t\tif(targetData) {\n\t\t\t\t\t\t$(\'.userFloor[nick="\'+escape(data.target)+\'"]\', rooms[room.id].layout).remove();\n\n\t\t\t\t\t\tuserFloorSend(room, userFloorMaker(targetData), targetData);\n\t\t\t\t\t}\n\t\t\t\t\tif(room.my.nick == data.target) {\n\t\t\t\t\t\t$(\'.login, .room_setting\', rooms[room.id].layout).hide();\n\t\t\t\t\t\tif(room.my.auth < 2 && room.info.mode == MODE_CHANNEL)\n\t\t\t\t\t\t\t$(\'.login\', rooms[room.id].layout).show();\n\t\t\t\t\t\tif(room.my.auth == 3)\n\t\t\t\t\t\t\t$(\'.room_setting\', rooms[room.id].layout).show();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \'mute\':\n\t\t\t\t\tif(targetData[\'mute\'])\n\t\t\t\t\t\t$(\'.userFloor[nick="\'+escape(data.target)+\'"]\', rooms[room.id].layout).addClass(\'mute\')\n\t\t\t\t\telse\n\t\t\t\t\t\t$(\'.userFloor[nick="\'+escape(data.target)+\'"]\', rooms[room.id].layout).removeClass(\'mute\')\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t});\n\troom._on("user.list", function( room, data ) {\n\t\tvar list = [[],[],[],[],[]]; \n\t\tfor(var i = 0, len=data.list.length; i<len; i++) {\n\t\t\t//data.list[i][\'connected\'] = timeSince(data.list[i][\'connected\']+\'000\');\n\t\t\t//userAdd( rooms[room.id], data.list[i] );\n\t\t\tif(room.my.nick != data.list[i][\'nick\'])\n\t\t\t\tlist[data.list[i][\'auth\']].push(userFloorMaker(data.list[i]));\n\t\t\telse {\n\t\t\t\tlist[4].push(userFloorMaker(data.list[i]));\n\t\t\t}\n\t\t}\n\t\trooms[room.id].dom.userList.find(\'.userList\').children(\'div\').html(\'\')\n\t\tfor(var i =0, len=list.length; i<len; i++) {\n\t\t\tif(i==4) {\n\t\t\t\tuserFloorSend(room, list[i].join(\'\'), {nick:room.my.nick});\n\t\t\t}else\n\t\t\t\tuserFloorSend(room, list[i].join(\'\'), {auth:i}); \n\t\t}\n\t\t$(\'.count\', rooms[room.id].layout).html($(\'.userFloor\', rooms[room.id].layout).length);\n\t});\n\troom._on("user.join", function( room, data ) {\n\t\tuserAdd( room, data.user );\n\t\tif(room.setting.data[\'access.joinout\']) {\n\t\t\tcontent_target.append(\'<div class="line system" title="\'+data.user[\'connected\']+\'"><span class="nick" nick="\'+escape(data.user[\'nick\'])+\'">\'+text(data.user[\'nick\'])+\'</span>님 입장.</div>\');\n\t\t\troom.skin.scrollDown();\n\t\t}\n\t\t$(\'.count\', rooms[room.id].layout).html($(\'.userFloor\', rooms[room.id].layout).length);\n\t});\n\troom._on("user.quit", function( room, data ) {\n\t\t$(\'.userFloor[nick="\'+escape(data.user[\'nick\'])+\'"]\', rooms[room.id].layout).remove();\n\t\tif(room.setting.data[\'access.joinout\']) {\n\t\t\tcontent_target.append(\'<div class="line system" title="\'+room.getTimeStamp()+\'"><span class="nick" nick="\'+escape(data.user[\'nick\'])+\'">\'+text(data.user[\'nick\'])+\'</span>님 퇴장.</div>\');\n\t\t\troom.skin.scrollDown();\n\t\t}\n\t\t$(\'.count\', rooms[room.id].layout).html($(\'.userFloor\', rooms[room.id].layout).length);\n\t\t\n\t});\n\troom._on("user.count", function ( room, data ) {\n\t\troom.count = data.count;\n\t\t$(\'.count\', rooms[room.id].layout).html(data.count);\n\t});\n\troom._on("error", function ( room, data ) {\n\t\tswitch(data.code) {\n\t\t\tcase 418:\n\t\t\t\t$(rooms[room.id].layout).addClass(\'frozen\');\t\t\t\n\t\t\t\tbreak;\n\t\t}\n\t\tif(data.code > 700) {\n\t\t\tpopup.prompt(room.language.error[data.code], \'\', \'\', function(result) {\n\t\t\t\tswitch(data.code) {\n\t\t\t\t\tcase 701:\n\t\t\t\t\t\troom.action.command(\'password\', result);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t} else\n\t\t\tcontent_target.append(\'<div class="line system" title="\'+room.getTimeStamp()+\'">\'+room.language.error[data.code]+\'</div>\');\n\t\troom.skin.scrollDown();\n\t});\n\troom._on("control", function( room, data ) {\n\t\tswitch(data.type) {\n\t\t\tcase \'clearLog\':\n\t\t\t\t$(\'.content\', rooms[room.id].layout).html(\'\');\n\t\t\t\troom.skin.scrollDown();\n\t\t\t\tbreak;\n\t\t\tcase \'ad\':\n\t\t\t\trooms[room.id].dom.top.find(\'.logo\').html(\'<img src="//devclient.uchat.io/skin/basic/img/logo.gif" style="height:100%;">\');\n\t\t\t\tif(!rooms[room.id].dom.menubar.find(\'.icon_logo\').length)\n\t\t\t\t\trooms[room.id].dom.menubar.append($($(\'#uchatLogo\').html()).addClass(\'menu-style\').click(function() { \n\t\t\t\t\t\twindow.open(\'http://uchat.io\', \'_blank\');\n\t\t\t\t\t}));\n\t\t\t\t$(rooms[room.id].layout).on(\'click\', \'.logo\', function() {\n\t\t\t\t\twindow.open(\'http://uchat.io\', \'_blank\');\n\t\t\t\t});\n\t\t\t\t$(\'.onlyAd\').show();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\troom._on("externalEvent", function( room, data ) {\n\t\tif( type == \'click\' ) {\n\t\t\tpopup.closeByType(\'userMenu\');\n\t\t}\n\t});\n\troom._on("disconnect", function( room, data) {\n\t\tcontent_target.append(\'<div class="line system" title="\'+room.getTimeStamp()+\'">서버 연결 끊김</div>\');\n\t\troom.skin.scrollDown();\n\t});\n});\n\nif (!Array.prototype.indexOf) {\n\tArray.prototype.indexOf = function (searchElement, fromIndex) {\n\t\tif ( this === undefined || this === null ) {\n\t\t\tthrow new TypeError( \'"this" is null or not defined\' );\n\t\t}\n\n\t\tvar length = this.length >>> 0; // Hack to convert object.length to a UInt32\n\n\t\tfromIndex = +fromIndex || 0;\n\n\t\tif (Math.abs(fromIndex) === Infinity) {\n\t\t\tfromIndex = 0;\n\t\t}\n\n\t\tif (fromIndex < 0) {\n\t\t\tfromIndex += length;\n\t\t\tif (fromIndex < 0) {\n\t\t\t\tfromIndex = 0;\n\t\t\t}\n\t\t}\n\n\t\tfor (;fromIndex < length; fromIndex++) {\n\t\t\tif (this[fromIndex] === searchElement) {\n\t\t\t\treturn fromIndex;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t};\n}\n\n\nfunction check_audio_tag () {\n\tvar a = document.createElement(\'audio\');\n\treturn !!(a.canPlayType && a.canPlayType(\'audio/mpeg;\').replace(/no/, \'\'));\n}\n\n\nvar forEscapeHTMLDom = document.createElement(\'textarea\');\n/*\nfunction escapeHTML(data) {\n    if(isArray(data)) {\n        for(var i = 0, limit = data.length; i<limit; i++ ) {\n            if(isStr(data[i])) {\n                if(document.createElement(\'div\').textContent !== void(0))\n                    forEscapeHTMLDom.textContent = data[i];\n                else\n                    forEscapeHTMLDom.innerText = data;\n                data[i] = forEscapeHTMLDom.innerHTML;\n            }\n        }\n        return data;\n    } else {\n        if(document.createElement(\'div\').textContent !== void(0))\n            forEscapeHTMLDom.textContent = data;\n        else\n            forEscapeHTMLDom.innerText = data;\n        console.log(forEscapeHTMLDom.innerHTML);\n        return forEscapeHTMLDom.innerHTML;\n    }\n}*/\n\n\nfunction escapeHTML (data) {\n    if(isArray(data)) {\n        for(var i = 0, limit = data.length; i<limit; i++ ) {\n            if(isStr(data[i]))\n                data[i] = escapeHTML(data[i]);\n        }\n        return data;\n    } else if(isStr(data)) {\n        return data.replace(/</gi, "&lt;").replace(/"/gi, "&quot;");\n    } else {\n    \treturn data;\n    }\n}\n\n\nfunction unescapeHTML(html) {\n    forEscapeHTMLDom.innerHTML = html;\n    return forEscapeHTMLDom.textContent;\n}\n\nfunction isArray (source) {\n    return Object.prototype.toString.call(source) === \'[object Array]\';\n}\n\nfunction isJson (source) {\n\treturn source && source.constructor === {}.constructor;\n}\n\nfunction isStr (source) {\n    return source && source.constructor === \'\'.constructor;\n}\n\n\nfunction linkify(text){\n    if (text) {\n        text = text.replace(\n            /(((((http|ftp|https):)?\\/\\/)|(www\\.))[\\w\\-_]+(\\.[\\w\\-_]+)+([\\wㄱ-ㅎㅏ-ㅣ가-힣\\;\\-\\.,@?^=%&:/~\\+#]*[\\w\\-\\@?^=%&/~\\+#])?)/gi,\n            function(url){\n                var full_url = url;\n                if (!full_url.match(\'^(https?:)?\\/\\/\')) {\n                    full_url = \'//\' + full_url;\n                }\n                return \'<a href="\' + full_url + \'" target="_blank">\' + url + \'</a>\';\n            }\n        );\n    }\n    return text;\n}\n\n\nfunction leadingZeros(n, digits) {\n\tvar zero = \'\';\n\tn = n.toString();\n\tif (n.length < digits) {\n\t\tfor (var i = 0; i < digits - n.length; i++)\n\t\tzero += \'0\';\n\t}\n\treturn zero + n;\n}\n\n\n\nfunction strip(html)\n{\n   var tmp = document.createElement("DIV");\n   tmp.innerHTML = html;\n   return tmp.textContent || tmp.innerText || "";\n}\n\nfunction sound(src) {\n\tvar result;\n\tif(started_time >= new Date().getTime() - 1000) return false;\n\tif(check_audio_tag()) {\n\t\tresult = \'<audio autoplay="autoplay"><source src="\'+src+\'.mp3" type="audio/mpeg"><embed hidden="true" autostart="true" loop="false" src="\'+src+\'.mp3" /></audio>\';\n\t} else {\n\t\tresult = \'<object type="application/x-shockwave-flash" data="\'+src+\'.swf" style="width:20px; height:10px;"><param name="movie" value="\'+src+\'.swf" /></object>\';\n\t}\n\treturn result\n}\n\nfunction isWhiteness(bgColor) {\n\tvar color = (bgColor.charAt(0) === \'#\') ? bgColor.substring(1, 7) : (bgColor.charAt(0) === \'r\') ? rgb2hex(bgColor).substring(1, 7) : bgColor;\n\tvar r = parseInt(color.substring(0, 2), 16); // hexToR\n\tvar g = parseInt(color.substring(2, 4), 16); // hexToG\n\tvar b = parseInt(color.substring(4, 6), 16); // hexToB\n\tvar uicolors = [r / 255, g / 255, b / 255];\n\tvar c = [];\n\tfor(var col in uicolors) {\n\t\tif (col <= 0.03928) {\n\t\t\tc.push(uicolors[col] / 12.92);\n\t\t} else {\n\t\t\tc.push(Math.pow((uicolors[col] + 0.055) / 1.055, 2.4));\n\t\t}\n\t}\n\tvar L = (0.2126 * c[0]) + (0.7152 * c[1]) + (0.0722 * c[2]);\n\treturn (L > 0.179) ? 1 : 0; // 1 = font color black, 0 = font color white\n}\n\nfunction rgb2hex(rgb) {\n    rgb = rgb.match(/^rgba?\\(\\s*(\\d+),\\s*(\\d+),\\s*(\\d+)(,\\s*\\d+)?\\)$/);\n    function hex(x) {\n        return ("0" + parseInt(x).toString(16)).slice(-2);\n    }\n    return "#" + hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3]);\n}\n\nfunction placeCaretAtEnd(el) {\n    el.focus();\n    if (typeof window.getSelection != "undefined"\n            && typeof document.createRange != "undefined") {\n        var range = document.createRange();\n        range.selectNodeContents(el);\n        range.collapse(false);\n        var sel = window.getSelection();\n        sel.removeAllRanges();\n        sel.addRange(range);\n    } else if (typeof document.body.createTextRange != "undefined") {\n        var textRange = document.body.createTextRange();\n        textRange.moveToElementText(el);\n        textRange.collapse(false);\n        textRange.select();\n    }\n}\nfunction timeSince(now, date) {\n  \tvar seconds = Math.floor((now - date) / 1000);\n  \tvar interval = Math.floor(seconds / 31536000);\n  \tif (interval > 1) {\n    \treturn interval + "년 전";\n  \t}\n  \tinterval = Math.floor(seconds / 2592000);\n  \tif (interval > 1) {\n    \treturn interval + "개월 전";\n  \t}\n  \tinterval = Math.floor(seconds / 86400);\n  \tif (interval > 1) {\n    \treturn interval + "일 전";\n  \t}\n  \tinterval = Math.floor(seconds / 3600);\n  \tif (interval > 1) {\n    \treturn interval + "시간 전";\n  \t}\n  \tinterval = Math.floor(seconds / 60);\n  \tif (interval > 1) {\n    \treturn interval + "분 전";\n  \t}\n\n  \tinterval = Math.floor(seconds / 20);\n  \tif (interval == 0  || seconds < 0) {\n  \t\treturn \'방금 전\'\n  \t}\n  \treturn Math.floor(seconds) + "초 전";\n}\nfunction shadeColor2(color, percent) {   \n    var f=parseInt(color.slice(1),16),t=percent<0?0:255,p=percent<0?percent*-1:percent,R=f>>16,G=f>>8&0x00FF,B=f&0x0000FF;\n    return "#"+(0x1000000+(Math.round((t-R)*p)+R)*0x10000+(Math.round((t-G)*p)+G)*0x100+(Math.round((t-B)*p)+B)).toString(16).slice(1);\n}\n<\/script>\n\n</head>\n<body>\n\t<style>\n#popupBackground {position:absolute; background-color:black; width:100%; height:100%; top:0; left:0; z-index:1110; filter: alpha(opacity=0.4); opacity:0.4; }\n\n#popupWrap {position:absolute;z-index:1111;/* width:0; background-color:#FDFDFD; border:1px solid #bbb; box-shadow: rgba(0, 0, 0, 0.2) 0px 2px 40px 0px; */box-shadow: 0px 3px 5px -1px rgba(0, 0, 0, 0.2),\n\n    0px 6px 10px 0px rgba(0, 0, 0, 0.14),\n\n    0px 1px 18px 0px rgba(0, 0, 0, 0.12);}\n\t#popupWrap div,#popupWrap fieldset {}\n\t/*\n\t#popupWrap .floor {position: relative;border:1px solid #FDFDFD; cursor:pointer; padding:7px; display:block;    overflow: hidden;}\n\t#popupWrap .floor:hover {background:#FAF3D2; border:1px solid #FFD700; }\n\t#popupWrap .subject {padding:10px; font-weight:bold; word-break: break-all;}\n\t#popupWrap .hr {}\n\t*/\n\n.popupWrapStyle_1 {background:white; border:2px solid #333; padding:15px; }\n\t.popupWrapStyle_1 .title {font-size:12pt; font-weight:bold; margin-bottom:7px;}\n\t.popupWrapStyle_1 dt {font-weight:bold; font-size:10pt; margin-bottom:3px;}\n\t.popupWrapStyle_1 dd input {padding:3px; font-size:9pt;}\n\t.popupWrapStyle_1 select {width:100%}\n\t.popupWrapStyle_1 .btn {float:right;margin:10px 10px 0; cursor:pointer;}\n</style>\n\n<div id="popupBackground" class="hidden"></div>\n<div id=\'popupWrap\' class="hidden"></div>\n<script type="text/template" id="popup_frame">\n\t<div class="popupWrapStyle_1">\n\t\t<div class="title"></div>\n\t\t<dl>\n\t\t\t<dt class="content">/dt>\n\t\t\t<dd></dd>\n\t\t</dl>\n\t\t<div class="btn cancel">취소</div>&nbsp;&nbsp;<div class="btn ok">확인</div>\n\t\t<div class="clear"></div>\n\t</div>\n<\/script>\n\n\t<p class="tooltip hidden"></p>\n\t<script type="text/template" id="emoticon_popup">\n\t\t<div class="emoticon_wrap">\n\t\t\t<div class="emoticon_top"></div>\n\t\t\t<div class="emoticon_middle"></div>\n\t\t\t<div class="emoticon_bottom"></div>\n\t\t</div>\n\t<\/script>\n\t<script type="text/template" id="uchatLogo">\n\t\t<div class="icon_logo"><img src="//devclient.uchat.io/skin/basic/img/logo.gif" height="100%"></div>\n\t<\/script>\n\t<script type="text/template" id="emoticon_popup">\n\t\t<div class="emoticon_wrap">\n\t\t\t<div class="emoticon_top"></div>\n\t\t\t<div class="emoticon_middle"></div>\n\t\t\t<div class="emoticon_bottom"></div>\n\t\t</div>\n\t<\/script>\n\t<script type="text/template" id="room_layout">\n\t\t<div style="height:100%;">\n\t\t\t<div class=\'wrap\'>\n\t\t\t\t<div class="top">\n\t\t\t\t\t<button class="right menu hoverOpacity"><div class="bgicon"></div></button>\n\t\t\t\t\t<button class="right login hidden hoverOpacity"><div class="bgicon"></div></button>\n\t\t\t\t\t<button class="right room_setting hidden hoverOpacity"><div class="bgicon"></div></button>\n\t\t\t\t\t<div class="logo"></div>\n\t\t\t\t\t<div class="title middlebox">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<span class=\'chatname\'><span class="loadding">&nbsp;</span></span> <span class="countWrap"><span class=\'countIcon\'>&nbsp;</span><span class="count"></span></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="middle">\n\t\t\t\t\t<div class="userListWrap nano">\n\t\t\t\t\t\t<div class="userList nano-content">\n\t\t\t\t\t\t\t<div class="i"></div>\n\t\t\t\t\t\t\t<div class="admin-list"></div>\n\t\t\t\t\t\t\t<div class="subadmin-list"></div>\n\t\t\t\t\t\t\t<div class="member-list"></div>\n\t\t\t\t\t\t\t<div class="guest-list"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="contour"><table><tr><td><div class="dot"></div><div class="dot"></div><div class="dot"></div></td></tr></table></div>\n\t\t\t\t\t<div class="contentWrap nano">\n\t\t\t\t\t\t<div class="content nano-content">\n\t\t\t\t\t\t\t<div class="line system">서버 연결 시도</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\'bottom\'>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class="inputWrap group">\n\t\t\t\t\t\t\t\t<div class="plus hoverOpacity"></div>\n\t\t\t\t\t\t\t\t<div class=\'whisperWrap\'></div>\n\t\t\t\t\t\t\t\t<div class="emoticon hoverOpacity"></div>\n\t\t\t\t\t\t\t\t<div class=\'inputContent\'>\n\t\t\t\t\t\t\t\t\t<div class="chatInput" contenteditable="true" onClick="this.contentEditable=\'true\'; this.focus(); return false;" placeholder="채팅 입력." tabindex="0"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t<div class="menuBar"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="latest_chat hidden">\n\t\t\t\t\t<div class="left latest_chat_content"></div>\n\t\t\t\t\t<div class="right slideDown">▼</div>\n\t\t\t\t\t<div class="clear"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="settingBackground"></div>\n\t\t\t\t<div class="settingContent">\n\t\t\t\t\t<div class="title">\n\t\t\t\t\t\t<div class="title_subject">설정</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="scrollable">\n\t\t\t\t\t\t<div class="subtitle my_information">내정보</div>\n\t\t\t\t\t\t<div class="hr"></div>\n\t\t\t\t\t\t<div class="subtitle new_popup">새창보기</div>\n\t\t\t\t\t\t<div class="hr"></div>\n\t\t\t\t\t\t<div class="subtitle subject">알림음 설정</div>\n\t\t\t\t\t\t<div class="pack">\n\t\t\t\t\t\t\t<div class="floor hoverOpacity" kind="sound.call">\n\t\t\t\t\t\t\t\t<label><input type="checkbox" /> 호출음</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="hr"></div>\n\t\t\t\t\t\t<div class="subtitle subject">수신 설정</div>\n\t\t\t\t\t\t<div class="pack">\n\t\t\t\t\t\t\t<div class="floor hoverOpacity" kind="access.call">\n\t\t\t\t\t\t\t\t<label><input type="checkbox" /> 호출</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="floor hoverOpacity" kind="access.whisper">\n\t\t\t\t\t\t\t\t<label><input type="checkbox" /> 귓속말</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="floor hoverOpacity" kind="access.invite">\n\t\t\t\t\t\t\t\t<label><input type="checkbox" /> 채팅초대</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="floor hoverOpacity" kind="access.joinout">\n\t\t\t\t\t\t\t\t<label><input type="checkbox" /> 입퇴장</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="hr"></div>\n\t\t\t\t\t\t<div class="subtitle subject">채팅방 설정</div>\n\t\t\t\t\t\t<div class="pack">\n\t\t\t\t\t\t\t<div class="floor hoverOpacity" kind="option.oldChatRemove">\n\t\t\t\t\t\t\t\t<label><input type="checkbox" /> 오래된 대화 자동 삭제</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="floor hoverOpacity" kind="option.autoScroll">\n\t\t\t\t\t\t\t\t<label><input type="checkbox" /> 자동 스크롤</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="hr"></div>\n\t\t\t\t\t\t<div class="onlyadmin">\n\t\t\t\t\t\t\t<div class="subtitle subject">채팅 관리</div>\n\t\t\t\t\t\t\t<div class="pack">\n\t\t\t\t\t\t\t\t<div class="floor hoverOpacity" kind="frozen">\n\t\t\t\t\t\t\t\t\t<label><input type="checkbox" /> 얼리기/녹이기</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="floor hoverOpacity" kind="clearLog">\n\t\t\t\t\t\t\t\t\t<label>채팅방 대화삭제</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="hr"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="onlyAd">\n\t\t\t\t\t\t\t<div class="subtitle uchat_info">유챗 정보</div>\n\t\t\t\t\t\t\t<div class="hr"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<\/script>\n\t<script type="text/template" id="uchat_info">\n\t\t<div style="text-align:center;">\n\t\t\t<p><img src="//uchat.io/assets/images/logo-black.png" height="50"></p>\n\t\t\t<p>홈페이지 : <a href="https://uchat.io" target="_blank">https://uchat.io</a></p>\n\t\t\t<p>문의 : 010 - 8677 - 8633</p>\n\t\t</div>\n\t<\/script>\n\t<script type="text/template" id="top_layer_wrap">\n\t\t<div class="top_layer_wrap">\n\t\t</div>\n\t<\/script>\n\t<script type="text/template" id="top_layer_floor">\n\t\t<div class="floor group">\n\t\t\t<div class="text"></div>\n\t\t\t<div class="close"></div>\n\t\t</div>\n\t<\/script>\n</body>\n</html>\n',e.onload(),je("유챗 연결 - view.php 강제 로드"),$(".uchat_connect_dom").remove(),nomo_global.$GLOBAL_IFRAME_DOCUMENT.one("DOMNodeInserted",".userListWrap",(async function(){$(this).hide()})))}),100)}Date.prototype.format=function(t){if(!this.valueOf())return" ";var e=["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],n=this,a=n.getHours()%12;return t.replace(/(yyyy|yy|MM|dd|E|hh|mm|ss|a\/p|amp)/gi,(function(t){switch(t){case"yyyy":return n.getFullYear();case"yy":return(n.getFullYear()%1e3).zf(2);case"MM":return(n.getMonth()+1).zf(2);case"dd":return n.getDate().zf(2);case"E":return e[n.getDay()];case"HH":return n.getHours().zf(2);case"hh":return(a||12).zf(2);case"mm":return n.getMinutes().zf(2);case"ss":return n.getSeconds().zf(2);case"a/p":return n.getHours()<12?"오전":"오후";case"amp":return n.getHours()<12?"AM":"PM";default:return t}}))},String.prototype.string=function(t){for(var e="",n=0;n++<t;)e+=this;return e},String.prototype.zf=function(t){return"0".string(t-this.length)+this},Number.prototype.zf=function(t){return this.toString().zf(t)};async function B(t,n){var o="";if(!ADD_config.list)return $(t).each((function(t,e){var n=e.from;switch(e.from){case"afreeca":n="아프리카";break;case"twitch":n="트위치";break;case"kakao":n="카카오";break;case"youtube":n="유투브";break;case"chzzk":n="CHZZK";break;default:n=e.from}o+='<li class="'+e.from+'">            <a href="/#/stream'+e.url+'">            <img src="'+e.image+'" width="90" hieght="60">            <div class="stream-wrap">            <div class="title">'+e.title.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+'</div>            <div class="info">            <div class="from '+e.from+'">'+n+'</div>            <div class="viewers"><span class="glyphicon glyphicon-user"></span> '+e.viewers+"</div>            </div>            </div>            </a>            </li>"})),void(0===n?(void 0===$("#stream .main-streams ul")&&$("#stream .main-streams").append("<ul></ul>"),$("#stream .main-streams ul").empty().hide().append(o).fadeIn(300)):$("#popup_ADD_quick ul").empty().hide().append(o).fadeIn(300));if(nomo_global.multitwitch_checked_streamer_arr=[],2!==n&&je("ADD_run - 파싱된 데이터 이용하여 스트림 리스트 layout 생성"),ADD_config.streamer_hide){for(var i=[],r=ADD_config.streamer_hide_ID,s=0;s<r.length;s++){var l=t.map((function(t){return t.streamer})).indexOf(r[s]);-1===l&&(l=t.map((function(t){return t.url.split("/").pop()})).indexOf(r[s])),-1!==l&&i.push(l)}for(i.sort((function(t,e){return e-t})),s=0;s<i.length;s++)t.splice(i[s],1)}for(s=0;s<t.length;s++)t[s].main_fixed=!1,t[s].main_favorite=!1,t[s].display_name="";if(ADD_config.alarm&&$.cookie("twitch_api_cookie")){je("layout 생성을 위해 Twitch API cookie 쿠키 정리 중...");var c=JSON.parse($.cookie("twitch_api_cookie"));if(null==c||0===c.length)je("layout 생성 중 Twitch API cookie 확인 실패!"),je("temp_api_cookie",c);else for(ADD_config.alarm_sort_by_viewer&&c.sort((function(t,e){return e.viewers-t.viewers})),s=0;s<c.length;s++){var d=t.map((function(t){return t.streamer})).indexOf(c[s].name);if(-1!==d)t[d].title=c[s].status,t[d].viewers=c[s].viewers,t[d].display_name=c[s].display_name,t[d].main_favorite=!0,t.splice(0,0,t.splice(d,1)[0]);else{var u={};u.title=c[s].status,void 0!==c[s].game&&(u.game=c[s].game),u.from="twitch",u.url="/twitch/"+c[s].name,u.image="https://static-cdn.jtvnw.net/previews-ttv/live_user_"+c[s].name+"-240x180.jpg",u.streamer=c[s].name,u.viewers=c[s].viewers,u.display_name=c[s].display_name,u.main_fixed=!1,u.main_favorite=!0,t.unshift(u),u=null}}}if(ADD_config.top_fix){var h=ADD_config.top_fix_ID,f=ADD_config.top_alarm_ID;for(s=h.length-1;s>=0;s--){var p=h[s].toLowerCase(),m=t.map((function(t){return t.streamer})).indexOf(p);if(-1!==m)t[m].main_fixed=!0,t.splice(0,0,t.splice(m,1)[0]);else if(ADD_config.top_off_fix){var g={};ADD_config.alarm&&$.inArray(p,f),g.title="스트림이 오프라인 상태입니다.",g.from="twitch",g.url="/twitch/"+p,g.image="https://static-cdn.jtvnw.net/previews-ttv/live_user_"+p+"-240x180.jpg",g.streamer=p,g.viewers=0,g.display_name="",g.main_fixed=!0,g.main_favorite=!1,t.unshift(g)}}}if(ADD_config.thumbnail_refresh){var b=ADD_config.thumbnail_refresh_gap;(!$.isNumeric(b)||Number(b)<1)&&(b=1),await Re("thumbnail_refresh",60*Number(b)*1e3)&&(nomo_global.getTimeStampRes="?"+Ue("m"))}for(s=0;s<t.length;s++)if(""==t[s].title.replace(/\s/g,"")&&(t[s].title="　"),"togom"==t[s].streamer&&(t[s].viewers=100*t[s].viewers),ADD_config.thumbnail_refresh&&(t[s].image+=nomo_global.getTimeStampRes),!0!==t[s].main_favorite)if("chzzk"==t[s].from){let n=!1;for(let a in e.data.chzzk)if(a===t[s].url.split("/").pop()){t[s].display_name=e.data.chzzk[a].dn,n=!0;break}n||(t[s].display_name="")}else{if("twitch"!=t[s].from){t[s].display_name="";break}for(var v=0;v<a.length;v++){if(a[v][0]===t[s].streamer){t[s].display_name=a[v][1];break}if(v===a.length-1){t[s].display_name="";break}}}if(2!=n){if(ADD_config.list_sort_by_viewer&&t.sort((function(t,e){return e.viewers-t.viewers})),je("list - 정렬된 data",t),$(t).each((function(t,e){var n="",a="",i="",r="",s="",l="";if(ADD_config.remember_platform){if("twitch"===e.from&&ADD_config.remember_twitch)return!0;if("kakao"===e.from&&ADD_config.remember_kakao)return!0;if("youtube"===e.from&&ADD_config.remember_youtube)return!0;if("afreeca"===e.from&&ADD_config.remember_afreeca)return!0;if("chzzk"===e.from&&ADD_config.remember_chzzk)return!0}if("twitch"===e.from)n='\n                <div class="ADD_li_box_container">\n                    <div class="ADD_li_box">\n                        <div class="ADD_checkbox_container"'+(ADD_config.button_set?"":" style='display:none'")+'>\n                            <label class="btn btn-default btn-xs" aria-label="멀티트위치 체크박스" data-microtip-position="top-left" role="tooltip">\n                                <input class="ADD_checkbox" type="checkbox" name="chk" value="'+Xe(e.streamer)+'" onfocus="this.blur()" autocomplete="off" />\n                                <span class="glyphicon glyphicon-ok"></span>\n                            </label>\n                        </div>\n                        <div class="multitwitch_button"'+(ADD_config.button_chatmode?"":" style='display:none'")+'>\n                            <a href="/#/stream/multitwitch/'+Xe(e.streamer)+'">\n                                <span class="btn btn-default btn-xs" aria-label="채팅모드" data-microtip-position="top-right" role="tooltip"><span class="glyphicon glyphicon-comment"></span></span>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n                ',l=ADD_config.show_display_name?""===e.display_name?e.streamer:e.display_name+" ("+e.streamer+")":"트위치";else switch(e.from){case"afreeca":l="아프리카";break;case"kakao":l="카카오";break;case"youtube":l="유투브";break;case"chzzk":l=e.streamer;break;default:l=e.from}e.main_fixed&&(a=" fixed_streamer",i='<div style="position:relative;"><div class="glyphicon glyphicon-pushpin icon_pushpin"></div></div>'),e.main_favorite&&(r=" favorite_streamer",s='<div style="position:relative;"><div class="glyphicon glyphicon-star icon_star"></div></div>');var c="";ADD_config.alarm_show_game_name&&void 0!==e.game&&(c='<div class="game"> - '+Xe(e.game)+"</div>"),o+='\n                <li id="twitch_'+Xe(e.streamer)+'" class="'+e.from+a+r+'">\n                '+i+s+'\n                <a href="/#/stream'+Xe(e.url)+'">\n                    <img src="'+e.image+'" width="90" hieght="60">\n                    <div class="stream-wrap">\n                        <div class="title">'+Xe(e.title)+'</div>\n                        <div class="info">\n                            <div class="from '+e.from+'">'+Xe(l)+"</div>\n                            "+c+'\n                            <div class="viewers">\n                                <span class="glyphicon glyphicon-user"></span> '+Xe(e.viewers)+"\n                            </div>\n                        </div>\n                    </div>\n                </a>\n                "+n+"\n            </li>"})),0===n?(void 0===$("#stream .main-streams ul")&&(je("$ul 을 찾을 수 없다."),$("#stream .main-streams").append("<ul></ul>")),$("#stream .main-streams ul").empty().hide().append(o).fadeIn(300),$("#stream .main-streams ul").addClass("main_ul_addostream"),ADD_config.main_list_two_column?$("#stream .main-streams ul").addClass("main_list_two_column"):$("#stream .main-streams ul").removeClass("main_list_two_column")):$("#popup_ADD_quick ul").empty().hide().append(o).fadeIn(300),await async function(){try{var t,e=await Ne("GM_cache_stream_list"),n=await Ne("GM_cache_twitch_api"),a=[];$.isNumeric(e)&&a.push(e),$.isNumeric(n)&&a.push(n),0!==a.length&&(t=Math.max.apply(null,a)),$.isNumeric(n)?nomo_global.list_update_time=new Date(t):nomo_global.list_update_time=void 0}catch(t){je("error from function get_last_list_update_time()",t),nomo_global.list_update_time=void 0}}(),void 0!==nomo_global.list_update_time){var _,y=(_=0===n?$("#stream .main-streams ul"):$("#popup_ADD_quick ul")).closest("div").find(".last_list_update_time");0===y.length&&(_.after(`\n                <div class="last_list_update_time" style="font-size:${0===n?"11":"10"}px;color:#999;clear:both;padding:5px 0;text-align:right;"></div>\n            `),y=$(".last_list_update_time")),y.hide().html(`Last Updated : ${new Date(nomo_global.list_update_time).format("yyyy-MM-dd amp hh:mm:ss")}`).fadeIn(300)}}else nomo_global.latestList=t}async function P(t){je("RUNNING - ADD_parse_list_data, flag = ",t);var e=!0;if(ADD_config.main_list_cache||2==t){var n=ADD_config.main_list_cache_time;2==t?n=5:(!$.isNumeric(n)||n<1)&&(n=1),e=await async function(t,e){return await Re(t,e,Fe)}("GM_cache_stream_list",60*Number(ADD_config.main_list_cache_time)*1e3)}if(e)GM_xmlhttpRequest({url:"https://www.dostream.com/dev/stream_list.php",method:"GET",headers:{"Content-Type":"application/javascript"},timeout:1e4,onload:async function(e){var n=JSON.parse(e.responseText);null===n?(je("기본 파싱 리스트 존재하지 않음"),n=[]):je("기본 파싱 리스트 콜 성공"),Me("GM_cache_stream_list"),GM.setValue("ADD_stream_list",n),B(n,t),nomo_global.list_update_time=new Date,je("리스트 업데이트 시간 갱신 - 리스트:",nomo_global.list_update_time)},onerror:async function(e){je("파싱 실패함",e),B([],t)},ontimeout:async function(e){je("타임아웃, 파싱 실패함",e),B([],t)}});else{var a=await GM.getValue("ADD_stream_list",[]);je("기본 리스트 캐시된 것 읽어옴",a),B(a,t)}}$(document).on("click","input[name=chk]",(function(){var t=$(this).val(),e=$.inArray(t,nomo_global.multitwitch_checked_streamer_arr);$(this).parent("label.btn").toggleClass("active"),-1===e?nomo_global.multitwitch_checked_streamer_arr.push(t):nomo_global.multitwitch_checked_streamer_arr.splice(e,1),$("#multitwitch").hasClass("multitwitch_ready")&&$("#multitwitch").removeClass("multitwitch_ready"),$("input[name=chk]:checked").length>=1?($("#addHideStreamer").fadeIn("fast"),setTimeout((function(){$("#multitwitch").addClass("multitwitch_ready")}),100)):$("#addHideStreamer").fadeOut("fast")}));var j=t.ADD_CLIENT_ID_TWITCH,z=`https://id.twitch.tv/oauth2/authorize?client_id=${j}&redirect_uri=${encodeURIComponent("https://www.dostream.com/addostream/twitch/auth/")}&response_type=token`;async function G(t){void 0!==t&&""!==t?(nomo_global.TwitchOAuthToken=t,await Ie.setVal("TwitchOAuthToken",t),je("saveTwitchOAuth saved",t)):je("saveTwitchOAuth failed",t)}async function U(){var t=await Ie.getVal("TwitchOAuthToken",void 0);return null!=t&&""!==t||(t=void 0),je("loadTwitchOAuth load",t),t}async function H(t){if(!nomo_global.TwitchOAuthToken)return je("TwitchHelixAPI - token undefined",nomo_global.TwitchOAuthToken),{data:{},status:401,ok:!1,error:"Unauthorized",message:"Invalid OAuth token"};var e=await fetch("https://api.twitch.tv/helix/"+t,{headers:{"Client-ID":j,Authorization:"Bearer "+nomo_global.TwitchOAuthToken}});try{401==e.ststus&&G(void 0)}catch(t){je("Helix 401 체크 중 error",t)}return{data:await e.json(),ok:e.ok,status:e.status}}async function q(){je("run checkTwitchOAuth",j,nomo_global.TwitchOAuthToken),$("#checkTwitchOAuthResultsContainer").show();var t=await fetch("https://api.twitch.tv/helix/users?login=hanryang1125",{headers:{"Client-ID":j,Authorization:"Bearer "+nomo_global.TwitchOAuthToken}}),e=await t.json();if(je(t),401==t.status)document.getElementById("checkTwitchOAuthResults").innerHTML=`<p>- <span style="color:red">Twitch API 호출에 실패했습니다.</span> Twitch 계정을 Dostream+ 와 연결하지 않았거나, 유효하지 않은 OAuth token 을 사용하였습니다. Token 갱신이 필요합니다. 이미 Twitch 계정을 Dostream+ 와 연결한 경우, Twitch 와 Dostream+ 연동 하기 버튼을 클릭하여 토큰 갱신을 시도하십시오.<br />- Error:${JSON.stringify(e)}</p>`;else if(429==t.status)document.getElementById("checkTwitchOAuthResults").innerHTML=`<p>- <span style="color:red">Twitch API 호출에 실패했습니다.</span> 짧은 기간동안 너무 많은 API 요청이 이루어진 것 같습니다. 잠시 후 다시 시도해보십시오.<br />- Error:${JSON.stringify(e)}</p>`;else try{document.getElementById("checkTwitchOAuthResults").innerHTML="<p>- Hanryang1125's Twitch Profile from Helix API:</p>";var n=document.createElement("table");for(var a in document.getElementById("checkTwitchOAuthResults").append(n),e.data[0]){var o=document.createElement("tr");n.append(o);var i=document.createElement("td");i.textContent=a,o.append(i),(i=document.createElement("td")).textContent=e.data[0][a],o.append(i)}document.getElementById("checkTwitchOAuthResultsContainer").append("\n정보가 정상적으로 표시되었다면 연동에 성공한 것입니다. 이 창을 닫아도 됩니다.")}catch(t){document.getElementById("checkTwitchOAuthResults").textContent="알 수 없는 이유로 인하여 실패했습니다. Error:"+t}return 200==t.status}const W=je,V=5;var K=`#ADD_send_location_button {\n    width:24px;height:24px;font-size:18px;cursor:pointer;\n}\n#ADD_send_location_container {\n    position: absolute;\n    bottom: 10px;\n    right: 10px;\n    width: 25px;\n    height: 25px;\n    cursor: pointer;\n    z-index:100000;\n}\n#ADD_send_location_container.send_location_button_top{\n    top: 10px;\n    bottom: unset;\n}\n#uha_chat #ADD_send_location_container{\n    bottom: 58px;\n}\n#uha_chat #ADD_send_location_container.send_location_button_top{\n    top: 38px;\n    bottom: unset;\n}\n\n.black .myLine{\n    background:unset;\n}\n.imgur_container{\n    line-height:100%;\n    position:relative;\n}\n.imgur_container .imgur_safe_screen{\n    z-index:1000;\n    align-items:center;\n    position:absolute;\n    top:31px;\n    left:0;\n    text-align:center;\n    vertical-align:middle;\n    width:100%;\n    height:calc(100% - 62px);\n    background:url(${t.ADD_assets_url}bg_nothumb_black.png) repeat;\n}\n.imgur_container.blurred .simple_image_container {\n    overflow:hidden;\n}\n.imgur_container.blurred img, .imgur_container.blurred video{\n    filter:blur(5px);\n}\n.imgur_container .imgur_safe_screen .imgur_safe_button{\n    border-radius: 5px;\n    padding: 10px 15px;\n    background: rgba(255,255,255,1);\n    border: 1px solid #666;\n    opacity: 1.0;\n    line-height: 150%;\n    margin: 0 auto;\n    text-align: center;\n    vertical-align: middle;\n    cursor: pointer;\n    color: #19171c;\n    font-size: 14px;\n    font-family: "Lucida Console", Monaco, monospace, Impact, "Malgun Gothic",sans-serif;\n    box-shadow: 3px 4px 10px 1px rgba(0, 0, 0, 0.35);\n}\n.imgur_container .ADD_tr{\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    margin: 5px 0 0 0;\n}\n.imgur_container .ADD_tr, .imgur_container .ADD_br{\n    display: flex;\n    justify-content: space-between;\n    box-sizing: border-box;\n    padding: 7px;\n    height:31px;\n}\n.imgur_container .ADD_br .videoType{\n    white-space: nowrap;\n    font-size: 12px;\n    line-height: 130%;\n    padding: 1px 5px;\n    font-weight: bold;\n}\n.imgur_container .ADD_tr img, .imgur_container .ADD_br img{\n    width:17px;\n    height:17px;\n}\n.imgur_container .imgur_image_title{\n    width:100%;\n    min-width:0;\n    padding:1px 5px;\n    display:inline-block;\n    align-self:center;\n    font-size: 12px;\n    font-weight:700;\n    text-align:left;\n    margin-right:10px;\n    text-overflow:ellipsis;\n    white-space:nowrap;\n    overflow:hidden;\n    line-height:130%;\n    cursor:default;\n}\n.imgur_container .imgur_image_title:hover{\n    text-overflow: unset;\n    white-space: unset;\n    z-index: 100000;\n    background-color: #9e9e9e;\n    border-radius: 5px;\n    align-self: baseline;\n    padding: 1px 12px 10px 12px;\n    width: 100%;\n    box-sizing: border-box;\n    position: absolute;\n    top: 7px;\n    left: 0;\n    min-height:23px;\n}\n.imgur_container .imgur_control_hide, .imgur_container .imgur_control_remove{\n    font-size: 14px;\n    display: inline-flex;\n    cursor: pointer;\n    text-align: center;\n}\n.imgur_container .imgur_control_remove{\n    margin-left:7px;\n}\n.imgur_container .ADD_tr, .imgur_container .ADD_br,\n.imgur_container .simple_image,\n.imgur_container .simple_image_container,\n.imgur_container .imgur_more_image_div,\n.imgur_container .imgur_more_image_div_container{\n    background-color:#9e9e9e;\n}\n.imgur_container .imgur_more_image_div{\n    margin:0 auto;\n}\n.imgur_container .simple_image_container, .imgur_container .imgur_more_image_div_container{\n    width:100%;\n}\n.imgur_container .simple_image{\n    text-align:center;\n    margin:0 auto;\n}\n.imgur_container .simple_image.whauto img{\n    width:auto;\n    height:auto;\n}\n.imgur_container .simple_image_container,\n.imgur_container .imgur_more_image_div_container{\n    position:relative;\n    margin:0 auto;\n}\n.imgur_container .viewers{\n    z-index: 1100;\n    line-height: 1.42857143;\n    font-size: 12px;\n    padding: 1px 4px;\n    background: #000;\n    display: inline-block;\n    position: absolute;\n    top: 0px;\n    right: 0px;\n    color: #fff;\n}\n.imgur_container .imgur_more_images_button{\n    width:100%;\n    min-width:0;\n    padding-left:5px;\n    display:inline-block;\n    align-self:center;\n    font-size: 12px;\n    font-weight:700;\n    text-align:center;\n    text-overflow:ellipsis;\n    white-space:nowrap;\n    overflow:hidden;\n}\n.imgur_container .simple_image video, .imgur_container .imgur_more_images video,\n.imgur_container .simple_image img, .imgur_container .imgur_more_images img{\n    width:100%;\n    height:100%;\n    z-index:100;\n    cursor:pointer;\n    margin:0 auto;\n    display:inline-block;\n}\n.imgur_container .imgur_more_images .ADD_tr{\n    position:relative;\n}\n.imgur_container .play_container{\n    width: 100%;\n    height: 100%;\n    display: flex;\n    position: absolute;\n    align-items: center;\n    justify-content: center;\n}\n.imgur_container .play_container.hover .play_button{\n    display:block;\n    cursor:pointer;\n}\n.imgur_container .play_container .play_button{\n    display:none;\n    width:100%;\n    height:100%;\n    background-image:url(${t.ADD_assets_url}btn_imgurPlay.png);\n    background-repeat:no-repeat;\n    background-position:center center;\n}\n\n.chatContent a.autokeyword, .chatContent a.autokeyword:link{\n    font-family:dotum;\n}\na.autokeyword, a.autokeyword:link{\n    white-space:nowrap;\n    z-index:1;\n    color:#000;\n    position:relative\n}\na.autokeyword:after, a.autokeyword:after{\n    opacity: 0.33;\n    z-index: -100;\n    height: calc(100% + 4px);\n    width: calc(100% + 3px);\n    content: " ";\n    position: absolute;\n    top: -2px;\n    right: -1px;\n    border-radius: 2px;\n    background-color: powderblue;\n}\n\na.autokeyword.twitch:after, a.autokeyword.twitch:after {\n    background-color: #9B59B68f;\n}\na.autokeyword.chzzk:after, a.autokeyword.chzzk:after {\n    background-color: #00ffa38f;\n}\n\n\n\nbody.tooltip_hide p.tooltip {\n    display:none !important;\n}\n\n.chat_video_play_top_fix {\n    transform:unset !important;\n}\n.chat_video_play_top_fix .imgur_container{\n    position:fixed;\n    top:23px;\n    left:5;\n    z-index:1000000;\n}\n#uha_chat_msgs .chat_video_play_top_fix .imgur_container{\n    top:71px;\n}\n.chat_video_play_top_fix .ADD_br{\n    display:none;\n}\nbody.leftchat .wrap, body.leftchat .chat-ignore, body.leftchat .chat-container {\n    border-left:none !important;\n    border-right:1px solid #d3d3d3;\n}\n\n.line span, .line img, .chatContent a.autokeyword, .chatContent a.autokeyword:link {\n    vertical-align:baseline !important;\n}\n\ndiv.ADD_type_and_go {\n    color: inherit;\n    font-size: 20px;\n    position: absolute;\n    width: 20px;\n    height: auto;\n    right: 35px;\n    top: 1px;\n    opacity: 0.8;\n    cursor: pointer;\n}\ndiv.ADD_type_and_go:focus, div.ADD_type_and_go:hover {\n    opacity: 1.0;\n    border: none;\n    outline: 0px solid transparent;\n}\n\n`;function Y(t){window.parent.location.href=t}var X=!1;async function Z(){if(W("ADD_chatting_arrive 함수 실행됨"),nomo_global.chatting_arrive_check&&null!==nomo_global.chatting_arrive_check)return ADD_config.chat_ctr?void 0:($(document).unbindArrive(".user_conversation"),$(document).unbindArrive(".system"),void(nomo_global.chatting_arrive_check=!1));ADD_config.chat_ctr&&(nomo_global.chatting_arrive_check=!0,W("nomo_global.chatting_arrive_check: "+nomo_global.chatting_arrive_check),nomo_global.chatting_arrive_check&&ADD_config.chat_ctr&&(M=setTimeout((function(){var t;if(0!==(t=$("head").find("script")).length)for(var e=0;e<t.length;e++)if(-1!==t[e].src.indexOf("load.php")){je("유챗 연결 기다리는 중...");var n=$('\n                        <div class="uchat_connect_dom" style="\n                        box-sizing: border-box;\n                        color: black;\n                        position: fixed;\n                        top: calc(50% - 90px);\n                        left: calc(50% - 150px);\n                        padding: 10px;\n                        font-size: 15px;\n                        width: 300px;\n                        height: auto;\n                        z-index: 100000000000000000000;\n                        background: #ddd;\n                        text-align: center;\n                        cursor: pointer;\n                        border: 1px solid #333;\n                        font-family: "Noto Sans KR", "맑은 고딕", malgun gothic, dotum, serif;\n                    ">Uchat Waiting···<br />강제연결 시도 <span style="font-size:13px;">(테스트 중)</span></div>\n                    ');$("body").append(n),n.on("click",(function(){N(),$(".uchat_connect_dom").hide()}))}}),2e3),$(document).arrive("u-chat > iframe",{existing:!0},(async n=>{var o;(W("채팅 iframe 생성"),void 0===$(n).attr("src")||-1===$(n).attr("src").indexOf("uchat.io"))?(nomo_global.GLOBAL_CHAT_IFRAME=n,nomo_global.$GLOBAL_CHAT_IFRAME=$(n),nomo_global.$GLOBAL_IFRAME_DOCUMENT=nomo_global.$GLOBAL_CHAT_IFRAME.contents().first(),o=nomo_global.$GLOBAL_IFRAME_DOCUMENT,$(o[0]).one("DOMNodeInserted","div.content",(function(){W("iframe 내 div.content 로드 완료!");var t=$(o).find("head"),e=$(o).find("div.content");if(0===t.length&&0===e.length)return W("채팅창에 이벤트 바인드하지 못함"),W("elemHead.length",t.length,"elemContent.length",e.length),!1;$(o).on("click",".open-lightbox",(function(t){t.preventDefault();var e=$(this).attr("src");parent.$("html").addClass("no-scroll");var n="";n=nt(e)?"<video class='chat_image' loop controls muted autoplay src=\""+e+'"></video>':"<img class='chat_image' src=\""+e+'" />',parent.$("body").append('<div class="lightbox-opened">'+n+"</div>")})),$(o).on("click",".ADD_chat_again",(function(){location.reload()}))})),nomo_global.$GLOBAL_IFRAME_DOCUMENT.one("DOMNodeInserted","div.content",(async function(){if(W("채팅 div.content 생성"),$(this).hasClass("fired"))W("already fired");else{$(this).addClass("fired"),je("유챗 강제 연결 clear"),$(".uchat_connect_dom").remove(),clearTimeout(M),nomo_global.GLOBAL_CHAT_CONTENT_DIV=$(this),S(),I({message:!0}),L();0===nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("#ADD_chat_css").length&&nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("head").append(`\n                        <style id="ADD_chat_css" type="text/css">\n                        ${nomo_global.DEBUG?"\n                    .userListWrap {\n                        height:300px !important;\n                        border-bottom:2px solid #666 !important;\n                    }\n                ":""}\n                        ${K}\n                        /*!\n                        * Bootstrap v3.3.7 (http://getbootstrap.com)\n                        * Copyright 2011-2016 Twitter, Inc.\n                        * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n                        */\n                        /*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */\n                        html{font-family:sans-serif;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}body{margin:0}@font-face{font-family:'Glyphicons Halflings';src:url(https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/fonts/glyphicons-halflings-regular.eot);src:url(https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/fonts/glyphicons-halflings-regular.eot?#iefix) format("embedded-opentype"),url(https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/fonts/glyphicons-halflings-regular.woff2) format("woff2"),url(https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/fonts/glyphicons-halflings-regular.woff) format("woff"),url(https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/fonts/glyphicons-halflings-regular.ttf) format("truetype"),url(https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular) format("svg")}.glyphicon{position:relative;top:1px;display:inline-block;font-family:'Glyphicons Halflings';font-style:normal;font-weight:400;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.glyphicon-asterisk:before{content:"\\002a"}.glyphicon-plus:before{content:"\\002b"}.glyphicon-euro:before,.glyphicon-eur:before{content:"\\20ac"}.glyphicon-minus:before{content:"\\2212"}.glyphicon-cloud:before{content:"\\2601"}.glyphicon-envelope:before{content:"\\2709"}.glyphicon-pencil:before{content:"\\270f"}.glyphicon-glass:before{content:"\\e001"}.glyphicon-music:before{content:"\\e002"}.glyphicon-search:before{content:"\\e003"}.glyphicon-heart:before{content:"\\e005"}.glyphicon-star:before{content:"\\e006"}.glyphicon-star-empty:before{content:"\\e007"}.glyphicon-user:before{content:"\\e008"}.glyphicon-film:before{content:"\\e009"}.glyphicon-th-large:before{content:"\\e010"}.glyphicon-th:before{content:"\\e011"}.glyphicon-th-list:before{content:"\\e012"}.glyphicon-ok:before{content:"\\e013"}.glyphicon-remove:before{content:"\\e014"}.glyphicon-zoom-in:before{content:"\\e015"}.glyphicon-zoom-out:before{content:"\\e016"}.glyphicon-off:before{content:"\\e017"}.glyphicon-signal:before{content:"\\e018"}.glyphicon-cog:before{content:"\\e019"}.glyphicon-trash:before{content:"\\e020"}.glyphicon-home:before{content:"\\e021"}.glyphicon-file:before{content:"\\e022"}.glyphicon-time:before{content:"\\e023"}.glyphicon-road:before{content:"\\e024"}.glyphicon-download-alt:before{content:"\\e025"}.glyphicon-download:before{content:"\\e026"}.glyphicon-upload:before{content:"\\e027"}.glyphicon-inbox:before{content:"\\e028"}.glyphicon-play-circle:before{content:"\\e029"}.glyphicon-repeat:before{content:"\\e030"}.glyphicon-refresh:before{content:"\\e031"}.glyphicon-list-alt:before{content:"\\e032"}.glyphicon-lock:before{content:"\\e033"}.glyphicon-flag:before{content:"\\e034"}.glyphicon-headphones:before{content:"\\e035"}.glyphicon-volume-off:before{content:"\\e036"}.glyphicon-volume-down:before{content:"\\e037"}.glyphicon-volume-up:before{content:"\\e038"}.glyphicon-qrcode:before{content:"\\e039"}.glyphicon-barcode:before{content:"\\e040"}.glyphicon-tag:before{content:"\\e041"}.glyphicon-tags:before{content:"\\e042"}.glyphicon-book:before{content:"\\e043"}.glyphicon-bookmark:before{content:"\\e044"}.glyphicon-print:before{content:"\\e045"}.glyphicon-camera:before{content:"\\e046"}.glyphicon-font:before{content:"\\e047"}.glyphicon-bold:before{content:"\\e048"}.glyphicon-italic:before{content:"\\e049"}.glyphicon-text-height:before{content:"\\e050"}.glyphicon-text-width:before{content:"\\e051"}.glyphicon-align-left:before{content:"\\e052"}.glyphicon-align-center:before{content:"\\e053"}.glyphicon-align-right:before{content:"\\e054"}.glyphicon-align-justify:before{content:"\\e055"}.glyphicon-list:before{content:"\\e056"}.glyphicon-indent-left:before{content:"\\e057"}.glyphicon-indent-right:before{content:"\\e058"}.glyphicon-facetime-video:before{content:"\\e059"}.glyphicon-picture:before{content:"\\e060"}.glyphicon-map-marker:before{content:"\\e062"}.glyphicon-adjust:before{content:"\\e063"}.glyphicon-tint:before{content:"\\e064"}.glyphicon-edit:before{content:"\\e065"}.glyphicon-share:before{content:"\\e066"}.glyphicon-check:before{content:"\\e067"}.glyphicon-move:before{content:"\\e068"}.glyphicon-step-backward:before{content:"\\e069"}.glyphicon-fast-backward:before{content:"\\e070"}.glyphicon-backward:before{content:"\\e071"}.glyphicon-play:before{content:"\\e072"}.glyphicon-pause:before{content:"\\e073"}.glyphicon-stop:before{content:"\\e074"}.glyphicon-forward:before{content:"\\e075"}.glyphicon-fast-forward:before{content:"\\e076"}.glyphicon-step-forward:before{content:"\\e077"}.glyphicon-eject:before{content:"\\e078"}.glyphicon-chevron-left:before{content:"\\e079"}.glyphicon-chevron-right:before{content:"\\e080"}.glyphicon-plus-sign:before{content:"\\e081"}.glyphicon-minus-sign:before{content:"\\e082"}.glyphicon-remove-sign:before{content:"\\e083"}.glyphicon-ok-sign:before{content:"\\e084"}.glyphicon-question-sign:before{content:"\\e085"}.glyphicon-info-sign:before{content:"\\e086"}.glyphicon-screenshot:before{content:"\\e087"}.glyphicon-remove-circle:before{content:"\\e088"}.glyphicon-ok-circle:before{content:"\\e089"}.glyphicon-ban-circle:before{content:"\\e090"}.glyphicon-arrow-left:before{content:"\\e091"}.glyphicon-arrow-right:before{content:"\\e092"}.glyphicon-arrow-up:before{content:"\\e093"}.glyphicon-arrow-down:before{content:"\\e094"}.glyphicon-share-alt:before{content:"\\e095"}.glyphicon-resize-full:before{content:"\\e096"}.glyphicon-resize-small:before{content:"\\e097"}.glyphicon-exclamation-sign:before{content:"\\e101"}.glyphicon-gift:before{content:"\\e102"}.glyphicon-leaf:before{content:"\\e103"}.glyphicon-fire:before{content:"\\e104"}.glyphicon-eye-open:before{content:"\\e105"}.glyphicon-eye-close:before{content:"\\e106"}.glyphicon-warning-sign:before{content:"\\e107"}.glyphicon-plane:before{content:"\\e108"}.glyphicon-calendar:before{content:"\\e109"}.glyphicon-random:before{content:"\\e110"}.glyphicon-comment:before{content:"\\e111"}.glyphicon-magnet:before{content:"\\e112"}.glyphicon-chevron-up:before{content:"\\e113"}.glyphicon-chevron-down:before{content:"\\e114"}.glyphicon-retweet:before{content:"\\e115"}.glyphicon-shopping-cart:before{content:"\\e116"}.glyphicon-folder-close:before{content:"\\e117"}.glyphicon-folder-open:before{content:"\\e118"}.glyphicon-resize-vertical:before{content:"\\e119"}.glyphicon-resize-horizontal:before{content:"\\e120"}.glyphicon-hdd:before{content:"\\e121"}.glyphicon-bullhorn:before{content:"\\e122"}.glyphicon-bell:before{content:"\\e123"}.glyphicon-certificate:before{content:"\\e124"}.glyphicon-thumbs-up:before{content:"\\e125"}.glyphicon-thumbs-down:before{content:"\\e126"}.glyphicon-hand-right:before{content:"\\e127"}.glyphicon-hand-left:before{content:"\\e128"}.glyphicon-hand-up:before{content:"\\e129"}.glyphicon-hand-down:before{content:"\\e130"}.glyphicon-circle-arrow-right:before{content:"\\e131"}.glyphicon-circle-arrow-left:before{content:"\\e132"}.glyphicon-circle-arrow-up:before{content:"\\e133"}.glyphicon-circle-arrow-down:before{content:"\\e134"}.glyphicon-globe:before{content:"\\e135"}.glyphicon-wrench:before{content:"\\e136"}.glyphicon-tasks:before{content:"\\e137"}.glyphicon-filter:before{content:"\\e138"}.glyphicon-briefcase:before{content:"\\e139"}.glyphicon-fullscreen:before{content:"\\e140"}.glyphicon-dashboard:before{content:"\\e141"}.glyphicon-paperclip:before{content:"\\e142"}.glyphicon-heart-empty:before{content:"\\e143"}.glyphicon-link:before{content:"\\e144"}.glyphicon-phone:before{content:"\\e145"}.glyphicon-pushpin:before{content:"\\e146"}.glyphicon-usd:before{content:"\\e148"}.glyphicon-gbp:before{content:"\\e149"}.glyphicon-sort:before{content:"\\e150"}.glyphicon-sort-by-alphabet:before{content:"\\e151"}.glyphicon-sort-by-alphabet-alt:before{content:"\\e152"}.glyphicon-sort-by-order:before{content:"\\e153"}.glyphicon-sort-by-order-alt:before{content:"\\e154"}.glyphicon-sort-by-attributes:before{content:"\\e155"}.glyphicon-sort-by-attributes-alt:before{content:"\\e156"}.glyphicon-unchecked:before{content:"\\e157"}.glyphicon-expand:before{content:"\\e158"}.glyphicon-collapse-down:before{content:"\\e159"}.glyphicon-collapse-up:before{content:"\\e160"}.glyphicon-log-in:before{content:"\\e161"}.glyphicon-flash:before{content:"\\e162"}.glyphicon-log-out:before{content:"\\e163"}.glyphicon-new-window:before{content:"\\e164"}.glyphicon-record:before{content:"\\e165"}.glyphicon-save:before{content:"\\e166"}.glyphicon-open:before{content:"\\e167"}.glyphicon-saved:before{content:"\\e168"}.glyphicon-import:before{content:"\\e169"}.glyphicon-export:before{content:"\\e170"}.glyphicon-send:before{content:"\\e171"}.glyphicon-floppy-disk:before{content:"\\e172"}.glyphicon-floppy-saved:before{content:"\\e173"}.glyphicon-floppy-remove:before{content:"\\e174"}.glyphicon-floppy-save:before{content:"\\e175"}.glyphicon-floppy-open:before{content:"\\e176"}.glyphicon-credit-card:before{content:"\\e177"}.glyphicon-transfer:before{content:"\\e178"}.glyphicon-cutlery:before{content:"\\e179"}.glyphicon-header:before{content:"\\e180"}.glyphicon-compressed:before{content:"\\e181"}.glyphicon-earphone:before{content:"\\e182"}.glyphicon-phone-alt:before{content:"\\e183"}.glyphicon-tower:before{content:"\\e184"}.glyphicon-stats:before{content:"\\e185"}.glyphicon-sd-video:before{content:"\\e186"}.glyphicon-hd-video:before{content:"\\e187"}.glyphicon-subtitles:before{content:"\\e188"}.glyphicon-sound-stereo:before{content:"\\e189"}.glyphicon-sound-dolby:before{content:"\\e190"}.glyphicon-sound-5-1:before{content:"\\e191"}.glyphicon-sound-6-1:before{content:"\\e192"}.glyphicon-sound-7-1:before{content:"\\e193"}.glyphicon-copyright-mark:before{content:"\\e194"}.glyphicon-registration-mark:before{content:"\\e195"}.glyphicon-cloud-download:before{content:"\\e197"}.glyphicon-cloud-upload:before{content:"\\e198"}.glyphicon-tree-conifer:before{content:"\\e199"}.glyphicon-tree-deciduous:before{content:"\\e200"}.glyphicon-cd:before{content:"\\e201"}.glyphicon-save-file:before{content:"\\e202"}.glyphicon-open-file:before{content:"\\e203"}.glyphicon-level-up:before{content:"\\e204"}.glyphicon-copy:before{content:"\\e205"}.glyphicon-paste:before{content:"\\e206"}.glyphicon-alert:before{content:"\\e209"}.glyphicon-equalizer:before{content:"\\e210"}.glyphicon-king:before{content:"\\e211"}.glyphicon-queen:before{content:"\\e212"}.glyphicon-pawn:before{content:"\\e213"}.glyphicon-bishop:before{content:"\\e214"}.glyphicon-knight:before{content:"\\e215"}.glyphicon-baby-formula:before{content:"\\e216"}.glyphicon-tent:before{content:"\\26fa"}.glyphicon-blackboard:before{content:"\\e218"}.glyphicon-bed:before{content:"\\e219"}.glyphicon-apple:before{content:"\\f8ff"}.glyphicon-erase:before{content:"\\e221"}.glyphicon-hourglass:before{content:"\\231b"}.glyphicon-lamp:before{content:"\\e223"}.glyphicon-duplicate:before{content:"\\e224"}.glyphicon-piggy-bank:before{content:"\\e225"}.glyphicon-scissors:before{content:"\\e226"}.glyphicon-bitcoin:before{content:"\\e227"}.glyphicon-btc:before{content:"\\e227"}.glyphicon-xbt:before{content:"\\e227"}.glyphicon-yen:before{content:"\\00a5"}.glyphicon-jpy:before{content:"\\00a5"}.glyphicon-ruble:before{content:"\\20bd"}.glyphicon-rub:before{content:"\\20bd"}.glyphicon-scale:before{content:"\\e230"}.glyphicon-ice-lolly:before{content:"\\e231"}.glyphicon-ice-lolly-tasted:before{content:"\\e232"}.glyphicon-education:before{content:"\\e233"}.glyphicon-option-horizontal:before{content:"\\e234"}.glyphicon-option-vertical:before{content:"\\e235"}.glyphicon-menu-hamburger:before{content:"\\e236"}.glyphicon-modal-window:before{content:"\\e237"}.glyphicon-oil:before{content:"\\e238"}.glyphicon-grain:before{content:"\\e239"}.glyphicon-sunglasses:before{content:"\\e240"}.glyphicon-text-size:before{content:"\\e241"}.glyphicon-text-color:before{content:"\\e242"}.glyphicon-text-background:before{content:"\\e243"}.glyphicon-object-align-top:before{content:"\\e244"}.glyphicon-object-align-bottom:before{content:"\\e245"}.glyphicon-object-align-horizontal:before{content:"\\e246"}.glyphicon-object-align-left:before{content:"\\e247"}.glyphicon-object-align-vertical:before{content:"\\e248"}.glyphicon-object-align-right:before{content:"\\e249"}.glyphicon-triangle-right:before{content:"\\e250"}.glyphicon-triangle-left:before{content:"\\e251"}.glyphicon-triangle-bottom:before{content:"\\e252"}.glyphicon-triangle-top:before{content:"\\e253"}.glyphicon-console:before{content:"\\e254"}.glyphicon-superscript:before{content:"\\e255"}.glyphicon-subscript:before{content:"\\e256"}.glyphicon-menu-left:before{content:"\\e257"}.glyphicon-menu-right:before{content:"\\e258"}.glyphicon-menu-down:before{content:"\\e259"}.glyphicon-menu-up:before{content:"\\e260"}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}:before,:after{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}\n                        </style>\n                        `),X?X=!0:await O();if(ze((function(){O(!0)})),chat_manager.init(nomo_global.$GLOBAL_IFRAME_DOCUMENT),R(),ADD_config.chat_scroll)nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("div.latest_chat").css("margin",0).css("padding",0).css("height","0").css("border","0").css("overflow","hidden");at(),it()}})),nomo_global.$GLOBAL_IFRAME_DOCUMENT.on("DOMNodeInserted","div#popupWrap",(function(){if(ADD_config.chat_image_preview&&ADD_config.chat_image_mouseover_prevent){var t=$(this).find("img");1==t.length&&"200px"==t.parent().css("width")&&t.parent().remove()}})),nomo_global.$GLOBAL_IFRAME_DOCUMENT.on("DOMNodeInserted","div.line",(function(){var n=$(this);n.hasClass("fired")||async function(n){if(n.addClass("fired"),0!==n.closest("div.latest_chat_content").length)return;var o=et(),i=!1;if(n.hasClass("system")){if(-1!=n.html().indexOf("서버 연결 끊김")){W("채팅 중지 됨!!!");var r=n.html();n.addClass("ADD_chat_again").prop("title","Dosteam+ System Message").css("cursor","pointer").html(r+"<br /><br />채팅 중지 됨. 채팅을 다시 시작하려면 클릭")}return-1==n.html().indexOf("연결 시도")&&-1==n.html().indexOf("연결 완료")||n.remove(),!0}n.hasClass("myLine")&&(i=!0);var l=n.find(".nick"),c=n.find(".chatContent");if(0===l.length||0===c.length)return W("nick, content elem을 찾을 수 없다",l,c),!1;var d,h=n.find(".nick").attr("nick"),f=n.find(".chatContent").text();ADD_config.chat_unicode_err_replace&&c.html(c.html().replace(/�/g," "));if(void 0===h||""==h||void 0===f)return W("닉네임 또는 채팅 내용 판독 불가","nick",h,"content",f),!1;var p=n.attr("created");d=void 0!==p||null!==p?new Date(1e3*p):new Date;var m=!1;700==c.css("font-weight")&&(m=!0,W("PASS"),ADD_config.chat_sword&&l.prepend(`\n                <img src="${t.ADD_assets_url}icon_sword.png" style="width:16px;height:16px;margin-right:-1px;" />\n            `));if(ADD_config.chat_block&&!m){if(await Q(n,!1,h,f,d,!1,ADD_config.chat_block_contents,ADD_config.chat_block_noti))return!1;if(await Q(n,!1,h,f,d,ADD_config.chat_block_nickname,!1,ADD_config.chat_block_noti))return!1}if(void 0!==chat_manager&&!m){if(chat_manager.getIsBlock(h)){var g=chat_manager.getIsShowDelMsg(h);if(await Q(n,!0,h,f,d,!1,!1,g))return!1}}ADD_config.chat_adb;if(ADD_config.chat_dobae_block&&!i&&(!ADD_config.chat_dobae_onlylink||ADD_config.chat_dobae_onlylink&&c.find("a").length>0)){var b,v,_=Number(d),y="",k=0;if(void 0===chatlog_local[h])chatlog_local[h]={},chatlog_local[h].value=[];else for(var w=chatlog_local[h].value,x=w.length-1;x>=0;x--){if(_-w[x].createdDate>1e3*ADD_config.chat_dobae_timelimit){w.splice(0,x+1),chatlog_local[h].value=w;break}var D=w[x].content;(v=We(D,f))>=ADD_config.chat_dobae_judge&&(k+=1,y=D,b=v)}if(chatlog_local[h].value.length>=ADD_config.chat_dobae_repeat+10&&chatlog_local[h].value.shift(),chatlog_local[h].value.push({content:f,createdDate:_}),k+1>=ADD_config.chat_dobae_repeat){if(ADD_config.chat_dobae_block_record){var A=await Ie.getVal("ADD_Blocked_Chat",[]);A.length>=ADD_config.chat_block_log_limit&&A.shift();var T=ADD_config.chat_block_log_letter_limit;($.isNumeric(T)||T<0)&&(T=40),A.push({created:Number(d),nick:h,content:"[도배] "+f.substr(0,T)}),await Ie.setVal("ADD_Blocked_Chat",A)}return W("도배 차단됨, ["+y+"], ["+f+"] :"+b),n.remove(),void(ADD_config.chat_dobae_block_autoban&&k+1>=ADD_config.chat_dobae_block_autoban_repeat&&(ADD_config.chat_dobae_block_onlylink?c.find("a").length>0&&(st("[도배 유저 자동 차단] 닉네임: "+Xe(h)+"<br />마지막 채팅: "+Xe(f)),chat_manager.simpleBlock(h,f)):(st("[도배 유저 자동 차단] 닉네임: "+Xe(h)+"<br />마지막 채팅: "+Xe(f)),chat_manager.simpleBlock(h,f))))}}if(void 0!==chat_manager&&ADD_config.chat_memo&&!ADD_config.broadcaster_mode){var E=chat_manager.indexFromData(h);if(-1!==E){var C,S=chat_manager.getData(E),L=S.display_name,I=S.color;null!=I&&""!==I&&n.find("span.nick").addClass("colorized").css("color",I),void 0!==L&&(C=""===L?"*":"["+[L]+"]",n.find("span.nick").after('<span class="conversation_memo" style="color:red;font-weight:700;vertical-align:inherit;display:-webkit-inline-box"> '+C+"</span>"),o&&tt())}chat_manager.updateModifiedDate(h)}var O="";if((!ADD_config.broadcaster_mode&&ADD_config.chat_nick_colorize||ADD_config.broadcaster_mode)&&!n.find("span.nick").hasClass("colorized")){var F=Ve.random(h);if(ADD_config.broadcaster_mode){var R=ADD_config.broadcaster_bg_color.replace(/\s/g,"").toLowerCase();-1!==$.inArray(R,["blue","rgb(0,0,255)","#0000ff"])?R="blue":-1!==$.inArray(R,["green","rgb(0,255,0)","#00ff00"])&&(R="green"),-1===F.name.indexOf(R)&&-1===$.inArray(F.name,["mediumturquoise","indigo","olive"])||(F.rgb="pink",F.name=F.name+"_pink_replaced")}n.find("span.nick").addClass("colorized").css("color",F.rgb).attr("colorzied",F.name),O=F.rgb}ADD_config.chat_autoKeyword&&!ADD_config.broadcaster_mode&&(nomo_global.latestList||(nomo_global.latestList=[]),setTimeout((function(){try{for(var t=0,n=!0;t<10&&n;){n=!1,c.find("*").andSelf().contents().filter((function(){return 3===this.nodeType&&!$(this).parent("a").length&&!$(this).hasClass("keyword_pass")&&!$(this).parent().hasClass("keyword_pass")})).each((function(o,i){var r=$(i).text();if(ADD_config.chat_autoKeyword_startwith){for(var l=r.split(" "),c=0;c<l.length;c++)for(var d=0;d<s.length;d++){var u=l[c],h=a[d][0],f=u.match(s[d]);if(null!==f){if("던"!==f[1]&&!ADD_config.chat_autoKeyword_1char&&1===f[1].length)continue;let t=!1,n="";if(ADD_config.chat_chzzk_onlyLive||void 0===e.data.twitch[h].cc||(t=!0,n=e.data.twitch[h].cc),!t)for(let n in nomo_global.latestList){let a=nomo_global.latestList[n],o=a.url.split("/").pop();if("chzzk"===a.from&&o===e.data.twitch[h].cc){t=!0;break}}l[c]=t?l[c].replace(f[1],`<a href='https://www.dostream.com/#/stream/chzzk/${n}' class='topClick${ADD_config.chat_autoKeyword_emstyle?" chzzk autokeyword":""}'>${f[1]}</a>`):l[c].replace(f[1],`<a href='https://www.dostream.com/#/stream/twitch/${h}' class='topClick${ADD_config.chat_autoKeyword_emstyle?" twitch autokeyword":""}'>${f[1]}</a>`);break}}r=l.join(" "),$(i).replaceWith(r),$(i).addClass("keyword_pass"),n=!1}else $.each(a,(function(a,o){for(var s=o[0],l=1;l<o.length;l++){var c=o[l];if(("던"===c||ADD_config.chat_autoKeyword_1char||1!==c.length)&&-1!==r.indexOf(c)){let a=!1,o="";if(ADD_config.chat_chzzk_onlyLive||void 0===e.data.twitch[s].cc||(a=!0,o=e.data.twitch[s].cc),!a)for(let t in nomo_global.latestList){let n=nomo_global.latestList[t],o=n.url.split("/").pop();if("chzzk"===n.from&&o===e.data.twitch[s].cc){a=!0;break}}r=a?r.split(c).join(`<a href='https://www.dostream.com/#/stream/chzzk/${o}' class='chzzk topClick${ADD_config.chat_autoKeyword_emstyle?" autokeyword":""}'>${c}</a>`):r.split(c).join(`<a href='https://www.dostream.com/#/stream/twitch/${s}' class='twitch topClick${ADD_config.chat_autoKeyword_emstyle?" autokeyword":""}'>${c}</a>`),$(i).replaceWith(r),t+=1,n=!0;break}}if(n)return!1}));if(n)return!1;$(i).addClass("keyword_pass")}))}}catch(t){W("키워드 링크 추가 중 에러",t)}}),1));var M=[],N=n.find("a"),B=[];0!==N.length&&N.each((function(t){var e=$(N[t]),n=e.attr("href");B[t]=Xe(n),ADD_config.url_self&&-1!==n.toLowerCase().indexOf("dostream.com/#/stream/")&&e.addClass("topClick"),ADD_config.chat_url_decode&&e.html(decodeURIComponent(e.html()));const a=/^https?:\/\/(?:www\.|play.|)(twitch|afreeca)(?:\.tv|tv\.com)\/([a-zA-Z0-9-_]+)/i,i=/^https?:\/\/.+\.m3u8/i,r=/^https:\/\/game\.naver\.com\/esports\/([a-zA-Z0-9가-힣-_!@#$%^&*]+)\/live\/([a-zA-Z0-9가-힣-_!@#$%^&*]+)/i;var s=null;if(ADD_config.chat_auto_coor_twitch_afreeca&&(s=n.match(a)),ADD_config.chat_auto_coor_twitch_afreeca&&null!==s&&void 0!==s[2])e.after(`<a href="https://www.dostream.com/#/stream/${s[1]}/${s[2]}" target="_blank" class="topClick" style="display:inline-block;margin-left:0px;font-weight:700;vertical-align:baseline;">[${u(s[2])}]</a>`),o&&tt();else if(-1!==n.toLowerCase().indexOf("dostream.com/#/stream/twitch/")||-1!==n.toLowerCase().indexOf("dostream.com/#/stream/multitwitch/")){for(var l="",c=n.split("/").pop().split("&"),d=0;d<c.length;d++){0!==d&&(l+="&"),l+=u(c[d])}void 0===l&&""===l||e.append(' <span class="keyword_pass" class="ch_text" style="font-weight:700;vertical-align:baseline;">['+l+"]</span>"),o&&tt()}else if(-1==n.indexOf("dostream.com/#/stream/m3u8")&&i.test(n)){let t=` <a href="https://www.dostream.com/#/stream/m3u8/${n}" target="_top" class="topClick" style="display:inline-block;margin-left:0px;font-weight:700;vertical-align:baseline;">[M3U8 PLAYER]</a>`;ADD_config.m3u8_potplayer_link&&(t+=` <a href="potplayer://${n}" target="_top" class="topClick" style="display:inline-block;margin-left:0px;font-weight:700;vertical-align:baseline;">[Potplayer]</a>`),e.after(t),o&&tt()}else-1==n.indexOf("dostream.com/#/stream/nesports")&&r.test(n)&&(e.after(` <a href="https://www.dostream.com/#/stream/nesports/${n}" target="_blank" class="topClick" style="display:inline-block;margin-left:0px;font-weight:700;vertical-align:baseline;">[M3U8 PLAYER]</a>`),o&&tt())}));if(ADD_config.broadcaster_mode){var P="twitch"===ADD_config.broadcater_theme?l.html():l.html().replace(":","");ADD_config.broadcaster_nick_hide&&(P=P.substring(0,4)+"****"+("twitch"===ADD_config.broadcater_theme?":":"")),l.html(P)}var j=!1;if(ADD_config.chat_image_preview&&0!==B.length&&!ADD_config.broadcaster_mode){for(var z=0;z<B.length;z++){var G="",U="",q=B[z];if(W("a arc : ",q,q.length),null==q||""==q)return!0;if(q.match(/\.(jpg|jpeg|png|gif)$/gi)&&(G=q),""!==G){W("이미지 발견",G);var V={link:G,title:U};M.push(V)}}0!==M.length&&(j=!0,J(n,M))}if(!j&&ADD_config.chat_image_preview&&!ADD_config.broadcaster_mode&&ADD_config.chat_image_youtube_thumb&&0!==B.length&&0===M.length&&-1===B[0].indexOf("dostream.com/#/stream/")){var K=B[0].match(/^.*(?:youtu\.?be(?:\.com)?\/)(?:embed\/)?(?:(?:(?:(?:watch\?)?(?:time_continue=(?:[0-9]+))?.+v=)?([a-zA-Z0-9_-]+))(?:\?t\=(?:[0-9a-zA-Z]+))?)/);if(K){j=!0;var Y=K.pop(),X="https://www.youtube.com/watch?v="+Y,Z=B[0].match(/t=\d+/);Z=Z?Z[0].split("=").pop():void 0,$.getJSON("https://noembed.com/embed",{format:"json",url:X},(function(t){W("youtube getJSON",Y,t);var e=[],a={type:"youtube",id:Y,link:t.thumbnail_url,title:(void 0!==t.title?t.title:"")+(void 0!==t.author_name?" - "+t.author_name:""),width:t.thumbnail_width,height:t.thumbnail_height};void 0!==Z&&(a.start_time=Z),e.push(a),W("temp_img_obj",a),J(n,e)}))}}if(!j&&ADD_config.chat_image_preview&&!ADD_config.broadcaster_mode&&ADD_config.gfycat_preview&&0!==B.length&&0===M.length&&B[0].match(/(?:http:|https:|)(?:\/\/|)(?:gfycat\.com\/(?:\w*\/)*)(\w+$)/)){j=!0;var nt=q.match(/(?:http:|https:|)(?:\/\/|)(?:gfycat\.com\/(?:\w*\/)*)(\w+$)/).pop();-1!==nt.indexOf("/")||-1!==nt.indexOf("?")||-1!==nt.indexOf(".")?(W("gfycat_id error",B[0].match(/(?:http:|https:|)(?:\/\/|)(?:gfycat\.com\/(?:\w*\/)*)(\w+$)/)),j=!1):(W("Gfycat API 호출 - id:",nt),$.ajax({url:"https://api.gfycat.com/v1test/gfycats/"+nt,type:"GET",success:function(t){W("Gfycat API API 호출 완료",t);var e=t.gfyItem.gfyName,a=t.gfyItem.width,o=t.gfyItem.height,i=Math.min(1,ADD_config.chat_image_max_width/a,ADD_config.chat_image_max_height/o),r=a*i,s=o*i+44,l="\n                            <div style='position:relative; margin:0 auto; width:"+r+"px;\n                                height:"+s+"px;'>\n                                <iframe src='https://gfycat.com/ifr/"+e+("?autoplay="+(ADD_config.chat_video_autoplay?"1":"0"))+"' frameborder='0' scrolling='no' width='100%' height='100%' style='position:absolute;top:0;left:0;' allowfullscreen></iframe>\n                            </div>\n                        ",c=[],d={type:"gfycat",link:"",title:t.gfyItem.title+" - "+(void 0!==t.gfyItem.userDisplayName?t.gfyItem.userDisplayName:t.gfyItem.userName),html:l,width:r,height:s,views:t.gfyItem.views};c.push(d),W(d),J(n,c),t=null},error:function(t){W("Gfycat API - Request failed",t);var e=[],a={link:"",title:"",html:"\n                            <div style='position:relative; margin:0 auto; padding-bottom:calc(56.25% + 44px); margin-top:3px;'>\n                                <iframe src='https://gfycat.com/ifr/"+nt+"' frameborder='0' scrolling='no' width='100%' height='100%' style='position:absolute;top:0;left:0;' allowfullscreen></iframe>\n                            </div>\n                        "};e.push(a),W(a),J(n,e)}}))}if(!j&&ADD_config.chat_image_preview&&!ADD_config.broadcaster_mode&&ADD_config.chat_image_twitch_thumb&&0!==B.length&&0===M.length&&B[0].match(/(\.twitch\.tv\/\w*\/clip\/|clips\.twitch\.tv\/(embed\?clip=)?)([a-zA-Z0-9-_]*)/)){var at=B[0].match(/(\.twitch\.tv\/\w*\/clip\/|clips\.twitch\.tv\/(embed\?clip=)?)([a-zA-Z0-9-_]*)/);if(at){j=!0;var it=at.pop();W("Twitch Clip API 호출 - id:",it);var rt=await H("clips?id="+it),lt=rt.data;if(200===rt.status){W("Twitch Clip API 호출 완료 by Twitch Helix API",rt);try{var ct=lt.data[0],dt=ct.thumbnail_url,ut=(void 0!==ct.title?ct.title:"")+(void 0!==ct.broadcaster_name?" - "+ct.broadcaster_name:""),ht=[],ft={type:"twitch_clip",id:it,link:dt,title:""+ut,width:480,height:272,views:ct.view_count};ht.push(ft),J(n,ht),rt=null}catch(t){W("Twitch Clip API 호출 후 처리 중 error",t)}}else 401===rt.status?J(n,[{type:"twitch_clip",id:it,link:t.ADD_assets_url+"bg_nothumb_black.png",title:"제목을 알 수 없는 Twitch 클립",width:480,height:272,views:0}]):429===rt.status?st("Twitch Clip 섬네일 이미지를 가져오던 중 오류가 발생했습니다. Twitch API 과부하로 추정됩니다. Error:"+JSON.stringify(lt)):W("Twitch Clip API 호출 후 알 수 없는 response.status",rt)}}if(!j&&ADD_config.chat_image_preview&&!ADD_config.broadcaster_mode&&ADD_config.imgur_preview&&0!==B.length&&0===M.length){var pt,mt,gt,bt=/https?:\/\/(\w+\.)?imgur.com\/(a\/|gallery\/)?(\w*)+(\.[a-zA-Z]{3})?/;if(null!==(gt=B[0].match(bt))&&"undefined"!==(pt=gt[3])){switch(gt[2]){case void 0:mt=0;break;case"a/":mt=1;break;case"gallery/":mt=2;break;default:mt=10}j=!0,W("ADD_imgur_id = "+pt+"  ADD_imgur_type = "+mt),ot(n,pt,mt)}}ADD_config.chat_scroll&&tt();nomo_global.DEBUG&&void 0!==unsafeWindow.$&&"function"==typeof unsafeWindow.$&&unsafeWindow.$(document).trigger("chat_line",{id:h,nick:h,content:f,color:O,me:i,date:d});nomo_global.chatting_arrive_check=!0}(n)})),nomo_global.$GLOBAL_IFRAME_DOCUMENT.on("DOMNodeInserted","div.userFloor",(function(){var t=$(this);setTimeout((function(){if(!t.hasClass("fired")){t.addClass("fired");var e=t.attr("nick");if(void 0!==chat_manager&&ADD_config.chat_memo){var n=chat_manager.indexFromData(e);if(-1!==n){var a,o=chat_manager.getData(n).display_name;void 0!==o&&(a=""===o?"*":"["+[o]+"]",chat_manager.getIsBlock(e)&&(a+=" - 차단됨"),t.append('<span class="conversation_memo" style="color:red;font-weight:700;vertical-align:inherit;display:-webkit-inline-box">&nbsp'+a+"</span>"),ADD_config.chat_userlist_memo_top&&(t.prependTo(t.closest("div.member-list")),W("temp_display_name",o)))}}}}),1)})),nomo_global.$GLOBAL_IFRAME_DOCUMENT.on("click",".topClick",(function(t){W("TOP CLICKED"),t.preventDefault(),W("PARENT WINDOW LOCATION HREF",parent.window.location.href),window.parent.location.href=this.href})),nomo_global.$GLOBAL_IFRAME_DOCUMENT.on("click",".OpenTwitchAuth",(function(t){t.preventDefault();var e=$(parent.window).width(),n=$(parent.window).height(),a=e>850?850:e/5*4;parent.window.open("https://www.dostream.com/addostream/twitch/auth/","winname","directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width="+a+",height="+n/5*4)})),nomo_global.$GLOBAL_IFRAME_DOCUMENT.on("click","span.nick, div.nick",(function(){if(!ADD_config.chat_memo)return nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("#do_memo").remove(),void nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("#memo_isSavedMemo").hide();var t=$(this),e=nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("div.content").first()[0].offsetHeight,n=nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("#popupWrap"),a=Number(n.css("top").replace("px","")),o=a+(Number(n.css("height").replace("px",""))+33)-e-56;o>0&&n.css("top",a-o+"px");var i={nick:t.attr("nick"),detail_content:t.hasClass("userFloor")?"":t.closest("div.line").find("span.chatContent").text().substr(0,40)},r=$('<div id="do_memo" class="floor" style="color:red;font-weight:700;">메모하기</div>');nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(".usermenu_popup").first().append(r),r.on("click",(async function(){await chat_manager.openSimplelayout(i)}))})),nomo_global.$GLOBAL_IFRAME_DOCUMENT.on("click",".imgur_safe_button",(function(){$(this).closest(".imgur_container").removeClass("blurred"),$(this).parent(".imgur_safe_screen").addClass("clicked").fadeOut(300)})),nomo_global.$GLOBAL_IFRAME_DOCUMENT.on("click",".imgur_control_hide",(function(){W("Chatting 내 호출된 imgur 이미지 에서 - 버튼 클릭됨"),$(this).closest(".imgur_container").addClass("blurred");var t=$(this).closest(".imgur_container").find(".imgur_safe_screen");if(t.hasClass("clicked")){var e=Number(ADD_config.imgur_preview_opacity);$.isNumeric(ADD_config.imgur_preview_opacity)?(e<0||e>1)&&(e=.93):e=.93,t.removeClass("clicked").fadeTo(300,e)}else t.addClass("clicked").fadeOut(300)})),nomo_global.$GLOBAL_IFRAME_DOCUMENT.on("click",".imgur_control_remove",(function(){W("Chatting 내 호출된 imgur 이미지 에서 x 버튼 클릭됨"),$(this).closest(".imgur_container").remove()})),ADD_config.chat_input_click&&nomo_global.$GLOBAL_IFRAME_DOCUMENT.on("click",".chatInput",(function(t){$(t.target).blur(),$(t.target).focus()})),ADD_config.chat_scroll&&(W("CHAT - Scroll 이벤트 ON"),nomo_global.$GLOBAL_IFRAME_DOCUMENT.on("wheel.chatScrollFunc mousewheel.chatScrollFunc","div.content",(function(t){var e=-1;if("mousewheel"==t.type?e=t.originalEvent.wheelDelta:"wheel"!=t.type&&"scroll"!=t.type||(e=-1*t.originalEvent.deltaY),e>=0){if($(this).get(0).scrollHeight>$(this).innerHeight()){var a="";if(void 0!==n.contentWindow&&void 0!==n.contentWindow.rooms&&(a=void 0!==n.contentWindow.rooms.dostest?"dostest":void 0!==n.contentWindow.rooms.dostream?"dostream":Object.keys(n.contentWindow.rooms)[0]),void 0!==a&&""!==a&&null!==a){if(n.contentWindow.rooms[a].room.setting.data["option.autoScroll"]=0,n.contentWindow.rooms[a].room.log.temp_scroll_stop=0,0===nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(".latest_chat_new_container").length){var o=$('\n                                    <div class="latest_chat_new_container" style="display:none;">\n                                        <div class="latest_chat_new" style="background:rgba(0,0,0,.75);bottom:30px;color:#faf9fa;padding:5px;height:28px;font-size:12px;position:fixed;justify-content:center;align-items:center;text-align:center;width:100%;box-sizing:border-box;z-index:1000;cursor:pointer;border-radius:4px;">\n                                            <span>아래에서 더 많은 메시지를 확인하세요.</span>\n                                        </div>\n                                    </div>\n                                    ');nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("div.wrap").first().append(o),o.on("click",(function(){nomo_global.isGoScrollDown=!0,tt(),$(this).hide()}))}nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(".latest_chat_new_container").stop("true","true").show(),nomo_global.isGoScrollDown=!1,nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(".latest_chat").stop("true","true").show()}else W("에러!! iframeElems.contentWindow.rooms",n.contentWindow.rooms)}}else et()&&(nomo_global.isGoScrollDown=!0,nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(".latest_chat_new_container").stop("true","true").hide()),$(this)[0].scrollHeight-$(this)[0].scrollTop-$(this).height()<=ADD_config.chat_scroll_down_min&&(nomo_global.isGoScrollDown=!0,tt(),nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(".latest_chat_new_container").stop("true","true").hide())})))):W("의미를 알 수 없는 iframe 이므로 리턴",$(n).attr("src"))}))))}function J(t,e){var n,a,o=e.length,i="",r="";ADD_config.nudity_block;if(void 0===t||void 0===e||0===o)return W("chatImagelayoutfromLinks - 이미지 오브젝트가 존재하지 않음",e),!1;var s=$('\n        <div class="imgur_container">\n            <div class="imgur_safe_screen" style="display:none;">\n                <span class="imgur_safe_button btn btn-default align-middle" style="display:none;">View image</span>\n            </div>\n            <div class="imgur_control_button ADD_tr">\n                <span class="imgur_image_title">'+(void 0!==e[0].title&&null!==e[0].title?""+e[0].title:"")+'</span>\n                <span class="imgur_control_hide glyphicon glyphicon-minus-sign" style="display:none;">\n                </span>\n                <span class="imgur_control_remove glyphicon glyphicon-remove-sign" style="">\n                </span>\n            </div>\n            <div class="simple_image_container">\n                <div class="viewers" style="display:none;"><span>👁 </span></div>\n                <div class="simple_image"></div>\n            </div>\n            <div class="imgur_more_images" style="display:none;"></div>\n            <div class="imgur_control_button ADD_br">\n                <span class="videoType" style="display:none"></span>\n                <span class="imgur_more_images_button" style="opacity:0.0"></span>\n                <span class="imgur_control_hide glyphicon glyphicon-minus-sign" style="display:none;">\n                </span>\n                <span class="imgur_control_remove glyphicon glyphicon-remove-sign" style="">\n                </span>\n            </div>\n        </div>');if(s.css("max-width",ADD_config.chat_image_max_width+"px"),void 0!==e[0]&&"gfycat"!==e[0].type&&void 0!==e[0].width&&void 0!==e[0].height){var l=e[0].width,c=e[0].height,d=Math.min(1,ADD_config.chat_image_max_width/l,ADD_config.chat_image_max_height/c),u=l*d,h=c*d;s.find(".simple_image").css("width",u+"px").css("height",h+"px"),W("width",l,"height",c,"max_ratio",d,u,h)}else void 0!==e[0]&&(W("이미지의 width, height 데이터가 없다"),s.find(".simple_image").addClass("whauto"));if(void 0!==e[0].views&&null!==e[0].views&&$.isNumeric(e[0].views)?(i=e[0].views>=1e3?(Number(e[0].views)/1e3).toFixed(1)+"k":""+e[0].views,r=""):(i="",r="display:none;"),s.find(".viewers").attr("style",r).find("span").append(i),o>1){var f=o,p=o-1+"개의 이미지를 클릭하여 추가 로드";for(o>V+1&&(f=V+1,p=o-1+"개 중 "+V+"개의 이미지를 클릭하여 추가 로드"),n=1;n<f;n++){var m="auto",g="auto";if(void 0!==e[n]&&void 0!==e[n].width&&void 0!==e[n].height){var b=e[n].width,v=e[n].height,_=Math.min(1,ADD_config.chat_image_max_width/b,ADD_config.chat_image_max_height/v);W("width",b,"height",v,"max_ratio",_,m=b*_,g=v*_)}void 0!==e[n].views&&null!==e[n].views&&$.isNumeric(e[n].views)?(i=e[n].views>=1e3?(Number(e[n].views)/1e3).toFixed(1)+"k":""+e[n].views,r=""):(i="",r="display:none;"),s.find(".imgur_more_images").append("\n                <div class='ADD_tr'>\n                    <div class='imgur_image_title'>"+(void 0!==e[n].title&&null!==e[n].title?""+e[n].title:"")+'</div>\n                </div>\n                <div class=\'imgur_more_image_div_container\'>\n                    <div class="viewers" style="'+r+'">\n                        <span>👁 '+i+"</span>\n                    </div>\n                    <div class='imgur_more_image_div' imagehref=\""+e[n].link+"\"\n                    style='\n                        max-width:"+ADD_config.chat_image_max_width+"px;\n                        max-height:"+ADD_config.chat_image_max_height+"px;\n                        width:"+m+"px;\n                        height:"+g+"px;'>\n                    </div>\n                </div>\n                ")}s.find(".imgur_more_images_button").css("opacity","1.0").css("cursor","pointer").html(p).one("click",(function(){var t=et(),e=s.find("div.imgur_more_images");e.find(".imgur_more_image_div").each((function(){nt($(this).attr("imagehref"))?$(this).html('<video loop controls autoplay muted src="'+$(this).attr("imagehref")+'" class="imgur_image_in_chat open-lightbox"></video>').find("video").on("load",(function(){t&&(W("Imgur 비디오 추가 로드 완료됨"),tt())})):$(this).html('<img src="'+$(this).attr("imagehref")+'" class="imgur_image_in_chat open-lightbox" style="" />').find("img").on("load",(function(){t&&(W("Imgur 이미지 추가 로드 완료됨"),tt())}))})),e.show(),$(this).html("")}))}if(ADD_config.imgur_preview_safe&&"youtube"!==e[0].type&&"twitch_clip"!==e[0].type||ADD_config.imgur_preview_safe&&(ADD_config.chat_image_youtube_thumb&&!ADD_config.chat_image_youtube_thumb_nonsafe&&"youtube"===e[0].type||ADD_config.chat_image_twitch_thumb&&!ADD_config.chat_image_twitch_thumb_nonsafe&&"twitch_clip"===e[0].type)){var y=Number(ADD_config.imgur_preview_opacity);(!$.isNumeric(ADD_config.imgur_preview_opacity)||y<0||y>1)&&(y=.93),s.find(".imgur_safe_screen").css("opacity",y).css("display","inline-flex"),s.find(".imgur_control_hide").css("display","inline-flex"),s.find(".imgur_safe_button").css("display","inline-block"),s.addClass("blurred")}et()&&tt();var k=et();if(W(e,e[0].html),void 0!==e[0].html)a=$(e[0].html);else if(nt(e[0].link)){var w="";ADD_config.chat_video_autoplay&&(w="autoplay"),a=$('<video type="video/mp4" loop controls muted '+w+' src="'+e[0].link+'" class="imgur_image_in_chat open-lightbox" style="max-width:'+ADD_config.chat_image_max_width+"px !important;max-height:"+ADD_config.chat_image_max_height+'px !important;"></video>')}else{var x=ADD_config.chat_image_max_height+"px !important;";"youtube"===e[0].type&&(x=`calc(${ADD_config.chat_image_max_width}px / 16 * 9) !important; object-fit: cover;`),a=$("\n            <img src="+e[0].link+' class="imgur_image_in_chat open-lightbox" style="cursor:pointer;max-width:'+ADD_config.chat_image_max_width+"px !important;max-height:"+x+'" />\n        ')}if("youtube"===e[0].type||"twitch_clip"===e[0].type){var D=$('\n        <div class="play_container">\n            <div class="play_button">\n            </div>\n        </div>\n        ');D.addClass("youtube").attr("image_type",e[0].type).attr("image_id",e[0].id),D.hover((function(){$(this).addClass("hover")}),(function(){$(this).removeClass("hover")})),s.find("div.simple_image").append(D),s.find(".open-lightbox").removeClass(".open-lightbox");var A="";"youtube"===e[0].type?(A="[Youtube]",s.find("div.simple_image").height(ADD_config.chat_image_max_width/16*9)):"twitch_clip"===e[0].type&&(A="[Twitch]"),s.find(".videoType").css("display","inline-block").text(A),D.one("click",(function(){var t,n=!1;if("youtube"===e[0].type?(t=$('\n                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/'+e[0].id+`?rel=0&autoplay=1${void 0!==e[0].start_time?"&start="+e[0].start_time:""}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n                `),$(this).closest("div").empty().append(t),n=!0):"twitch_clip"===e[0].type&&(t=$('\n                    <iframe src="https://clips.twitch.tv/embed?clip='+e[0].id+'&muted=false&autoplay=true&parent=www.dostream.com" autoplay; frameborder="0" allowfullscreen="true" height="100%" width="100%"></iframe>\n                '),$(this).closest("div.imgur_container").find("div.viewers").hide(),$(this).closest("div").empty().append(t),n=!0),W(ADD_config.chat_video_play_top_fix,n),ADD_config.chat_video_play_top_fix&&n){var a=$(this).closest("div.content"),o=$(this).closest("div.line");0===a.length&&(a=$(this).closest("#uha_chat_msgs")),0===o.length&&(o=$(this).closest("li")),a.find(".chat_video_play_top_fix").removeClass("chat_video_play_top_fix").find("div.imgur_container").remove(),o.addClass("chat_video_play_top_fix")}}))}var T=function(){t.append(s),t.find("div.simple_image").append(a),k&&(W("이미지 로드 완료됨"),tt())};void 0!==e[0].html||nt(e[0].link)||void 0!==a.complete&&a.complete?T():$(a).one("load",(function(){T()}))}async function Q(t,e,n,a,o,i,r,s){var l=e;if(!l){var c;if(i)c=n;else{if(!r)return!1;c=a}for(var d=ADD_config.chat_block_tag,u=0;u<d.length;u++)if(""!==d[u]&&" "!==d[u]&&-1!==c.indexOf(d[u])){l=!0;break}}if(l){if(ADD_config.chat_block_record){var h=await Ie.getVal("ADD_Blocked_Chat",[]);h.length>=ADD_config.chat_block_log_limit&&h.shift();var f=ADD_config.chat_block_log_letter_limit;($.isNumeric(f)||f<0)&&(f=40);var p={created:Number(o),nick:n,content:a.substr(0,f)};h.push(p),await Ie.setVal("ADD_Blocked_Chat",h)}if(W("채팅 차단 완료",p),s){t.html('<div style="text-align:center;color:#aaa;">&ltmessage deleted&gt</div>');var m=t.closest("div.line");0!==m.length&&void 0!==m.attr("data-tiptext")&&null!==m.attr("data-tiptext")&&m.attr("data-tiptext",n+": "+a+" - {ago}")}else t.remove();return void 0!==chat_manager&&void 0!==n&&""!==n&&chat_manager.updateModifiedDate(n),!0}return!1}function tt(){if(void 0===nomo_global.GLOBAL_CHAT_IFRAME&&$("#uha_chat_msgs").length>0){var t=$("#uha_chat_msgs");t.scrollTop(t.prop("scrollHeight"))}else{var e="";void 0!==nomo_global.GLOBAL_CHAT_IFRAME.contentWindow&&void 0!==nomo_global.GLOBAL_CHAT_IFRAME.contentWindow.rooms&&(e=void 0!==nomo_global.GLOBAL_CHAT_IFRAME.contentWindow.rooms.dostest?"dostest":void 0!==nomo_global.GLOBAL_CHAT_IFRAME.contentWindow.rooms.dostream?"dostream":Object.keys(nomo_global.GLOBAL_CHAT_IFRAME.contentWindow.rooms)[0]),nomo_global.isGoScrollDown&&void 0!==e&&""!==e&&null!==e&&void 0!==nomo_global.GLOBAL_CHAT_CONTENT_DIV&&0!==nomo_global.GLOBAL_CHAT_CONTENT_DIV.length&&(nomo_global.GLOBAL_CHAT_IFRAME.contentWindow.rooms[e].room.setting.data["option.autoScroll"]=1,nomo_global.GLOBAL_CHAT_IFRAME.contentWindow.rooms[e].room.log.temp_scroll_stop=0,nomo_global.GLOBAL_CHAT_CONTENT_DIV.scrollTop(nomo_global.GLOBAL_CHAT_CONTENT_DIV[0].scrollHeight))}}function et(){if(ADD_config.chat_scroll)return nomo_global.isGoScrollDown;var t=nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(".latest_chat");return(0===t.length||!t.is(":visible"))&&(0!==t.length&&!t.is(":visible")||(W("현재 스크롤은 알 수 없음 상태이므로 정지 상태로 가정",t.length),!1))}function nt(t){return void 0!==t&&(-1!==t.indexOf(".mp4")||-1!==t.indexOf(".gifv")||-1!==t.indexOf(".flv")||-1!==t.indexOf(".webm"))}function at(){ADD_config.chat_tooltip_hide?nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("body").addClass("tooltip_hide"):nomo_global.$GLOBAL_IFRAME_DOCUMENT.find("body").removeClass("tooltip_hide")}function ot(t,e,n){var a="https://api.imgur.com/3/",o=[],i="";switch(n){case 0:i="image",a=a+"image/"+e;break;case 1:i="album",a=a+"album/"+e+"/images";break;case 2:i="gallery",a=a+"gallery/"+e;break;case 10:return!1}W(i,"  imgur_api_call_url",a),$.ajax({url:a,type:"GET",dataType:"json",headers:{Authorization:"Client-ID a57c643ca3a51ee"},success:function(e){var n,a=0;W("Imgur api request succeed"),W("response: ",e);var i,r=e.data,s="";if(void 0!==r.images){var l=r.title;for(a=0;a<r.images.length;a++)i=r.images[a],W("type:gallery",i.link),n={link:ADD_config.imgur_preview_gif_as_mp4&&void 0!==r.images.mp4&&null!==r.images.mp4?i.mp4:i.link,title:null!=(s=i.title)?s:null!=l?l:"",width:i.width,height:i.height,views:i.views},o.push(n)}else if(void 0!==r[0])for(a=0;a<r.length;a++)i=r[a],W("type:album",i.link),n={link:ADD_config.imgur_preview_gif_as_mp4&&void 0!==i.mp4&&null!==i.mp4?i.mp4:i.link,title:null!=(s=i.title)?s:"",width:i.width,height:i.height,views:i.views},o.push(n);else W("type:image",r.link),i=r,n={link:ADD_config.imgur_preview_gif_as_mp4&&void 0!==i.mp4&&null!==i.mp4?i.mp4:i.link,title:null!=(s=i.title)?s:"",width:i.width,height:i.height,views:i.views},o.push(n);J(t,o),r=null,e=null},error:function(t){W("Imgur api request failed",t);var e="<br />error:"+Xe(t.responseJSON.data.error);st("Imgur 이미지 로드 중 오류가 발생했습니다."+(" (CODE:"+Xe(t.responseJSON.status)+")")+e)}})}function it(){if(W("chat_type_and_go_main 실행됨",ADD_config.chat_type_and_go),void 0!==nomo_global.$GLOBAL_IFRAME_DOCUMENT)if(ADD_config.chat_type_and_go){if(0!==nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(".chatInput").length&&0===nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(".ADD_type_and_go").length){nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(".chatInput").css("padding-right","35px");var t=$('<div class="ADD_type_and_go" tabindex="-1"><span class="glyphicon glyphicon-arrow-right"></span></div>');t.on("keydown",(function(t){t.preventDefault(),t.shiftKey&&9==t.keyCode?nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(".chatInput").focus():13==t.keyCode&&rt()})).on("click",(function(){rt()})),nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(".inputContent").append(t),nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(".chatInput").on("keydown.type_and_go",(function(t){t.altKey&&71==t.keyCode?rt():9===t.keyCode&&nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(".ADD_type_and_go").focus()}))}}else nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(".ADD_type_and_go").remove(),nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(".chatInput").off("keydown.type_and_go"),nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(".chatInput").css("padding-right","6px")}function rt(){var t,n,a,o;if(""==(n=(t=nomo_global.$GLOBAL_IFRAME_DOCUMENT.find(".chatInput").first()).text()).replace(/\s/g,""))return st("스트리머 아이디 or 닉네임 or 별칭을 입력해주세요."),void t.focus();var i=h(n);a=i.id,o=i.display_name;var r="";null==a&&(r=function(t){var e="rRseEfaqQtTdwWczxvgkoiOjpuPhynbml",n="ㄱㄲㄴㄷㄸㄹㅁㅂㅃㅅㅆㅇㅈㅉㅊㅋㅌㅍㅎㅏㅐㅑㅒㅓㅔㅕㅖㅗㅛㅜㅠㅡㅣ",a="ㄱㄲㄴㄷㄸㄹㅁㅂㅃㅅㅆㅇㅈㅉㅊㅋㅌㅍㅎ",o="ㅏㅐㅑㅒㅓㅔㅕㅖㅗㅘㅙㅚㅛㅜㅝㅞㅟㅠㅡㅢㅣ",i="ㄱㄲㄳㄴㄵㄶㄷㄹㄺㄻㄼㄽㄾㄿㅀㅁㅂㅄㅅㅆㅇㅈㅊㅋㅌㅍㅎ",r="";if(0==t.length)return r;for(var s=-1,l=-1,c=-1,d=0;d<t.length;d++){var u=t.charAt(d),h=e.indexOf(u);if(-1==h)-1!=s?r+=-1!=l?Ke(s,l,c):a.charAt(s):-1!=l?r+=o.charAt(l):-1!=c&&(r+=i.charAt(c)),s=-1,l=-1,c=-1,r+=u;else if(h<19)-1!=l?-1==s?(r+=o.charAt(l),l=-1,s=a.indexOf(n.charAt(h))):-1==c?-1==(c=i.indexOf(n.charAt(h)))&&(r+=Ke(s,l,c),s=a.indexOf(n.charAt(h)),l=-1):0==c&&9==h?c=2:3==c&&12==h?c=4:3==c&&18==h?c=5:7==c&&0==h?c=8:7==c&&6==h?c=9:7==c&&7==h?c=10:7==c&&9==h?c=11:7==c&&16==h?c=12:7==c&&17==h?c=13:7==c&&18==h?c=14:16==c&&9==h?c=17:(r+=Ke(s,l,c),s=a.indexOf(n.charAt(h)),l=-1,c=-1):-1==s?(-1!=c&&(r+=i.charAt(c),c=-1),s=a.indexOf(n.charAt(h))):0==s&&9==h?(s=-1,c=2):2==s&&12==h?(s=-1,c=4):2==s&&18==h?(s=-1,c=5):5==s&&0==h?(s=-1,c=8):5==s&&6==h?(s=-1,c=9):5==s&&7==h?(s=-1,c=10):5==s&&9==h?(s=-1,c=11):5==s&&16==h?(s=-1,c=12):5==s&&17==h?(s=-1,c=13):5==s&&18==h?(s=-1,c=14):7==s&&9==h?(s=-1,c=17):(r+=a.charAt(s),s=a.indexOf(n.charAt(h)));else{var f;if(-1!=c)2==c?(c=0,f=9):4==c?(c=3,f=12):5==c?(c=3,f=18):8==c?(c=7,f=0):9==c?(c=7,f=6):10==c?(c=7,f=7):11==c?(c=7,f=9):12==c?(c=7,f=16):13==c?(c=7,f=17):14==c?(c=7,f=18):17==c?(c=16,f=9):(f=a.indexOf(i.charAt(c)),c=-1),r+=-1!=s?Ke(s,l,c):i.charAt(c),s=f,l=-1,c=-1;-1==l?l=o.indexOf(n.charAt(h)):8==l&&19==h?l=9:8==l&&20==h?l=10:8==l&&32==h?l=11:13==l&&23==h?l=14:13==l&&24==h?l=15:13==l&&32==h?l=16:18==l&&32==h?l=19:(-1!=s?(r+=Ke(s,l,c),s=-1):r+=o.charAt(l),l=-1,r+=n.charAt(h))}}-1!=s?r+=-1!=l?Ke(s,l,c):a.charAt(s):-1!=l?r+=o.charAt(l):-1!=c&&(r+=i.charAt(c));return r}(n),a=(i=h(r)).id,o=i.display_name),null!==a?(void 0!==e.data.twitch[a].cc?(Y("https://www.dostream.com/#/stream/chzzk/"+e.data.twitch[a].cc),st(`다음으로 이동합니다: ${o}(${a}) - Chzzk`)):(Y("https://www.dostream.com/#/stream/twitch/"+a),st(`다음으로 이동합니다: ${o}(${a}) - Twitch`)),t.blur(),t.html(""),t.focus()):(st(`해당하는 스트리머를 찾을 수 없습니다: ${Xe(n)}`),t.focus())}function st(t,e,n){var a="line fired system";null!=n&&(a=1===n?"line fired system":2===n?"line":"line fired system");var o='<div class="'+a+'" title="Dosteam+ System Message"><span class="nick" nick="system"></span><span class="chatContent">'+t+"</span></div>";if(0===e||void 0===e){var i,r=nomo_global.GLOBAL_CHAT_CONTENT_DIV,s=nomo_global.GLOBAL_CHAT_IFRAME;if(void 0!==r&&0!==r.length)je("정상적으로 시스템 메시지 출력 - ",t),(i=r).append(o),void 0!==s&&0!==s.length&&et()&&tt();else if(je("채팅창이 없어서 채팅창이 생성될 때 까지 기다린다. - "+t),0!==$("u-chat > iframe").length)je("SYS-MSG CASE1: 채팅창 iframe 은 있는 경우",$("u-chat > iframe")),$("u-chat > iframe").contents().first().one("DOMNodeInserted","div.contentWrap",(function(){i=$(this).find("div.content"),nomo_global.GLOBAL_CHAT_CONTENT_DIV=i,i.append(o),void 0!==s&&0!==s.length&&et()&&tt(),je("시스템 메시지 출력 - ",t)}));else je("SYS-MSG CASE2: 채팅창 iframe 도 없는 경우"),$(document).one("DOMNodeInserted","u-chat > iframe",(function(){$(this).one("load",(function(){$(this).contents().first().one("DOMNodeInserted","div.line",(function(){i=$(this).parent(),nomo_global.GLOBAL_CHAT_CONTENT_DIV=i,i.append(o),et()&&tt()}))}))}))}else setTimeout((function(){st(t,0)}),e)}function lt(e,n,a){if(nomo_global.PAGE!==t.C_UCHAT)return je("메인 or 스트림에서 메시지 함수 호출 => iframe 내 함수 재호출 함"),void(0!==$(".chat-container > iframe").length&&"function"==typeof $(".chat-container > iframe")[0].contentWindow.ADD_send_sys_msg&&$(".chat-container > iframe")[0].contentWindow.ADD_send_sys_msg(e,n,a))}var ct,dt,ut,ht,ft,pt,mt,gt,bt,vt,_t,yt,kt,wt,xt,Dt,At,Tt,Et,Ct,St,Lt,It,Ot,Ft,Rt,Mt,Nt,Bt,$t,Pt,jt,zt,Gt,Ut,Ht,qt,Wt,Vt,Kt=(Ft={nick:"닉네임",display_name:"",detail_content:"",color:"",modified_date:Number(new Date),isBlock:!1,isShowDelMsg:!1},Rt={nick:"닉네임",display_name:"채팅창에 표시할 내용",detail_content:"상세 내용",color:"#333",modified_date:Number(new Date),isBlock:!1,isShowDelMsg:!1},Mt=[],Nt={},Bt=!1,$t=function(){bt.fadeOut("fast"),It.css("display","none")},Pt=function(){Ot.mousedown((function(){$(this).css("box-shadow","inset 0 3px 5px rgba(0, 0, 0, .150)").css("border","1px solid #666")})).mouseup((function(){$(this).css("box-shadow","none").css("border","1px solid #999")})).mouseover((function(){$(this).css("background-color","#eee")})).mouseleave((function(){$(this).css("background-color","#fff").css("box-shadow","none").css("border","1px solid #999")})),bt.on("click",(function(){$t()})),xt.on("click",(function(){$t()})),vt.on("click",(function(t){t.stopPropagation()})),je("채팅 매니저 이벤트 등록 완료"),kt.on("click",(async function(){await async function(){Vt(),Nt.modified_date=Number(new Date),Ut(Nt),await zt(),Nt.isBlock&&(nomo_global.GLOBAL_CHAT_CONTENT_DIV.find(".line").each((function(t,e){var n=$(e).find(".nick").first().attr("nick"),a=$(e).find(".chatContent").first().html();n===Nt.nick&&(ADD_config.chat_block_noti?$(e).attr("data-tiptext",Xe(n)+": "+Xe(a)+" - {ago}").html('<div style="text-align:center;color:#aaa;">&ltmessage deleted&gt</div>'):$(e).remove())})),ADD_config.sys_meg&&st("[채팅매니저 차단] 닉네임: "+Xe(Nt.nick)))}(),It.fadeOut("fast").html("메모가 저장되었습니다.").fadeIn("fast"),je("메모 저장 이벤트 끝",Mt)})),wt.on("click",(async function(){Vt(),Ht(Nt),await zt(),It.fadeOut("fast").html("메모가 삭제되었습니다.").fadeIn("fast"),je("메모 삭제 이벤트 끝",Mt)})),At.on("click",(function(){var t=$(this);"채팅창에 표시할 내용"==t.val()&&t.val("")}))},jt=async function(){Mt=await Ie.getVal("ADD_chat_manager_data",[])},zt=async function(){await Ie.setVal("ADD_chat_manager_data",Mt)},Gt=function(t){var e="";if("object"==typeof t)e=t.nick;else{if("string"!=typeof t)return-1;e=t}var n=Mt.findIndex((t=>t.nick===e));return n},Ut=function(t){var e=Gt(t);-1===e?Mt.push(t):Mt[e]=t},Ht=function(t){var e=Gt(t);return-1!==e&&(Mt.splice(e,1),!0)},qt=function(t){return Mt.find((e=>e.nick===t))},Wt=function(t){var e=JSON.parse(JSON.stringify(Ft));for(var n in t)e[n]=t[n];return e},Vt=function(){ct=Dt.text(),dt=At.val(),ht=Et.val(),ut=Tt.val(),ft=Ct.val(),pt=St.is(":checked"),mt=Lt.is(":checked"),Nt={nick:Xe(ct),display_name:Xe(dt),detail_content:Xe(ut),color:Xe(ht),modified_date:Xe(ft),isBlock:pt,isShowDelMsg:mt}},{init:function(t){gt=t,async function(){await jt(),yt=$('\n        <div id="memo_simple_layout_container" style="z-index: 100000;background-color:rgba(51,51,51,0.8);cursor:pointer;height:100%;left:0;overflow-y:scroll;padding:0;position:absolute;\n            text-align:center;top: 0;width: 100%;display:none;">\n            <div id="memo_simple_layout" style="width:100%;position:absolute;top:50%;margin-top:-50%;cursor:default;">\n                <div id="memo_simple_layout_content" style="width:300px;margin:0 auto;background-color:rgba(255,255,255,0.87);border:2px solid #555;border-radius:15px;color:#000;box-shadow:0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">\n                    <div style="padding:10px 0 5px 0;font-size:13px;font-weight:700;">\n                        <span id="memo_nick" style="color:red;"></span>\n                        <span style="">에 메모 입력</span>\n                        <span id="memo_isSavedMemo" style="display:none;color:blue;">(새 메모 작성)</span>\n                    </div>\n                    <table style="width:270px;table-layout:fixed;vertical-align:middle;margin:0 15px;"><tbody>\n                        <tr>\n                            <td style="width:70px;font-weight:700;vertical-align:middle;padding:4px 0;border-top:1px solid #aaa;">표시할 별명</td>\n                            <td style="padding:4px 0;border-top:1px solid #aaa;"><input autocomplete="off" id="memo_display_name" placeholder="'+Rt.display_name+'" type="text" style="width:180px;height:20px;padding:1px 0 1px 3px;border:1px solid #aaa;" value=""/></td>\n                        </tr>\n                        <tr class="ADD_under_dev" style="display:none;">\n                            <td style="width:70px;font-weight:700;vertical-align:middle;padding:4px 0;border-top:1px solid #aaa;">상세 내용<br />(기록용)</td>\n                            <td style="padding:4px 0;border-top:1px solid #aaa;"><textarea id="memo_detail_content" placeholder="'+Rt.detail_content+'" style="width:180px;height:80px;padding:1px 0 1px 3px;border:1px solid #aaa;" value=""></textarea></td>\n                        </tr>\n                        <tr style="display:none;">\n                            <td style="width:70px;font-weight:700;vertical-align:middle;padding:4px 0;border-top:1px solid #aaa;">수정한 날짜</td>\n                            <td style="padding:4px 0;border-top:1px solid #aaa;""><input autocomplete="off" id="memo_modified_date" type="text" style="width:180px;height:20px;padding:1px 0 1px 3px;border:1px solid #aaa;" value=""/></td>\n                        </tr>\n                        <tr class="ADD_under_dev" style="display:none;">\n                            <td style="width:70px;font-weight:700;vertical-align:middle;padding:4px 0;border-top:1px solid #aaa;">표시할 색상</td>\n                            <td style="padding:4px 0;border-top:1px solid #aaa;">\n                                <input autocomplete="off" id="memo_color" type="text" placeholder="'+Rt.color+'" style="width:180px;height:20px;padding:1px 0 1px 3px;border:1px solid #aaa;" value=""/>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td colspan="2" style="vertical-align:middle;padding:5px 0 5px 20px;text-align:left;border-top:1px solid #aaa;">\n                                <span style="font-weight:700;margin-right:5px;">채팅 차단</span>\n                                <input id="memo_isBlock" type="checkbox" style="cursor:pointer;width:15px;height:15px;padding:1px 5px 1px 3px;"/>\n                                <span style="font-size:11px;">(두스 기본 차단과는 별개로 작동)</span>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td colspan="2" style="vertical-align:middle;padding:5px 0 5px 20px;text-align:left;border-top:1px solid #aaa;border-bottom:1px solid #aaa;">\n                                <span style="font-weight:700;margin-right:5px;">채팅 차단 시 Message deleted 로 표시</span>\n                                <input id="memo_isShowDelMsg" type="checkbox" style="cursor:pointer;width:15px;height:15px;padding:1px 0 1px 3px;"/>\n                            </td>\n                        </tr>\n                    </tbody></table>\n\n                    <div id="memo_button_container" style="padding:10px 0 5px 0;font-size:13px;">\n                        <span id="memo_button_save" class="memo_button" style="background-color:#fff;cursor:pointer;border:1px solid #999;border-radius:3px;padding:4px 6px;margin:2px; 0px">저장</span>\n                        <span id="memo_button_delete" class="memo_button" style="background-color:#fff;cursor:pointer;border:1px solid #999;border-radius:3px;padding:4px 6px;margin:2px; 0px">메모 삭제</span>\n                        <span id="memo_button_close" class="memo_button" style="background-color:#fff;cursor:pointer;border:1px solid #999;border-radius:3px;padding:4px 6px;margin:2px; 0px">나가기</span>\n                    </div>\n\n                    <div id="memo_text_container" style="padding:5px 0px;">\n                        <span id="memo_text" style="">\n                            캠페인: 채팅창에서 메모 내용을 언급하지 말고<br />혼자 조용히 사용해주세요.\n                        </span>\n                        <div id="memo_change_text" style="padding:5px 0px;display:none;">\n                        </span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        ');var t=gt.find("body");0!==t.length?t.first().addClass("chat_manager_added").append(yt):gt.append(yt),bt=gt.find("#memo_simple_layout_container"),vt=yt.find("#memo_simple_layout"),_t=yt.find("#memo_isSavedMemo"),Dt=yt.find("#memo_nick"),At=yt.find("#memo_display_name"),Tt=yt.find("#memo_detail_content"),Et=yt.find("#memo_color"),Ct=yt.find("#memo_modified_date"),St=yt.find("#memo_isBlock"),Lt=yt.find("#memo_isShowDelMsg"),kt=yt.find("#memo_button_save"),wt=yt.find("#memo_button_delete"),xt=yt.find("#memo_button_close"),Ot=yt.find(".memo_button"),It=yt.find("#memo_change_text"),Pt(),je("채팅 매니저 초기화 완료"),ADD_config.under_dev?gt.find(".ADD_under_dev").show():gt.find(".ADD_under_dev").hide()}()},indexFromData:function(t){return Gt(t)},getInitObj:function(){return JSON.parse(JSON.stringify(Ft))},getPlaceholder:function(){return JSON.parse(JSON.stringify(Rt))},getData:function(t){return void 0===t?Mt:Mt[t]},deleteData:async function(t){var e=Ht(t);return await zt(),e},reloadData:async function(){return await jt(),Mt},addandSaveData:async function(t){Ut(Wt(t)),await zt()},initData:async function(){await Ie.setVal("ADD_chat_manager_data",[]),je("채팅 매니저 데이터 초기화",Mt)},getIsBlock:function(t){var e=Gt(t);return-1!==e&&Mt[e].isBlock},getIsShowDelMsg:function(t){var e=Gt(t);return-1!==e&&Mt[e].isShowDelMsg},openSimplelayout:async function(t){je("Simplelayout 오픈",t),await jt(),void 0===(Nt=qt(t.nick))?(Nt=Wt(t),Bt=!1):Bt=!0,Dt.text(Xe(Nt.nick)),At.val(Xe(Nt.display_name)),Et.val(Xe(Nt.color)),Tt.val(Xe(Nt.detail_content)),Ct.val(Xe(Nt.modified_date)),St.attr("checked",Nt.isBlock),Lt.attr("checked",Nt.isShowDelMsg),yt.fadeIn("fast"),Bt?_t.hide():_t.show()},simpleBlock:async function(t,e){var n=Gt(t),a="도배",o=e;if(-1!==n){var i=Kt.getData(n);a=Xe(i.display_name)+"_도배",o=Xe(i.detail_content)+"_도배_"+Xe(e)}var r=Wt({nick:Xe(t),display_name:Xe(a),detail_content:Xe(o),modified_date:Number(new Date),isBlock:!0});Ut(r),await zt()},openManagerlayout:function(){},updateModifiedDate:async function(t){var e=qt(t);void 0!==e&&(e.modified_date=Number(new Date),zt())}});function Yt(){nomo_global.PAGE===t.C_UCHAT||(0!==$(".chat-container > iframe").length&&void 0!==$(".chat-container > iframe")[0].contentWindow.chat_manager?(je("iframe  의 chat manager 함수를 가져왔다."),window.chat_manager=$(".chat-container > iframe")[0].contentWindow.chat_manager):void 0!==window.chat_manager_main&&(je("메인 의 chat manager 함수를 가져왔다."),window.chat_manager=window.chat_manager_main))}var Xt,Zt=je,Jt=[];async function Qt(){nomo_global.PAGE===t.C_MAIN&&Yt(),void 0!==chat_manager&&(Jt=await chat_manager.reloadData(),Zt("메모 기록 로드 완료, data: ",Jt),Xt=$('\n    <div class="lightbox-opened">\n        <div style="display:flex;margin-top:50px;cursor:default;">\x3c!--lightbox-opened-white-background--\x3e\n            <div class="modal-content" style="font-size:12px;text-align:left;margin:0 auto;max-width:1000px;">\n                <div id="memo_contents" class="modal-body">\n                    <div style="padding:2px 0 5px 5px;font-family:\'Noto Sans KR\', \'맑은 고딕\', \'malgun gothic\', dotum, serif;">\n                        <span style="font-weight:900;font-size:14px;">채팅매니저 관리</span><br />\n                        두스트림 창이 여러개 열려 있고, 다른 창에서 채팅매니저 기록을 수정하는 경우 데이터가 이상해질 수 있습니다.<br />\n                        본 기능은 언제든 갑작스럽게 사라지거나 동작하지 않을 수 있습니다 (테스트 중).<br />\n                        캠페인: 채팅창에서 메모 내용을 언급하지 말고 혼자 조용히 사용해주세요.\n                    </div>\n                    <table class="table table-condensed table-striped table-bordered" style="font-size:12px;margin-bottom:5px;font-family:\'Noto Sans KR\';table-layout:fixed;">\n                        <thead>\n                            <tr>\n                                <th style="width:40px;" class="index">#</th>\n                                <th style="width:120px;">닉네임</th>\n                                <th style="width:100px;">표시명</th>\n                                <th style="max-width:290px;" class="ADD_under_dev">상세 내용</th>\n                                <th style="width:70px;" class="ADD_under_dev">표시 색상</th>\n                                <th style="width:70px;">채팅 차단</th>\n                                <th style="width:80px;">차단 시 표시</th>\n                                <th style="width:100px;">마지막 채팅</th>\n                                <th style="width:80px;" class="th_mod">수정</th>\n                                <th style="width:40px;">삭제</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <td colspan=7">메모 데이터가 없습니다.</td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n    '),$("body").append(Xt),te())}async function te(){$("html").addClass("no-scroll");var t=Xt.find("tbody");t.html("");for(var e=Number(new Date),n=0;n<Jt.length;n++){var a="",o=Jt[n].nick,i=Jt[n].color,r=Jt[n].display_name,s=Jt[n].detail_content,l=e-Number(new Date(Jt[n].modified_date));l>2592e6?a="color:orangered":l>6048e5&&(a="color:lightcoral");var c=qe(l),d=Jt[n].isBlock,u=Jt[n].isShowDelMsg;t.append('\n            <tr>\n                <td class="index">'+(n+1)+'</td>\n                <td class="nick">'+o+'</td>\n                <td class="display_name">'+r+'</td>\n                <td class="detail_content ADD_under_dev" style="word-break:break-all">'+s+'</td>\n                <td class="color ADD_under_dev">'+i+'</td>\n                <td class="isBlock">'+d+'</td>\n                <td class="isShowDelMsg">'+u+'</td>\n                <td class="modified_date" style="'+a+'">'+c+'</td>\n                <td class="fix">\n                    <span memo_index="'+n+'" class="mod" style="cursor:pointer;text-decoration:underline;">수정</span>\n                    <span memo_index="'+n+'" class="save" style="cursor:pointer;text-decoration:underline;display:none;">저장</span>\n                    <span memo_index="'+n+'" class="cancel" style="cursor:pointer;text-decoration:underline;margin-left:5px;display:none;">취소</span>\n                </td>\n                <td class="fix"><span memo_index="'+n+'" class="del" style="cursor:pointer;text-decoration:underline;">삭제</span></td>\n            </tr>\n        ')}t.append('\n            <tr class="new_memo_tr">\n                <td class="index"></td>\n                <td class="nick"></td>\n                <td class="display_name"></td>\n                <td class="detail_content ADD_under_dev"></td>\n                <td class="color ADD_under_dev"></td>\n                <td class="isBlock"></td>\n                <td class="isShowDelMsg"></td>\n                <td class="modified_date" style="font-size:9px;"></td>\n                <td class="fix">\n                    <span memo_index="'+(Jt.length+1)+'" class="mod new" style="cursor:pointer;text-decoration:underline;">새 메모</span>\n                    <span memo_index="'+(Jt.length+1)+'" class="save new" style="cursor:pointer;text-decoration:underline;display:none;">저장</span>\n                    <span memo_index="'+(Jt.length+1)+'" class="cancel" style="cursor:pointer;text-decoration:underline;margin-left:5px;display:none;">취소</span>\n                </td>\n                <td class="fix"></td>\n            </tr>\n        '),t.find("td").css("overflow","hidden"),ADD_config.under_dev?$(".ADD_under_dev").show():$(".ADD_under_dev").hide()}$(document).on("click","span.mod",(function(){var t=Jt,e=$(this);e.hide();var n=e.closest("tr");n.find("span.save").show(),n.find("span.cancel").show();var a=n.find("td"),o=e.attr("memo_index"),i={},r=chat_manager.getPlaceholder();e.hasClass("new")?(n.find(".index").text(o),i=chat_manager.getInitObj()):i=t[o],a.each((function(){var t=$(this),n=t.attr("class").replace("ADD_under_dev","").replace(/\s/g,"");if(Zt("temp_class",n),t.hasClass("detail_content"))t.html('\n                    <textarea style="width:230px;height:60px;margin:0;" placeholder="'+r[n]+'">'+i[n]+"</textarea>\n                ");else if(t.hasClass("display_name")||e.hasClass("new")&&t.hasClass("nick")||t.hasClass("color"))t.html('\n                    <div style="">\n                        <input autocomplete="off" style="width:120px;margin:0;" type="text" value="'+i[n]+'" placeholder="'+r[n]+'" />\n                    </div>\n                ');else{if(!t.hasClass("isShowDelMsg")&&!t.hasClass("isBlock"))return!0;t.html('\n                    <input style="width:20px;height:20px;" type="checkbox" />\n                '),t.find("input").prop("checked",i[n])}}))})).on("click","span.cancel",(function(){te()})).on("click","span.del",(async function(){var t=$(this).attr("memo_index"),e=Jt[t].nick;confirm(e+"에 대한 메모를 정말 삭제하시겠습니까?")&&(await chat_manager.deleteData(e)?Zt(e+"에 대한 메모를 성공적으로 삭제 완료"):Zt(e+"에 대한 메모를 삭제 실패"),Jt=await chat_manager.reloadData(),te())})).on("click","span.save",(async function(){var t=Jt,e=$(this),n=e.closest("tr").find("td"),a=e.attr("memo_index"),o={};if(o=e.hasClass("new")?chat_manager.getInitObj():t[a],n.each((function(){var t=$(this),n=t.attr("class").replace("ADD_under_dev","").replace(/\s/g,"");if(t.hasClass("detail_content"))o[n]=t.find("textarea").val();else if(t.hasClass("display_name")||t.hasClass("color")||e.hasClass("new")&&t.hasClass("nick"))o[n]=t.find("input").val();else{if(!t.hasClass("isShowDelMsg")&&!t.hasClass("isBlock"))return!0;o[n]=t.find("input").is(":checked")}})),""!==o.nick){var i="정말 저장하시겠습니까?\n닉네임: "+o.nick+"\n표시명: "+o.display_name+"\n";if(ADD_config.under_dev&&(i=i+"상세 내용: "+o.detail_content+"\n표시 색상: "+o.color+"\n"),i=i+"채팅 차단 여부: "+o.isBlock+"\n차단시 표시 여부: "+o.isShowDelMsg,confirm(i)){if(e.hasClass("new")&&-1!==chat_manager.indexFromData(o.nick)&&!confirm('닉네임 "'+o.nick+'"에 대한 메모가 이미 존재합니다. 덮어쓰시겠습니까?'))return void alert("취소 되었습니다.");await chat_manager.addandSaveData(o),Jt=await chat_manager.reloadData(),alert("저장 되었습니다."),te()}else alert("취소 되었습니다.")}else alert("닉네임은 반드시 입력되어야 합니다.")}));var ee=je;var ne=!1;async function ae(e){if(!ADD_config.alarm)return!1;await Ie.getVal("ADD_twitch_api_refresh_force",!1)&&(await Ie.setVal("ADD_twitch_api_refresh_force",!1),nomo_global.api_push_forced=!0,ee("twitch_api - 설정 저장 직후 강제 새로고침"));var n=Number(ADD_config.alarm_gap);$.isNumeric(ADD_config.alarm_gap)&&n<t.API_INTERVAL_MIN_TIME&&(n=1);var a=await Re("GM_cache_twitch_api",60*n*1e3);if(nomo_global.unique_window_check&&(nomo_global.api_push_forced||a)){nomo_global.api_push_forced=!1;var o=ADD_config.top_alarm_ID;if(o.length>0){var i=o.join("&user_login=").replace(/\s/g,"").toLowerCase(),r=await H("streams?first=100&user_login="+i);if(r.ok){ee("Twitch API to call list - request succeeded",r);var s=r.data.data;if(0!==s.length){for(var l=0;l<s.length;l++){0===l&&(nomo_global.twitch_api_cookie=[]);var c=s[l];null!==c&&(nomo_global.twitch_api_cookie[l]={name:c.user_login,display_name:c.user_name,status:c.title,viewers:c.viewer_count,game:c.game_name}),c=null}$.cookie("twitch_api_cookie",JSON.stringify(nomo_global.twitch_api_cookie),{expires:(new Date).getMinutes()+10,path:"/"})}else ee("Twitch API - NO ONLINE STREAMER, API cookie is REMOVED"),$.removeCookie("twitch_api_cookie");nomo_global.first_api_call&&(nomo_global.first_api_call=!1),ee("Twitch API - API 호출에 의하여 메인 리로드 됨"),ADD_config.alarm_main_reload&&nomo_global.PAGE===t.C_MAIN&&Be(),Me("GM_cache_twitch_api"),nomo_global.list_update_time=new Date,ee("리스트 업데이트 시간 갱신 - 트위치 api:",nomo_global.list_update_time)}else ee("Twitch API to call list - Request failed",r),401==r.status?ne||(ne=!0,lt('[Dostream+] Twitch API 사용을 위한 토큰이 유효하지 않습니다. 메인에 스트리머 추가 설정을 끄거나, <a class="OpenTwitchAuth" style="text-decoration:underline !important" href="https://www.dostream.com/addostream/twitch/auth/" target="_blank">이 링크를 클릭하여 Dostream+ 와 Twitch 계정 연결을 완료하십시오.</a>')):lt(`[Dostream+] Twitch API 오류가 발생했습니다. Error: ${JSON.stringify(r)}`)}}else $.cookie("twitch_api_cookie")&&(nomo_global.twitch_api_cookie=JSON.parse($.cookie("twitch_api_cookie"))),void 0!==e&&void 0!==e.main_refresh&&e.main_refresh&&(ee("Twitch API - API 호출 없이 메인 리로드 됨"),ADD_config.alarm_main_reload&&nomo_global.PAGE===t.C_MAIN&&Be())}async function oe(){if(!ADD_config.alarm)return clearInterval(nomo_global.ADD_API_SET_INTERVAL),!1;var e=Number(ADD_config.alarm_gap);(!$.isNumeric(e)||e<t.API_INTERVAL_MIN_TIME)&&(e=t.API_INTERVAL_MIN_TIME),e=1e3*e*60,nomo_global.ADD_API_SET_INTERVAL&&clearInterval(nomo_global.ADD_API_SET_INTERVAL),nomo_global.ADD_API_SET_INTERVAL=setInterval((async function(){ee("twitch_api_call_interval 에 의해 twitch_api() 함수 호출됨"),await ae({main_refresh:!0})}),e)}n(946);var ie=new Autolinker({urls:{schemeMatches:!0,wwwMatches:!0,tldMatches:!0},email:!0,phone:!1,mention:!1,hashtag:!1,stripPrefix:!1,stripTrailingSlash:!0,newWindow:!0,truncate:{length:0,location:"end"},className:"auto_a"});function re(){if(nomo_global.PAGE===t.C_UCHAT)return!1;if($("#btnOpenHrm").off("click"),$("#btnOpenHrm").on("click",(function(t){t.preventDefault();var e="";return 1==ADD_config.insagirl_select?e="https://coord.dostream.com":2==ADD_config.insagirl_select&&(e="https://insagirl-toto.appspot.com/hrm/?where=2"),window.open(e),$(this).blur(),!1})),!ADD_config.insagirl_button&&0!==$("#btnOpenHrm").length&&0!==$("#btnOpenHrm_ADD").length)return $("#btnOpenHrm_ADD").fadeOut("300").delay("700").remove(),$("#btnOpenHrm").css("transition","width 1s, height 1s, transform 1s").css("height","45px"),$("#hrm_layout").fadeOut("300").delay("700").remove(),$(".chat-container").css("top","45px"),!1;if(!ADD_config.insagirl_button&&0!==$("#btnOpenHrm").length&&0===$("#btnOpenHrm_ADD").length)return!1;if(0!==$("#btnOpenHrm").length&&0==$("#btnOpenHrm_ADD").length){var e=$('<button id="btnOpenHrm_ADD" class="btn-blue" style="height:0px;display:none" onfocus="this.blur()">▼</button>').on("click",(async function(){if($("#hrm_layout").is(":hidden")){if(await async function(t,e,n){var a=!1;void 0===(a=await Ie.getVal(e))&&(a=!1,await Ie.setVal(e,a));return!1!==a||($("html").addClass("no-scroll"),$("body").append('<div class="lightbox-opened"><img src="https://raw.githubusercontent.com/nomomo/Addostream/master/images/cross_origin.jpg" /></div>'),$(document).one("click",".lightbox-opened",(async function(){GM_xmlhttpRequest({url:t,method:"GET",headers:{"Content-Type":"application/javascript"},onload:async function(){je("엑세스 성공"),await Ie.setVal(e,!0),n()},onerror:async function(){je("엑세스 실패"),await Ie.setVal(e,!1)}})})),!1)}("http://insagirl-hrm.appspot.com/json2/2/1/1/","Cross_Origin_Hrm",(function(){$("#btnOpenHrm_ADD").trigger("click")}))){await ue(1),$(this).html("▲");var t=await Ie.getVal("ADD_hrmlayoutHeight",.5*$(".chat-container").height()),e=$(".chat-container").height();e-t-5<=100&&(t=Math.max(0,e-100-5)),$("#hrm_layout").height(`${t}px`).show(),$("#hrm_split_bar").css("top",t+45+"px").show(),$("#ADD_hrmbodyexpand").show(),$(".chat-container").css("top",t+45+5+"px")}}else $(this).html("▼"),$("#hrm_layout").hide(),$("#hrm_split_bar").hide(),$("#hrm_layout ul:first").html(""),$(".chat-container").css("top","45px")}));je("좌표 버튼 기능 변경"),$("#btnOpenHrm").after(e).css("transition","none").css("height","22.5px"),$("#btnOpenHrm_ADD").css("transition","all 0s").css("height","22.5px").show();var n=$('\n<div id="hrm_layout">\n    <ul></ul>\n    <div style="padding:5px;">\n        <button id="ADD_hrmbodyexpand" type="button" page="2" class="btn btn-primary btn-block">더 보기</button>\n    </div>\n</div>\n            ').insertAfter($(".chat-ignore").first());$('<div id="hrm_split_bar" style="cursor:ns-resize;position:absolute;width:100%;height:5px;background-color:#666;display:none;"></div>').on("mousedown",(function(t){t.preventDefault(),$("html").addClass("no-scroll");var e=t.pageY,n=$("#hrm_layout").height(),a=n,o=$(".chat-container").height();$("#hrm_split_bar").after('\n                    <div class="chat_container_screen" style="width:100%;height:100%;position:absolute;z-index:5000"></div>\n                '),$(".chat_container_screen").css("top",$("#hrm_layout").height()+45+5+"px"),$(document).on("mousemove.hrm_mousemove",(function(t){t.preventDefault();var i=t.pageY,r=i-e;je("hrmlayoutHeight",n,"chatContainerHeight",o,"pageY",i,"movedY",r,"new_hrmlayoutHeight",a),(a=n+r)<0&&(a=0),o-r>=100&&($("#hrm_layout").height(a),$("#hrm_split_bar").css("top",a+45+"px"),$(".chat-container").css("top",a+45+5+"px"),$(".chat_container_screen").css("top",a+45+5+"px"))})),$(document).one("mouseup",(async function(){$(document).off("mousemove.hrm_mousemove"),$(".chat_container_screen").remove(),await Ie.setVal("ADD_hrmlayoutHeight",$("#hrm_layout").height()),$("html").removeClass("no-scroll")}))})).insertAfter("#hrm_layout"),n.find("#ADD_hrmbodyexpand").on("click",(async function(){var t=parseInt($(this).attr("page"));await ue(t),$(this).attr("page",String(parseInt(t+1))),2==ADD_config.insagirl_select&&$("#ADD_hrmbodyexpand").hide()}))}else je("좌표 버튼이 이미 존재 or 좌표 버튼을 찾지 못함")}$(document).on("click","a.auto_a",(function(t){var e=$(this);-1!==e.attr("href").indexOf("dostream.com")&&(t.preventDefault(),window.open(e.attr("href"),"_self"))}));var se="",le="",ce=0,de=20;async function ue(t){ADD_config.insagirl_select=2,je("RUNNING - parse_coord, page:"+t),0!==t&&1!==t||(se="",le="",ce=0),null!=de&&0!==de||(de=20);var e="";if(1==ADD_config.insagirl_select)e="https://coord.dostream.com/api/?offset="+String(parseInt((t-1)*de)),$("#ADD_hrmbodyexpand").html(de+"개 더 보기");else{if(2!=ADD_config.insagirl_select)return void je("예상하지 못한 설정변수",ADD_config.insagirl_select);e="https://insagirl-hrm.appspot.com/json2/2/1/"+t+"/",$("#ADD_hrmbodyexpand").html("더 보기")}GM_xmlhttpRequest({url:e,method:"GET",headers:{"Content-Type":"application/javascript"},timeout:2e3,onload:async function(t){if(!1,0!==$("#hrm_layout").length){ADD_config.insagirl_block_by_nick&&Yt();var e=JSON.parse(t.responseText);2==ADD_config.insagirl_select&&(e=e.v),de=e.length;var n="",a=0;je("hrm data: ",e);for(var o=0;o<e.length;o++){2==ADD_config.insagirl_select&&(e[o]=e[o].split("|"),e[o]={created:Number(e[o][0]),user:e[o][1],message:e[o][2]});var i=e[o].user;if(!ADD_config.insagirl_block_by_nick||void 0===chat_manager||!chat_manager.getIsBlock(i)){var r=Xe(e[o].message),s=ie.link(r.replace("http://dostream.com/","https://dostream.com/").replace("http://www.dostream.com/","https://www.dostream.com/")),l=$("<span>"+s+"</span>").find("a");if(ADD_config.insagirl_block_dobae){if(l.length>0){var c=l.first().attr("href");if((ADD_config.insagirl_block_dobae_by_href||i===se)&&c===le){ce+=1;continue}le=c,ce>0&&(n=n+"<li style='font-size:11px;display:flex;align-items:center;color:#ccc;text-align:center;padding:2px 10px;'><span style='flex:1;border-bottom:1px solid #ccc;margin-right:10px;'></span>"+ce+"개의 좌표 숨겨짐<span style='flex:1;border-bottom:1px solid #ccc;margin-left:10px;'></span></li>"),ce=0}else le="";se=i}l.each((function(t,e){var n=$(e).attr("href");if(-1!==n.toLowerCase().indexOf("dostream.com/#/stream/twitch/")||-1!==n.toLowerCase().indexOf("dostream.com/#/stream/multitwitch/")){for(var a="",o=n.split("/").pop().split("&"),i=0;i<o.length;i++){0!==i&&(a+="&"),a+=u(o[i])}void 0===a&&""===a||(s=s+' <span class="keyword_pass ch_text" style="font-weight:700;vertical-align:top;">['+Xe(a)+"]</span>")}else-1==n.indexOf("dostream.com/#/stream/m3u8")&&/^https?:\/\/.+\.m3u8/i.test(n)?(s=s+" "+`<a href="https://www.dostream.com/#/stream/m3u8/${n}" class="keyword_pass ch_text" style="display:inline-block;margin-left:0px;font-weight:700;vertical-align:baseline;">[M3U8 PLAYER]</a>`,ADD_config.m3u8_potplayer_link&&(s+=` <a href="potplayer://${n}" class="keyword_pass ch_text" style="display:inline-block;margin-left:0px;font-weight:700;vertical-align:baseline;">[Potplayer]</a>`)):-1==n.indexOf("dostream.com/#/stream/nesports")&&/^https:\/\/game\.naver\.com\/esports\/([a-zA-Z0-9가-힣-_!@#$%^&*]+)\/live\/([a-zA-Z0-9가-힣-_!@#$%^&*]+)/i.test(n)&&(s=s+" "+`<a href="https://www.dostream.com/#/stream/nesports/${n}" class="keyword_pass ch_text" style="display:inline-block;margin-left:0px;font-weight:700;vertical-align:baseline;">[M3U8 PLAYER]</a>`)}));var d=(new Date).getTime(),h=Number(new Date(e[o].created)),f=Math.floor((d-h)/1e3),p=parseInt(f/3600),m=parseInt(f/60)%60,g=f%60;n=n+"<li>"+("("+(p>-1&&10>p?"0"+p:p)+":"+(m>-1&&10>m?"0"+m:m)+":"+(g>-1&&10>g?"0"+g:g)+")")+i+": "+s+"</li>",a+=1}}0==a&&0!==ce&&(n=n+"<li style='display:flex;align-items:center;color:#ccc;text-align:center;padding: 0 10px;'><span style='flex:1;border-bottom:1px solid #ccc;margin-right:10px;'></span>"+(ce=20)+"개의 좌표 숨겨짐<span style='flex:1;border-bottom:1px solid #ccc;margin-left:10px;'></span></li>",ce=0),1==ADD_config.insagirl_select?$("#hrm_layout ul:first").append(n):$("#hrm_layout ul:first").empty().append(n)}else je("hrm_layout가 없다")},onerror:async function(){je("좌표 파싱 중 에러 발생 - onerror")},ontimeout:async function(){je("좌표 파싱 중 에러 발생 - ontimeout")}})}function he(t){je("ADD_Channel_history_cookie");var n=ADD_config.max_history,a=$.cookie("ADD_h_cookie");if(a=null==a?[]:JSON.parse(a),null==t||0===t);else{var o="",i=t[0].split("&");if("chzzk"===t[2]){let n=!1;for(let a in e.data.chzzk)if(a===t[0]){o=e.data.chzzk[a].dn+"(CHZ)",n=!0;break}n||(o=t[0])}else{for(let t=0;t<i.length;t++)0!==t&&(o+="&"),o+=u(i[t].toUpperCase());"multitwitch"===t[2]&&(o+="(멀티)")}t[1]=o;for(var r=!1,s=0;s<a.length;s++)if(void 0!==a[s][0]&&t[0]===a[s][0]&&t[2]===a[s][2]){a.splice(s,1),a.unshift(t),r=!0;break}r||a.unshift(t)}return a.length>n&&(a=a.slice(0,n-1)),je("ADD_h_cookie",a),$.cookie("ADD_h_cookie",JSON.stringify(a),{expires:365,path:"/"}),a}function fe(){if(Se()===t.C_STREAM){var e=document.location.href;if(null!==e&&-1!==e.indexOf("#/stream/")){var n=e.split("#/stream/"),a=(n=n[1]).split("/"),o=[];return-1!==e.indexOf("#/stream/m3u8/")?(o[0]=e.split("#/stream/m3u8/").pop(),o[1]="m3u8",o[2]="m3u8",o):-1!==e.indexOf("#/stream/nesports/")?(o[0]=e.split("#/stream/nesports/").pop(),o[1]="Nesports",o[2]="nesports",o):2!==a.length?(je("check_stream_and_chennel_from_location 에서 / 개수로 인한 에러 발생"),null):(o[0]=a[1],o[1]=a[1],o[2]=a[0],o)}return je("채널 히스토리 등록 중 #/stream/ 을 찾지 못함",e),null}}function pe(e,n){if(-1===$("#history_elem").length)return je("#history_elem 을 찾을 수 없습니다"),!1;var a=ADD_config.max_history,o="",i="",r="",s="",l="",c="",d="";if(null!==e){l='<span class="h_container">';for(var u=0;u<e.length&&a!==u;u++){switch(s="",o=e[u][0],i=e[u][1],d=(r=e[u][2]).substring(0,1).toUpperCase()+r.substring(1,r.length).toLowerCase(),r){case"twitch":case"multitwitch":c="h_twitch",s=i;break;case"kakao":c="h_kakao",s=o;break;case"youtube":c="h_youtube",s=o;break;case"afreeca":c="h_afreeca",s=o;break;case"okru":d="OK",c="h_okru",s=o+"(OK)";break;case"m3u8":d="m3u8",c="h_m3u8",s="M3U8";break;case"chzzk":c="chzzk",s=i;break;case"nesports":d=o.split("/").pop(),c="h_nesports",s=o.split("/").pop();break;default:c="",s=o+"("+r+")"}ADD_config.history_hide_icon&&(c=""),""!==c&&(c='<span class="h_icon '+c+'" title="'+d+'"></span>'),l=l+'<div class="h_text_container">'+(0==u?"":'<span class="glyphicon" style="color:#bbb;padding:0px 6px;user-select: none;">〈</span>')+c+"<a class="+r+' href="https://www.dostream.com/#/stream/'+r+"/"+o+'" title="'+(i+"("+o+") - "+d)+'">'+s+"</a></div>"}l+="</span>",n?$("#history_elem").hide().html(l).fadeIn(1e3):$("#history_elem").html(l),Se()===t.C_STREAM?$("#history_elem a:first").addClass("nowplaying"):$("#history_elem a:first").removeClass("nowplaying")}else je("ADD_Channel_History_layout 에서 배열 크기가 null 입니다")}function me(){if(nomo_global.PAGE===t.C_UCHAT)return!1;if(!ADD_config.history)return 0!==$("#history_elem").length&&$("#history_elem").html(""),$(window).off("hashchange.history"),!1;var e=[],n=[];nomo_global.PAGE===t.C_MAIN||nomo_global.PAGE===t.C_SETTING?n=he():nomo_global.PAGE===t.C_STREAM&&(je("current_info 1",e=fe()),n=he(e)),$(window).on("hashchange.history",(function(){je("current_info 2",e=fe()),pe(n=he(e),!1)})),pe(n,!0)}var ge=je;function be(){!function(){if($(document).off("mouseenter mouseleave","li.twitch>a>img, li.kakao>a>img, li.youtube>a>img"),$(".ADD_thumb_elem_container").fadeOut("fast"),!ADD_config.thumbnail_mouse)return!1;$(document).on({mouseenter:async function(t){if(!ADD_config.thumbnail_mouse)return!1;var e,n=$(this),a=n.parent("a");switch(ADD_config.thumbnail_size){case"1":e="ADD_thumb_size_1";break;case"2":e="ADD_thumb_size_2";break;case"3":e="ADD_thumb_size_3";break;default:e="ADD_thumb_size_0"}var o="";if(o=n.attr("src"),ADD_config.thumbnail_refresh){var i=ADD_config.thumbnail_refresh_gap;(!$.isNumeric(i)||Number(i)<1)&&(i=1),await Re("thumbnail_refresh",60*Number(i)*1e3)&&(nomo_global.getTimeStampRes="?"+Ue("m")),o+=nomo_global.getTimeStampRes}switch(ADD_config.thumbnail_size){case"1":default:break;case"2":o=o.replace("240x180","640x360");break;case"3":o=o.replace("240x180","1280x720")}if(0===a.find(".ADD_thumb_elem_container").length){var r='\n                    <div class="ADD_thumb_elem_container">\n                        <div class="ADD_thumb_elem '+e+'">\n                            <img class="ADD_thumb_img" style="width:100%;height:100%;" src="'+o+'" />\n                        </div>\n                    </div>\n                    ';n.after(r),a.find(".ADD_thumb_elem_container").fadeIn("fast")}else a.find(".ADD_thumb_img").attr("src",o),a.find(".ADD_thumb_elem_container").fadeIn("fast");if(a.find(".ADD_thumb_elem").hasClass(e)||a.find(".ADD_thumb_elem").removeClass("ADD_thumb_size_1 ADD_thumb_size_2 ADD_thumb_size_3 ADD_thumb_size_0").addClass(e),0!==a.closest("#popup_ADD_quick").length){var s=a[0].offsetTop,l=a.find(".ADD_thumb_elem").first().height(),c=$("#popup_ADD_quick").height();a.find("div.ADD_thumb_elem").first().css("top",(c>s+l?s+5:c-l-15)+"px")}},mouseleave:function(){if(!ADD_config.thumbnail_mouse)return!1;var t=$(this).parent("a");0!==t.find(".ADD_thumb_elem_container").length&&t.find(".ADD_thumb_elem_container").fadeOut("fast")}},"li.twitch>a>img, li.kakao>a>img, li.youtube>a>img")}(),me(),re(),ADD_config.alarm_noti&&(ge("Notification.permission = ",Notification.permission),"granted"!==Notification.permission&&Notification.requestPermission())}function ve(){$(document).on("click",".lightbox-opened",(function(t){t.stopPropagation(),$("html").removeClass("no-scroll"),$(".lightbox-opened").remove()}))}function _e(t){function e(t,e){return t<<e|t>>>32-e}function n(t,e){var n,a,o,i,r;return o=2147483648&t,i=2147483648&e,r=(1073741823&t)+(1073741823&e),(n=1073741824&t)&(a=1073741824&e)?2147483648^r^o^i:n|a?1073741824&r?3221225472^r^o^i:1073741824^r^o^i:r^o^i}function a(t,a,o,i,r,s,l){return t=n(t,n(n(function(t,e,n){return t&e|~t&n}(a,o,i),r),l)),n(e(t,s),a)}function o(t,a,o,i,r,s,l){return t=n(t,n(n(function(t,e,n){return t&n|e&~n}(a,o,i),r),l)),n(e(t,s),a)}function i(t,a,o,i,r,s,l){return t=n(t,n(n(function(t,e,n){return t^e^n}(a,o,i),r),l)),n(e(t,s),a)}function r(t,a,o,i,r,s,l){return t=n(t,n(n(function(t,e,n){return e^(t|~n)}(a,o,i),r),l)),n(e(t,s),a)}function s(t){var e,n="",a="";for(e=0;e<=3;e++)n+=(a="0"+(t>>>8*e&255).toString(16)).substr(a.length-2,2);return n}var l,c,d,u,h,f,p,m,g,b=Array();for(b=function(t){for(var e,n=t.length,a=n+8,o=16*((a-a%64)/64+1),i=Array(o-1),r=0,s=0;s<n;)r=s%4*8,i[e=(s-s%4)/4]=i[e]|t.charCodeAt(s)<<r,s++;return r=s%4*8,i[e=(s-s%4)/4]=i[e]|128<<r,i[o-2]=n<<3,i[o-1]=n>>>29,i}(t=function(t){t=t.replace(/rn/g,"n");for(var e="",n=0;n<t.length;n++){var a=t.charCodeAt(n);a<128?e+=String.fromCharCode(a):a>127&&a<2048?(e+=String.fromCharCode(a>>6|192),e+=String.fromCharCode(63&a|128)):(e+=String.fromCharCode(a>>12|224),e+=String.fromCharCode(a>>6&63|128),e+=String.fromCharCode(63&a|128))}return e}(t)),f=1732584193,p=4023233417,m=2562383102,g=271733878,l=0;l<b.length;l+=16)c=f,d=p,u=m,h=g,f=a(f,p,m,g,b[l+0],7,3614090360),g=a(g,f,p,m,b[l+1],12,3905402710),m=a(m,g,f,p,b[l+2],17,606105819),p=a(p,m,g,f,b[l+3],22,3250441966),f=a(f,p,m,g,b[l+4],7,4118548399),g=a(g,f,p,m,b[l+5],12,1200080426),m=a(m,g,f,p,b[l+6],17,2821735955),p=a(p,m,g,f,b[l+7],22,4249261313),f=a(f,p,m,g,b[l+8],7,1770035416),g=a(g,f,p,m,b[l+9],12,2336552879),m=a(m,g,f,p,b[l+10],17,4294925233),p=a(p,m,g,f,b[l+11],22,2304563134),f=a(f,p,m,g,b[l+12],7,1804603682),g=a(g,f,p,m,b[l+13],12,4254626195),m=a(m,g,f,p,b[l+14],17,2792965006),f=o(f,p=a(p,m,g,f,b[l+15],22,1236535329),m,g,b[l+1],5,4129170786),g=o(g,f,p,m,b[l+6],9,3225465664),m=o(m,g,f,p,b[l+11],14,643717713),p=o(p,m,g,f,b[l+0],20,3921069994),f=o(f,p,m,g,b[l+5],5,3593408605),g=o(g,f,p,m,b[l+10],9,38016083),m=o(m,g,f,p,b[l+15],14,3634488961),p=o(p,m,g,f,b[l+4],20,3889429448),f=o(f,p,m,g,b[l+9],5,568446438),g=o(g,f,p,m,b[l+14],9,3275163606),m=o(m,g,f,p,b[l+3],14,4107603335),p=o(p,m,g,f,b[l+8],20,1163531501),f=o(f,p,m,g,b[l+13],5,2850285829),g=o(g,f,p,m,b[l+2],9,4243563512),m=o(m,g,f,p,b[l+7],14,1735328473),f=i(f,p=o(p,m,g,f,b[l+12],20,2368359562),m,g,b[l+5],4,4294588738),g=i(g,f,p,m,b[l+8],11,2272392833),m=i(m,g,f,p,b[l+11],16,1839030562),p=i(p,m,g,f,b[l+14],23,4259657740),f=i(f,p,m,g,b[l+1],4,2763975236),g=i(g,f,p,m,b[l+4],11,1272893353),m=i(m,g,f,p,b[l+7],16,4139469664),p=i(p,m,g,f,b[l+10],23,3200236656),f=i(f,p,m,g,b[l+13],4,681279174),g=i(g,f,p,m,b[l+0],11,3936430074),m=i(m,g,f,p,b[l+3],16,3572445317),p=i(p,m,g,f,b[l+6],23,76029189),f=i(f,p,m,g,b[l+9],4,3654602809),g=i(g,f,p,m,b[l+12],11,3873151461),m=i(m,g,f,p,b[l+15],16,530742520),f=r(f,p=i(p,m,g,f,b[l+2],23,3299628645),m,g,b[l+0],6,4096336452),g=r(g,f,p,m,b[l+7],10,1126891415),m=r(m,g,f,p,b[l+14],15,2878612391),p=r(p,m,g,f,b[l+5],21,4237533241),f=r(f,p,m,g,b[l+12],6,1700485571),g=r(g,f,p,m,b[l+3],10,2399980690),m=r(m,g,f,p,b[l+10],15,4293915773),p=r(p,m,g,f,b[l+1],21,2240044497),f=r(f,p,m,g,b[l+8],6,1873313359),g=r(g,f,p,m,b[l+15],10,4264355552),m=r(m,g,f,p,b[l+6],15,2734768916),p=r(p,m,g,f,b[l+13],21,1309151649),f=r(f,p,m,g,b[l+4],6,4149444226),g=r(g,f,p,m,b[l+11],10,3174756917),m=r(m,g,f,p,b[l+2],15,718787259),p=r(p,m,g,f,b[l+9],21,3951481745),f=n(f,c),p=n(p,d),m=n(m,u),g=n(g,h);return(s(f)+s(p)+s(m)+s(g)).toLowerCase()}!function(t){t.widget("ui.tagit",{options:{allowDuplicates:!1,caseSensitive:!0,fieldName:"tags",placeholderText:null,readOnly:!1,removeConfirmation:!1,tagLimit:null,availableTags:[],autocomplete:{},showAutocompleteOnFocus:!1,allowSpaces:!1,singleField:!1,singleFieldDelimiter:",",singleFieldNode:null,animate:!0,tabIndex:null,beforeTagAdded:null,afterTagAdded:null,beforeTagRemoved:null,afterTagRemoved:null,onTagClicked:null,onTagLimitExceeded:null,onTagAdded:null,onTagRemoved:null,tagSource:null},_create:function(){var e=this;this.element.is("input")?(this.tagList=t("<ul></ul>").insertAfter(this.element),this.options.singleField=!0,this.options.singleFieldNode=this.element,this.element.addClass("tagit-hidden-field")):this.tagList=this.element.find("ul, ol").andSelf().last(),this.tagInput=t('<input type="text" />').addClass("ui-widget-content"),this.options.readOnly&&this.tagInput.attr("disabled","disabled"),this.options.tabIndex&&this.tagInput.attr("tabindex",this.options.tabIndex),this.options.placeholderText&&this.tagInput.attr("placeholder",this.options.placeholderText),this.options.autocomplete.source||(this.options.autocomplete.source=this.options.availableTags),this.options.showAutocompleteOnFocus;var n="";this.options.autocomplete.focus=function(t,e){n=e.item.value,t.preventDefault()},t.isFunction(this.options.autocomplete.source)&&(this.options.autocomplete.source=t.proxy(this.options.autocomplete.source,this)),t.isFunction(this.options.tagSource)&&(this.options.tagSource=t.proxy(this.options.tagSource,this)),this.tagList.addClass("tagit").addClass("ui-widget ui-widget-content ui-corner-all").append(t('<li class="tagit-new"></li>').append(this.tagInput)).click((function(n){var a=t(n.target);if(a.hasClass("tagit-label")){var o=a.closest(".tagit-choice");o.hasClass("removed")||e._trigger("onTagClicked",n,{tag:o,tagLabel:e.tagLabel(o)})}else e.tagInput.focus()}));var a=!1;if(this.options.singleField)if(this.options.singleFieldNode){var o=t(this.options.singleFieldNode),i=o.val().split(this.options.singleFieldDelimiter);o.val(""),t.each(i,(function(t,n){e.createTag(n,null,!0),a=!0}))}else this.options.singleFieldNode=t('<input type="hidden" style="display:none;" value="" name="'+this.options.fieldName+'" />'),this.tagList.after(this.options.singleFieldNode);if(a||this.tagList.children("li").each((function(){t(this).hasClass("tagit-new")||(e.createTag(t(this).text(),t(this).attr("class"),!0),t(this).remove())})),this.tagInput.keydown((function(a){if(a.which==t.ui.keyCode.BACKSPACE&&""===e.tagInput.val()){var o=e._lastTag();!e.options.removeConfirmation||o.hasClass("remove")?e.removeTag(o):e.options.removeConfirmation&&o.addClass("remove ui-state-highlight")}else e.options.removeConfirmation&&e._lastTag().removeClass("remove ui-state-highlight");(a.which===t.ui.keyCode.COMMA&&!1===a.shiftKey||a.which===t.ui.keyCode.ENTER||a.which==t.ui.keyCode.TAB&&""!==e.tagInput.val()||a.which==t.ui.keyCode.SPACE&&!0!==e.options.allowSpaces&&('"'!=t.trim(e.tagInput.val()).replace(/^s*/,"").charAt(0)||'"'==t.trim(e.tagInput.val()).charAt(0)&&'"'==t.trim(e.tagInput.val()).charAt(t.trim(e.tagInput.val()).length-1)&&t.trim(e.tagInput.val()).length-1!=0))&&(a.which===t.ui.keyCode.ENTER&&""===e.tagInput.val()||a.preventDefault(),e.options.autocomplete.autoFocus&&e.tagInput.data("autocomplete-open")||(e.tagInput.autocomplete("close"),""===n||null==n?e.createTag(e._cleanedInput()):(e.tagInput.val(""+n),e.createTag(""+n),n="")))})).blur((function(t){e.tagInput.data("autocomplete-open")||e.createTag(e._cleanedInput())})),this.options.availableTags||this.options.tagSource||this.options.autocomplete.source){var r={select:function(t,n){return e.createTag(n.item.value),!1}};t.extend(r,this.options.autocomplete),r.source=this.options.tagSource||r.source,this.tagInput.autocomplete(r).bind("autocompleteopen.tagit",(function(t,a){e.tagInput.data("autocomplete-open",!0),n=""})).bind("autocompleteclose.tagit",(function(t,n){e.tagInput.data("autocomplete-open",!1)})),this.tagInput.autocomplete("widget").addClass("tagit-autocomplete")}},destroy:function(){return t.Widget.prototype.destroy.call(this),this.element.unbind(".tagit"),this.tagList.unbind(".tagit"),this.tagInput.removeData("autocomplete-open"),this.tagList.removeClass(["tagit","ui-widget","ui-widget-content","ui-corner-all","tagit-hidden-field"].join(" ")),this.element.is("input")?(this.element.removeClass("tagit-hidden-field"),this.tagList.remove()):(this.element.children("li").each((function(){t(this).hasClass("tagit-new")?t(this).remove():(t(this).removeClass(["tagit-choice","ui-widget-content","ui-state-default","ui-state-highlight","ui-corner-all","remove","tagit-choice-editable","tagit-choice-read-only"].join(" ")),t(this).text(t(this).children(".tagit-label").text()))})),this.singleFieldNode&&this.singleFieldNode.remove()),this},_cleanedInput:function(){return t.trim(this.tagInput.val().replace(/^"(.*)"$/,"$1"))},_lastTag:function(){return this.tagList.find(".tagit-choice:last:not(.removed)")},_tags:function(){return this.tagList.find(".tagit-choice:not(.removed)")},assignedTags:function(){var e=this,n=[];return this.options.singleField?""===(n=t(this.options.singleFieldNode).val().split(this.options.singleFieldDelimiter))[0]&&(n=[]):this._tags().each((function(){n.push(e.tagLabel(this))})),n},_updateSingleTagsField:function(e){t(this.options.singleFieldNode).val(e.join(this.options.singleFieldDelimiter)).trigger("change")},_subtractArray:function(e,n){for(var a=[],o=0;o<e.length;o++)-1==t.inArray(e[o],n)&&a.push(e[o]);return a},tagLabel:function(e){return this.options.singleField?t(e).find(".tagit-label:first").text():t(e).find("input:first").val()},_showAutocomplete:function(){this.tagInput.autocomplete("search","")},_findTagByLabel:function(e){var n=this,a=null;return this._tags().each((function(o){if(n._formatStr(e)==n._formatStr(n.tagLabel(this)))return a=t(this),!1})),a},_isNew:function(t){return!this._findTagByLabel(t)},_formatStr:function(e){return this.options.caseSensitive?e:t.trim(e.toLowerCase())},_effectExists:function(e){return Boolean(t.effects&&(t.effects[e]||t.effects.effect&&t.effects.effect[e]))},createTag:function(e,n,a){var o=this;if(e=t.trim(e),this.options.preprocessTag&&(e=this.options.preprocessTag(e)),""===e)return!1;if(!this.options.allowDuplicates&&!this._isNew(e)){var i=this._findTagByLabel(e);return!1!==this._trigger("onTagExists",null,{existingTag:i,duringInitialization:a})&&this._effectExists("highlight")&&i.effect("highlight"),!1}if(this.options.tagLimit&&this._tags().length>=this.options.tagLimit)return this._trigger("onTagLimitExceeded",null,{duringInitialization:a}),!1;var r=t(this.options.onTagClicked?'<a class="tagit-label"></a>':'<span class="tagit-label"></span>').text(e),s=t("<li></li>").addClass("tagit-choice ui-widget-content ui-state-default ui-corner-all").addClass(n).append(r);if(this.options.readOnly)s.addClass("tagit-choice-read-only");else{s.addClass("tagit-choice-editable");var l=t("<span></span>").addClass("ui-icon ui-icon-close"),c=t('<a><span class="text-icon">×</span></a>').addClass("tagit-close").append(l).click((function(t){o.removeTag(s)}));s.append(c)}if(!this.options.singleField){var d=r.html();s.append('<input type="hidden" value="'+d+'" name="'+this.options.fieldName+'" class="tagit-hidden-field" />')}if(!1!==this._trigger("beforeTagAdded",null,{tag:s,tagLabel:this.tagLabel(s),duringInitialization:a})){if(this.options.singleField){var u=this.assignedTags();u.push(e),this._updateSingleTagsField(u)}this._trigger("onTagAdded",null,s),this.tagInput.val(""),this.tagInput.parent().before(s),this._trigger("afterTagAdded",null,{tag:s,tagLabel:this.tagLabel(s),duringInitialization:a}),this.options.showAutocompleteOnFocus&&!a&&setTimeout((function(){o._showAutocomplete()}),0)}},removeTag:function(e,n){if(n=void 0===n?this.options.animate:n,e=t(e),this._trigger("onTagRemoved",null,e),!1!==this._trigger("beforeTagRemoved",null,{tag:e,tagLabel:this.tagLabel(e)})){if(this.options.singleField){var a=this.assignedTags(),o=this.tagLabel(e);a=t.grep(a,(function(t){return t!=o})),this._updateSingleTagsField(a)}if(n){e.addClass("removed");var i=this._effectExists("blind")?["blind",{direction:"horizontal"},"fast"]:["fast"],r=this;i.push((function(){e.remove(),r._trigger("afterTagRemoved",null,{tag:e,tagLabel:r.tagLabel(e)})})),e.fadeOut("fast").hide.apply(e,i).dequeue()}else e.remove(),this._trigger("afterTagRemoved",null,{tag:e,tagLabel:this.tagLabel(e)})}},removeTagByLabel:function(t,e){var n=this._findTagByLabel(t);if(!n)throw"No such tag exists with the name '"+t+"'";this.removeTag(n,e)},removeAll:function(){var t=this;this._tags().each((function(e,n){t.removeTag(n,!1)}))}})}(jQuery);var ye=je;const ke=["ADD_config_top_fix","ADD_config_alarm","ADD_config_thumbnail_mouse","ADD_config_streamer_hide","ADD_config_chat_ctr","ADD_config_chat_image_preview","ADD_config_imgur_preview_safe","ADD_config_remember_platform","ADD_config_chat_block","ADD_config_insagirl_button"];function we(){$(`\n<div style="position:relative;margin-left:170px;">\n    <div id="notice_text_elem" title="Dosteam+ System Message">\n        <span id="notice_text">문어문어문어문어<br />블러드트레일 블러드트레일</span><span id="notice_text2"></span>\n    </div>\n    <div id="history_elem"></div>\n    <div class="AD_title">\n        <span id="ADD_twip" style="display:none;" class="btn btn-default btn-sm" aria-label="Twip donate" data-microtip-position="bottom" role="tooltip">\n            <span>Twip</span>\n        </span>\n        <span id="ADD_toonation" style="display:none;" class="btn btn-default btn-sm" aria-label="Toonation donate" data-microtip-position="bottom" role="tooltip">\n            <span>Toon</span>\n        </span>\n        <span id="ADD_change_multi" class="btn btn-default" aria-label="멀티트위치↔트위치 전환" data-microtip-position="bottom" role="tooltip">\n            <span class="glyphicon glyphicon-resize-horizontal"></span>\n        </span>\n        <span id="ADD_quick_list" class="btn btn-default" aria-label="퀵리스트" data-microtip-position="bottom" role="tooltip">\n            <span class="glyphicon glyphicon-list"></span>\n        </span>\n        <span id="ADD_config" class="btn btn-default" aria-label="설정" data-microtip-position="bottom" role="tooltip">\n            <span class="glyphicon glyphicon-cog">\n            </span>\n        </span>\n    </div>\n\n    <div id="popup_ADD_quick" class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-body">\n                <div class="quick_list_title">Quick list</div>\n                <div class="stream_list_scroll">\n                    <ul class="stream_list"></ul>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div id="popup_ADD_config" class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-body">\n                <table class="table table-condensed" style="margin-bottom:0px;">\n                    <thead>\n                        <tr>\n                            <th colspan="2">\n                                <a href="https://nomomo.github.io/Addostream/" target="_blank">ADDostram v${nomo_global.version_str}</a>\n                                <span id="new_version_available_text" style="display:none;"></span>\n                                <a id="github_url_text" href="https://nomomo.github.io/Addostream/" target="_blank"><span style="font-weight:normal;font-size:11px;margin-left:5px;">(https://nomomo.github.io/Addostream/)</span></a>\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td class="td_strong">\n                                <span aria-label="두스 메인 리스트의 최상단에\n원하는 스트리머를 고정" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                    <label class="btn btn-default btn-xxs">\n                                        <input type="checkbox" id="ADD_config_top_fix" onfocus="this.blur()"  />\n                                        <span class="glyphicon glyphicon-ok"></span>\n                                    </label> 특정 스트리머 상단 고정\n                                </span>\n                            </td>\n                            <td>\n                                <input type="text" id="ADD_config_top_fix_ID" style="width:100%;" class="input_text_by_tag ADD_config_top_fix_form form_enabled" />\n                                <ul id="ADD_config_top_fix_ID_Tags"></ul>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td class="no_border"></td>\n                            <td>\n                                <label class="btn btn-default btn-xxs">\n                                    <input type="checkbox" id="ADD_config_top_off_fix" onfocus="this.blur()" class="ADD_config_top_fix_form form_enabled" />\n                                    <span class="glyphicon glyphicon-ok"></span>\n                                </label> 오프라인 시에도 고정\n                            </td>\n                        </tr>\n                        <tr>\n                            <td class="td_strong">\n                                <span aria-label="기본 두스트림에 메인에 없는\nTwitch 스트리머를 메인에 추가\n(본 기능을 활성화하려면 Twitch 계정과의 연동이 필요)" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                    <label class="btn btn-default btn-xxs">\n                                        <input type="checkbox" id="ADD_config_alarm" onfocus="this.blur()"  />\n                                        <span class="glyphicon glyphicon-ok"></span>\n                                    </label> 메인에 스트리머 추가<br />\n                                    <div style="padding:3px;">\n                                        <a class="OpenTwitchAuth" href="https://www.dostream.com/addostream/twitch/auth/">[Twitch 계정 연동 페이지]</a>\n                                    </div>\n                                </span>\n                            </td>\n                            <td>\n                            <input type="text" id="ADD_config_top_alarm_ID" style="width:100%;" class="input_text_by_tag ADD_config_alarm_form form_enabled" /><ul id="ADD_config_top_alarm_ID_Tags"></ul></td>\n                        </tr>\n                        <tr>\n                            <td class="no_border"></td>\n                            <td>\n                                <span aria-label="스트리머 상태 조회를 위한 시간 간격" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                    조회 간격(최소 1분) <input type="text" id="ADD_config_alarm_gap" style="width:20px;height:20px;padding-left:5px;" class="ADD_config_alarm_form form_enabled" />\n                                </span>\n                                <span aria-label="위 목록에 등록된 스트리머가\n온라인이 되면 알림" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                    <span style="padding-left:15px;">\n                                        <label class="btn btn-default btn-xxs">\n                                            <input type="checkbox" id="ADD_config_alarm_noti" onfocus="this.blur()" class="ADD_config_alarm_form form_enabled" />\n                                            <span class="glyphicon glyphicon-ok"></span>\n                                        </label> 온라인 시 알림\n                                    </span>\n                                </span>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td class="td_strong">\n                                <span aria-label="기본 두스트림에 메인에 노출하고 싶지 않은\nTwitch 스트리머를 메인 리스트에서 제거" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                    <label class="btn btn-default btn-xxs">\n                                        <input type="checkbox" id="ADD_config_streamer_hide" onfocus="this.blur()"  />\n                                        <span class="glyphicon glyphicon-ok"></span>\n                                    </label> 특정 스트리머 숨기기\n                                </span>\n                            </td>\n                            <td>\n                            <span class="expand_window_on" target_elem="#ADD_config_streamer_hide_ID_container" toggle_on="▼ 목록 보기" toggle_off="▲ 목록 닫기" style="text-decoration:underline;cursor:pointer">▼ 목록 보기</span>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td class="no_border" style="height:0px;padding-top:0px;padding-bottom:0px;"></td>\n                            <td class="no_border" style="height:0px;padding-top:0px;padding-bottom:0px;">\n                                <div id="ADD_config_streamer_hide_ID_container" style="display:none;padding-top:2px;padding-bottom:2px;">\n                                    <input type="text" id="ADD_config_streamer_hide_ID" style="width:100%;" class="input_text_by_tag ADD_config_streamer_hide_form form_enabled" />\n                                    <ul id="ADD_config_streamer_hide_ID_Tags"></ul>\n                                </div>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td class="td_strong">\n                                <span aria-label="기본 두스트림에 메인에 노출하고 싶지 않은\n플랫폼에 해당되는 항목을 메인 리스트에서 제거" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                    <label class="btn btn-default btn-xxs">\n                                        <input type="checkbox" id="ADD_config_remember_platform" onfocus="this.blur()"  />\n                                        <span class="glyphicon glyphicon-ok"></span>\n                                    </label> 특정 플랫폼 숨기기\n                                </span>\n                            </td>\n                            <td>\n                                <span style="margin-left:0px;">\n                                <label class="btn btn-default btn-xxs">\n                                    <input type="checkbox" id="ADD_config_remember_twitch" class="ADD_config_remember_platform_form form_enabled" onfocus="this.blur()"  />\n                                    <span class="glyphicon glyphicon-ok"></span>\n                                </label> 트위치\n                                </span>\n                                <span style="margin-left:10px;">\n                                <label class="btn btn-default btn-xxs">\n                                    <input type="checkbox" id="ADD_config_remember_kakao" class="ADD_config_remember_platform_form form_enabled" onfocus="this.blur()"  />\n                                    <span class="glyphicon glyphicon-ok"></span>\n                                </label> 카카오\n                                </span>\n                                <span style="margin-left:10px;">\n                                <label class="btn btn-default btn-xxs">\n                                    <input type="checkbox" id="ADD_config_remember_youtube" class="ADD_config_remember_platform_form form_enabled" onfocus="this.blur()"  />\n                                    <span class="glyphicon glyphicon-ok"></span>\n                                </label> 유투브\n                                </span>\n                                <span style="margin-left:10px;">\n                                <label class="btn btn-default btn-xxs">\n                                    <input type="checkbox" id="ADD_config_remember_afreeca" class="ADD_config_remember_platform_form form_enabled" onfocus="this.blur()"  />\n                                    <span class="glyphicon glyphicon-ok"></span>\n                                </label> 아프리카\n                                </span>\n                                <span style="margin-left:10px;">\n                                <label class="btn btn-default btn-xxs">\n                                    <input type="checkbox" id="ADD_config_remember_chzzk" class="ADD_config_remember_platform_form form_enabled" onfocus="this.blur()"  />\n                                    <span class="glyphicon glyphicon-ok"></span>\n                                </label> 치지직\n                                </span>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td class="td_strong">\n                                <label class="btn btn-default btn-xxs">\n                                    <input type="checkbox" id="ADD_config_chat_ctr" onfocus="this.blur()"  />\n                                    <span class="glyphicon glyphicon-ok"></span>\n                                </label> 채팅 컨트롤\n                                <span class="tooltip_container" aria-label="채팅 관련 기능을 활성화\n채팅 관련 기능은 새로고침 해야 적용됨" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                    <span class="glyphicon glyphicon-question-sign" style="color:#333;"></span>\n                                </span>\n                            </td>\n                            <td>\n                                <span aria-label="애드온의 작동 상태를 채팅창 메시지로 알림" data-microtip-position="top-left" role="tooltip">\n                                    <span style="margin-left:0px;">\n                                        <label class="btn btn-default btn-xxs">\n                                            <input type="checkbox" id="ADD_config_sys_meg" onfocus="this.blur()" class="ADD_config_chat_ctr_form form_enabled" />\n                                            <span class="glyphicon glyphicon-ok"></span>\n                                        </label> 상태 알림\n                                    </span>\n                                </span>\n                                <span aria-label="좌표 보내기 버튼 생성" data-microtip-position="top-left" role="tooltip">\n                                    <span style="margin-left:10px;">\n                                        <label class="btn btn-default btn-xxs">\n                                            <input type="checkbox" id="ADD_config_send_location_button" onfocus="this.blur()" class="ADD_config_chat_ctr_form form_enabled" />\n                                            <span class="glyphicon glyphicon-ok"></span>\n                                        </label> 좌표 버튼\n                                    </span>\n                                </span>\n                                <span style="margin-left:10px;">\n                                    <span class="show_memo_log" style="text-decoration:underline;cursor:pointer;">\n                                        [채팅매니저 관리]\n                                    </span>\n                                </span>\n                                \x3c!--\n                                <span style="margin-left:10px;">\n                                    <label class="btn btn-default btn-xxs">\n                                        <input type="checkbox" id="ADD_config_chat_adb" onfocus="this.blur()" class="ADD_config_chat_ctr_form form_enabled" />\n                                        <span class="glyphicon glyphicon-ok"></span>\n                                    </label>  광고 차단\n                                </span>\n                                <span style="margin-left:10px;">\n                                    <label class="btn btn-default btn-xxs">\n                                        <input type="checkbox" id="ADD_config_hide_nick_change" onfocus="this.blur()" class="ADD_config_chat_ctr_form form_enabled" />\n                                        <span class="glyphicon glyphicon-ok"></span>\n                                    </label>  닉변 메시지 차단\n                                </span>\n                                --\x3e\n                            </td>\n                        </tr>\n                        <tr>\n                            <td class="no_border">\n                            </td>\n                            <td>\n                                <span aria-label="채팅창의 자동스크롤이 뜬금없이 끊기는 것을 방지\n마우스 휠을 위로 돌렸을 때 더 잘 멈추도록 함\n채팅 정지 시 더 이상 마지막 채팅을 보여주지 않음" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                    <label class="btn btn-default btn-xxs">\n                                        <input type="checkbox" id="ADD_config_chat_scroll" onfocus="this.blur()" class="ADD_config_chat_ctr_form form_enabled" />\n                                        <span class="glyphicon glyphicon-ok"></span>\n                                    </label> 자동스크롤 변경(TEST)\n                                </span>\n                                <span style="margin-left:10px;">\n                                    <span aria-label="채팅 내 좌표 링크 클릭 시 현재 창에서 열림.\nctrl 또는 shift 키를 누른 채로 클릭 시\n기존처럼 새 탭으로 열 수 있음." data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                    <label class="btn btn-default btn-xxs">\n                                        <input type="checkbox" id="ADD_config_url_self" onfocus="this.blur()" class="ADD_config_chat_ctr_form form_enabled" />\n                                        <span class="glyphicon glyphicon-ok"></span>\n                                    </label> 두스 좌표 현재 창 열기\n                                    </span>\n                                </span>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td class="no_border" style="height:16px;padding:2px 5px 0px 10px;"></td>\n                            <td style="height:16px;padding:2px 5px 0px 10px;">\n                                <span aria-label="이미지 주소 형태의 링크가\n채팅창에 등록되면 바로 보여줌" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                    <label class="btn btn-default btn-xxs">\n                                        <input type="checkbox" id="ADD_config_chat_image_preview" onfocus="this.blur()" class="ADD_config_chat_ctr_form form_enabled" />\n                                        <span class="glyphicon glyphicon-ok"></span>\n                                    </label> 이미지 미리보기\n                                </span>\n                            </td>\n                        </tr>\n                        <tr>\n                        <td class="no_border" style="height:16px;padding:1px 5px 1px 10px;"></td>\n                        <td class="no_border" style="height:16px;padding:1px 5px 1px 10px;">\n                            <span style="padding-left:20px;">\n                                <span aria-label="Imgur 주소 형태의 링크가\n채팅창에 등록되면 바로 보여줌\n(Imgur API 사용)" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                    <label class="btn btn-default btn-xxs">\n                                        <input type="checkbox" id="ADD_config_imgur_preview" onfocus="this.blur()" class="ADD_config_chat_ctr_form ADD_config_chat_image_preview_form form_enabled" />\n                                        <span class="glyphicon glyphicon-ok"></span>\n                                    </label> Imgur\n                                </span>\n                            </span>\n                            <span style="padding-left:10px;">\n                                <span aria-label="Gfycat 주소 형태의 링크가\n채팅창에 등록되면 바로 보여줌\n(Gfycat API 사용, 테스트 중)" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                    <label class="btn btn-default btn-xxs">\n                                        <input type="checkbox" id="ADD_config_gfycat_preview" onfocus="this.blur()" class="ADD_config_chat_ctr_form ADD_config_chat_image_preview_form form_enabled" />\n                                        <span class="glyphicon glyphicon-ok"></span>\n                                    </label> Gfycat\n                                </span>\n                            </span>\n                            <span style="padding-left:10px;">\n                                <span aria-label="트위치 클립 주소 형태의 링크가\n채팅창에 등록되면 섬네일을 표시\n(테스트 중)" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                    <label class="btn btn-default btn-xxs">\n                                        <input type="checkbox" id="ADD_config_chat_image_twitch_thumb" onfocus="this.blur()" class="ADD_config_chat_ctr_form ADD_config_chat_image_preview_form form_enabled" />\n                                        <span class="glyphicon glyphicon-ok"></span>\n                                    </label> 트위치\n                                </span>\n                            </span>\n                                <span style="padding-left:10px;">\n                                    <span aria-label="유투브 주소 형태의 링크가\n채팅창에 등록되면 섬네일을 표시\n(테스트 중)" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                    <label class="btn btn-default btn-xxs">\n                                        <input type="checkbox" id="ADD_config_chat_image_youtube_thumb" onfocus="this.blur()" class="ADD_config_chat_ctr_form ADD_config_chat_image_preview_form form_enabled" />\n                                        <span class="glyphicon glyphicon-ok"></span>\n                                    </label> 유투브\n                                    </span>\n                                </span>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td class="no_border" style="height:16px;padding:1px 5px 1px 10px;"></td>\n                            <td class="no_border" style="height:16px;padding:1px 5px 1px 10px;">\n                                <span aria-label="이미지를 어둡게 가려진 상태로 보여줌\n버튼을 클릭해야 이미지 보기 가능" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                    <span style="margin-left:20px;"></span>\n                                    <label class="btn btn-default btn-xxs">\n                                        <input type="checkbox" id="ADD_config_imgur_preview_safe" onfocus="this.blur()" class="ADD_config_chat_ctr_form ADD_config_chat_image_preview_form form_enabled" />\n                                        <span class="glyphicon glyphicon-ok"></span>\n                                    </label> 후방주의 기능 활성\n                                </span>\n                                <span style="display:none;">\n                                    <span aria-label="피부톤 이미지인 경우에만 후방주의 기능을 활성\n너굴맨이 이미지를 먼저 확인한 후\n피부색이 없어야 출력하므로 이미지가 조금 늦게 뜰 수 있다.\n추가 이미지 로드 시에는 적용되지 않는다." data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                        <span style="margin-left:20px;"></span>\n                                        <label class="btn btn-default btn-xxs">\n                                            <input type="checkbox" id="ADD_config_nudity_block" onfocus="this.blur()" class="ADD_config_chat_ctr_form ADD_config_chat_image_preview_form ADD_config_imgur_preview_safe_form form_enabled" />\n                                            <span class="glyphicon glyphicon-ok"></span>\n                                        </label> 피부톤 이미지만\n                                    </span>\n                                </span>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td class="no_border" style="height:16px;padding:0px 5px 3px 10px;"></td>\n                            <td class="no_border" style="height:16px;padding:0px 5px 3px 10px;">\n                                <span style="margin-left:40px;">└ 박스 투명도(0:투명, 1:불투명)</span> <input type="text" id="ADD_config_imgur_preview_opacity" style="width:32px;height:20px;padding-left:3px;" class="ADD_config_chat_ctr_form ADD_config_chat_image_preview_form ADD_config_imgur_preview_safe_form form_enabled" />\n                            </td>\n                        </tr>\n                        <tr>\n                            <td class="no_border" style="height:16px;padding:3px 5px 0px 10px;"></td>\n                            <td style="height:16px;padding:3px 5px 0px 10px;">\n                                <span aria-label="채팅 내용 또는 닉네임에 금지단어가 있으면 채팅을 차단함\n(닉 바꿔가면서 도배 시 유용)" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                    <label class="btn btn-default btn-xxs">\n                                        <input type="checkbox" id="ADD_config_chat_block" onfocus="this.blur()" class="ADD_config_chat_ctr_form form_enabled" />\n                                        <span class="glyphicon glyphicon-ok"></span>\n                                    </label> 금지단어 기반 채팅 차단\n                                </span>\n                                <span style="margin-left:10px;">\n                                    <span aria-label="채팅이 삭제되면 &lt;message deleted&gt; 로 표시" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                        <label class="btn btn-default btn-xxs">\n                                            <input type="checkbox" id="ADD_config_chat_block_noti" onfocus="this.blur()" class="ADD_config_chat_ctr_form ADD_config_chat_block_form form_enabled" />\n                                            <span class="glyphicon glyphicon-ok"></span>\n                                        </label> 삭제 여부 알림\n                                    </span>\n                                </span>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td class="no_border" style="height:16px;padding:1px 5px 3px 10px;"></td>\n                            <td class="no_border" style="height:16px;padding:1px 5px 3px 10px;">\n                            <span style="margin-left:20px;">\n                                검색 대상:\n                                <span style="margin-left:5px;">\n                                    <span aria-label="채팅 내용에 금지단어가 있으면 차단" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                        <label class="btn btn-default btn-xxs">\n                                            <input type="checkbox" id="ADD_config_chat_block_contents" onfocus="this.blur()" class="ADD_config_chat_ctr_form ADD_config_chat_block_form form_enabled" />\n                                            <span class="glyphicon glyphicon-ok"></span>\n                                        </label> 내용\n                                    </span>\n                                </span>\n                            </span>\n                            <span style="margin-left:5px;">\n                                <span aria-label="채팅 닉네임에 금지단어가 있으면 차단\n닉네임이 바뀌는 환경에서 유용함(ex. 우하하)" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                    <label class="btn btn-default btn-xxs">\n                                        <input type="checkbox" id="ADD_config_chat_block_nickname" onfocus="this.blur()" class="ADD_config_chat_ctr_form ADD_config_chat_block_form form_enabled" />\n                                        <span class="glyphicon glyphicon-ok"></span>\n                                    </label> 닉네임\n                                </span>\n                            </span>\n                            <span class="expand_window_on" target_elem="#block_contents_tr" toggle_on="▼ 단어 보기" toggle_off="▲ 메뉴 닫기" style="margin-left:5px;text-decoration:underline;cursor:pointer">▼ 단어 보기</span>\n                            <span class="tooltip_container" aria-label="차단된 채팅 기록 보기" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                <span class="show_blocked_chat" style="float:right;text-decoration:underline;cursor:pointer;">[Log]</span>\n                            </span>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td class="no_border" style="height:0px;padding-top:0px;padding-bottom:0px;"></td>\n                            <td class="no_border" style="height:0px;padding-top:0px;padding-bottom:0px;">\n                                <div id="block_contents_tr" style="display:none;padding-top:2px;padding-bottom:2px;">\n                                    <input type="text" id="ADD_config_chat_block_tag" style="width:100%;" class="input_text_by_tag ADD_config_chat_ctr_form ADD_config_chat_block_form form_enabled" /><ul id="ADD_config_chat_block_tag_Tags"></ul>\n                                </div>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td class="td_strong">\n                                <label class="btn btn-default btn-xxs">\n                                    <input type="checkbox" id="ADD_config_thumbnail_mouse" class="" onfocus="this.blur()"  />\n                                    <span class="glyphicon glyphicon-ok"></span>\n                                </label> 섬네일 마우스온 확대</td>\n                            <td>\n                                <label class="radio-inline">\n                                    <input type="radio" name="ADD_config_thumbnail_size" id="ADD_config_thumbnail_size_1" value="1" class="ADD_config_thumbnail_mouse_form form_enabled" onfocus="this.blur()"> 작음\n                                </label>\n                                <label class="radio-inline">\n                                    <input type="radio" name="ADD_config_thumbnail_size" id="ADD_config_thumbnail_size_2" value="2" class="ADD_config_thumbnail_mouse_form form_enabled" onfocus="this.blur()"> 중간\n                                </label>\n                                <label class="radio-inline">\n                                    <input type="radio" name="ADD_config_thumbnail_size" id="ADD_config_thumbnail_size_3" value="3" class="ADD_config_thumbnail_mouse_form form_enabled" onfocus="this.blur()"> 큼\n                                </label>\n                            </td>\n                        </tr>\n                        <tr class="debug_active" style="display:none;">\n                            <td class="td_strong">개발 중 기능 표시 <span class="glyphicon glyphicon-wrench" style="color:#999;"></span>\n                                <span class="tooltip_container" aria-label="개발 중인 기능을 보여준다. 해당 기능들은 완성되지 않았으며 불안정함." data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                    <span class="glyphicon glyphicon-question-sign" style="color:#999;"></span>\n                                </span>\n                            </td>\n                            <td><input type="checkbox" id="ADD_config_under_dev" onfocus="this.blur()" class="form_enabled" /></td>\n                        </tr>\n                        <tr>\n                            <td class="td_strong">\n                                기타 기능 On-Off\n                            </td>\n                            <td>\n                                <span style="margin-left:0px;">\n                                    <span aria-label="이전 시청 기록 보여줌" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                        <label class="btn btn-default btn-xxs">\n                                            <input type="checkbox" id="ADD_config_history" class="" onfocus="this.blur()"  />\n                                            <span class="glyphicon glyphicon-ok"></span>\n                                        </label> 시청기록\n                                    </span>\n                                    <span style="margin-left:5px;" aria-label="채팅창 위치를 왼쪽으로 변경" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                        <label class="btn btn-default btn-xxs">\n                                            <input type="checkbox" id="ADD_config_theme_leftchat" class="" onfocus="this.blur()"  />\n                                            <span class="glyphicon glyphicon-ok"></span>\n                                        </label> 좌측채팅\n                                    </span>\n                                </span>\n                                <span style="">\n                                    <span style="margin-left:5px;">\n                                        <span aria-label="두스 내에서 좌표 페이지 호출" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                            <label class="btn btn-default btn-xxs">\n                                                <input type="checkbox" id="ADD_config_insagirl_button" class="" onfocus="this.blur()"  />\n                                                <span class="glyphicon glyphicon-ok"></span>\n                                            </label> 빠른좌표\n                                        </span>\n                                    </span>\n                                    <span style="margin-left:5px;">\n                                        <span aria-label="채팅매니저에서 차단한 유저의 좌표를\n빠른 좌표 페이지에서 보이지 않도록 함" data-microtip-position="top-left" data-microtip-size="custom" role="tooltip">\n                                            <label class="btn btn-default btn-xxs">\n                                                <input type="checkbox" id="ADD_config_insagirl_block_by_nick" onfocus="this.blur()" class="ADD_config_chat_ctr_form ADD_config_insagirl_button_form form_enabled" />\n                                                <span class="glyphicon glyphicon-ok"></span>\n                                            </label> 좌표차단\n                                        </span>\n                                    </span>\n                                </span>\n                            </td>\n                        </tr>\n                        <tr style="display:none;">\n                            <td class="td_strong">\n                                <label class="btn btn-default btn-xxs">\n                                    <input type="checkbox" id="ADD_config_twitch_interacite" class="" onfocus="this.blur()"  />\n                                    <span class="glyphicon glyphicon-ok"></span>\n                                </label> 반응형 트위치 사용</td>\n                            <td>\n                            <td>\n\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div class="modal-footer">\n                \x3c!--<div class="glyphicon glyphicon-ok bg-success" style="display:block;float:left;height:30px; width:100%;padding:7px 0px;">Saved successfully!</div>--\x3e\n                <div id="ADD_config_Success" class="btn btn-success confirm_selection" style="display:none;">Done! 문제 발생 시 새로고침 or 재설치!</div>\n                <button type="button" id="ADD_config_restore" class="btn btn-default btn-sm">Backup & Restore</button>\n                <button type="button" id="Cookie_reset" class="btn btn-sm">Reset</button>\n                <button type="button" id="ADD_config_save" class="btn btn-primary btn-sm">Save</button>\n            </div>\n        </div>\n    </div>\n\n</div>\n        `).appendTo("header .container").on("click","#ADD_quick_list",(function(t){t.stopPropagation(),$("#ADD_quick_list").hasClass("btn_opend")?($("#popup_ADD_quick").stop(!0,!0).fadeOut(300,(function(){$("#popup_ADD_quick").find("ul").empty()})),$("#ADD_quick_list").removeClass("btn_opend")):(P(1),$("#popup_ADD_quick").stop(!0,!0).fadeIn(300),$("#ADD_quick_list").toggleClass("btn_opend"),$("#popup_ADD_config").stop(!0,!0).fadeOut(300),$("#ADD_config").removeClass("btn_opend"),$("#popup_ADD_test").stop(!0,!0).fadeOut(300),$("#ADD_test_button").removeClass("btn_opend"))})).on("click","#ADD_config",(async function(t){t.stopPropagation(),$("#ADD_config").hasClass("btn_opend")?($("#popup_ADD_config").stop(!0,!0).fadeOut(300),$("#ADD_config").removeClass("btn_opend")):(xe(),$("#popup_ADD_config").stop(!0,!0).fadeIn(300),$("#ADD_config").toggleClass("btn_opend"),$("#popup_ADD_quick").stop(!0,!0).fadeOut(300),$("#ADD_quick_list").removeClass("btn_opend"),$("#popup_ADD_test").stop(!0,!0).fadeOut(300),$("#ADD_test_button").removeClass("btn_opend"))})).on("click","#ADD_test_button",(function(t){t.stopPropagation(),$("#ADD_test_button").hasClass("btn_opend")?($("#popup_ADD_test").stop(!0,!0).fadeOut(300),$("#ADD_test_button").removeClass("btn_opend").addClass("btn_closed")):($("#popup_ADD_test").stop(!0,!0).fadeIn(300),$("#ADD_test_button").toggleClass("btn_opend"),$("#popup_ADD_quick").stop(!0,!0).fadeOut(300),$("#ADD_quick_list").removeClass("btn_opend"),$("#popup_ADD_config").stop(!0,!0).fadeOut(300),$("#ADD_config").removeClass("btn_opend"))})).on("click","#ADD_config_save",(async()=>{!async function(){await async function(){for(var t in ADD_config){var e,n,a;e="thumbnail_size"==t?"input[name=ADD_config_"+t+"]:checked":"#ADD_config_"+t,0!==(n=$(e)).length?("text"==(a=GM_setting.getType(t))||"none"==a?ADD_config[t]=n.val():"checkbox"==a?ADD_config[t]=n.prop("checked"):"radio"==a?ADD_config[t]=n.val():"tag"==a&&(ADD_config[t]="top_fix_ID"===t||"top_alarm_ID"===t||"streamer_hide_ID"===t?n.val().replace(/\s/g,"").toLowerCase().split(","):n.val().split(",")),e=null,n=null,a=null):(e=null,n=null,a=null)}await GM_setting.save_overwrite()}(),!0===nomo_global.local_api_refresh&&(nomo_global.local_api_refresh=!1,nomo_global.api_push_forced=!0,await ae(),oe(),setTimeout((function(){nomo_global.local_api_refresh=!0}),5e3));ye("설정 저장에 의한 이벤트 바인딩"),be(),$("#ADD_config_Success").fadeIn("1000").delay("3000").fadeOut("1000"),Be()}()})).on("click","#Cookie_reset",(async()=>{if(1==confirm("모든 설정을 초기화 하려면 확인(OK) 버튼을 누르세요.")){await GM_setting.reset(),xe(),await Ie.setVal("ADD_Blocked_Chat",[]),await GM.deleteValue("ADD_chat_manager_data");var t=new Date(Date.parse(new Date)-1728e5);await Ie.setVal("ADD_version_last_check_time",t),$("#ADD_config_Success").fadeIn("1000").delay("3000").fadeOut("1000"),ye("설정 리셋 완료")}else alert("설정 초기화가 취소되었습니다."),ye("설정 리셋 취소")})).on("click","#ADD_config_restore",(async()=>{var t=await GM.getValue("ADD_config");$e(t)||(t=JSON.stringify(t));var e=await GM.getValue("ADD_chat_manager_data",[]);$e(e)||(e=JSON.stringify(e));var n="<<<ADD_chat_memo>>>"+e+"<<<ADD_config>>>"+t+"<<<END>>>",a=_e(n);ye("backup_text",n),ye("MD5_key",a),n="<VERIFICATION_KEY:"+a+">"+n,$("html").addClass("no-scroll"),$('\n                <div class="lightbox-opened">\n                <div class="backup_layout" style="position: absolute; top: 50%;left:50%; width: 600px; height:300px; margin-left:-300px; margin-top:-150px;">\n                <div style="width:600px;height:200px;cursor:default;" class="modal-content">\n                <div style="padding:7px 0;font-size:12px;"><span style="font-weight:700;">Backup & Restore - 메모 및 주요 설정 백업 및 복원</span><br />복원 방법: 아래 기존 백업한 내용을 붙여넣기 후 SAVE (버전이 다르면 복원되지 않을 수 있음)</div>\n                <textarea spellcheck="false" id="backup_textbox" style="width:90%;height:100px;font-size:11px;padding:2px;white-space: pre-wrap;word-wrap: break-all;">'+n+'</textarea>\n                <div style="padding:5px 0;"><span id="backup_ok" class="btn btn-default">SAVE</span></div>\n                </div>\n                <div id="backup_text_container" style="position:relative;top:10px;left:0px; width:600px;height:30px;font-size:12px;cursor:pointer;"><span id="backup_text" style="color:#fff">저장하지 않고 나가려면 배경화면을 누르세요.</span></div>\n                </div>\n                </div>\n                ').on("click","#backup_ok",(async()=>{var t=await GM.getValue("ADD_config"),e=await GM.getValue("ADD_chat_manager_data",[]),n=$("#backup_textbox").val();$("#backup_text").fadeOut(200),setTimeout((async()=>{var a,o=n.substr(0,18),i=n.substr(n.length-9,9),r=n.indexOf("<<<ADD_chat_memo>>>"),s=n.indexOf("<<<ADD_config>>>");if("DEBUG"===n)nomo_global.DEBUG=!nomo_global.DEBUG,await Ie.setVal("nomo_global.DEBUG",nomo_global.DEBUG),a="DEBUG 모드: "+nomo_global.DEBUG,await Ie.setVal("ADD_DEBUG_MODE",nomo_global.DEBUG);else if("<VERIFICATION_KEY:"!==o)ye("checked_text1:",o),a='입력한 내용에 문제가 있습니다.<br />복원할 설정은 반드시 공백 없이 "&lt;VERIFICATION_KEY:" 로 시작해야 합니다.';else if("<<<END>>>"!==i)ye("checked_text2:",i),a='입력한 내용에 문제가 있습니다.<br />복원할 설정은 반드시 공백 없이 "&lt;&lt;&lt;END&gt;&gt;&gt;" 로 끝나야 합니다.';else if(-1==r)ye("checked_text3:",r),a="입력한 내용에 문제가 있습니다. 메모 정보가 없습니다.(&lt;&lt;&lt;ADD_chat_memo&gt;&gt;&gt;)";else if(-1==s)ye("checked_text4:",s),a="입력한 내용에 문제가 있습니다. 설정 정보가 없습니다.(&lt;&lt;&lt;ADD_config&gt;&gt;&gt;)";else{var l=n.substr(51,n.length-51),c=n.substr(18,32),d=_e(l);if(ye("validation_key: ",c),ye("restore_validation_key: ",d),l=l.replace("<<<END>>>",""),c!==d&&"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"!==c)a="VERIFICATION KEY가 일치하지 않아 정상적인 복원을 보증할 수 없습니다.<br />입력된 키:"+c+"<br />복원한 키:"+d+"<br />TIP: 강제로 복원하려면 복원키를 aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa (a가 32개) 로 입력하세요.";else{var u=l.split("<<<ADD_chat_memo>>>")[1].split("<<<ADD_config>>>")[0],h=l.split("<<<ADD_config>>>")[1];ye("recorver_chat_memo: ",u),ye("restore_config: ",h),null==u?a="메모 복원 중 오류 발생!<br />나가려면 배경화면을 누르세요.":null==h?a="설정 복원 중 오류 발생!<br />나가려면 배경화면을 누르세요.":t==h&&e==u?a="현재 설정과 복원할 설정이 같아서 복원하지 않습니다. <br />나가려면 배경화면을 누르세요.":(h=Pe(h),window.ADD_config=h,await GM_setting.save_overwrite(),xe(),u=Pe(u),await GM.setValue("ADD_chat_manager_data",u),a="설정이 복원되었습니다. 문제 발생 시 확장기능에서 ADDostream을 초기화 or 삭제 후 재설치 하세요. <br /> 나가려면 배경화면을 누르세요.")}}$("#backup_text").html(a).fadeIn(200)}),200)})).appendTo("body")})).on("click",".show_memo_log",(async()=>{Yt(),ye("메모 로그 버튼 클릭됨"),Qt()})).on("click",".expand_window_on",(function(){var t=$(this).attr("target_elem"),e=$(this).attr("toggle_on"),n=$(this).attr("toggle_off");$(t).is(":visible")?$(this).text(e):$(this).text(n),$(t).slideToggle("fast")})).on("click","#ADD_change_multi",(function(){var t=location.href,e=t.toLowerCase(),n=e.indexOf("/stream/"),a=e.indexOf("/twitch/"),o=e.indexOf("/multitwitch/"),i="";if(-1!==n)if(-1!==a)if(ADD_config.playing_chat_iframe&&-1===e.indexOf("&")&&-1===e.indexOf(",")){var r=$("#stream"),s=$(".stream_chat");if(0===s.length){var l=ADD_config.playing_chat_iframe_width;$.isNumeric(l)||(l=300);var c="";switch(ADD_config.playing_chat_iframe_theme){case"default":("black_youtube"===ADD_config.theme||"dark"===ADD_config.theme||"black"===ADD_config.theme||$("body").hasClass("theme-black")||$("body").hasClass("theme-black_youtube"))&&(c="&darkpopout");break;case"black_youtube":case"dark":c="&darkpopout"}var d,u=$("header");d=1===u.length?u.outerHeight():"45",r.find("iframe").css("width",`calc(100% - ${l}px)`),s=$(`<div class="stream_chat" style="position:absolute;margin-top:${d}px;top:0;height:calc(100% - ${d}px);"></div>`),r.append(s);var h=`<div class="stream_chat_iframe" style="width:${l}px;height:100%;"><iframe src="https://www.twitch.tv/embed/${nomo_global.ADD_now_playing.id}/chat?parent=www.dostream.com${c}" width="100%" height="100%" frameborder="0" scrolling="no" allowfullscreen="allowfullscreen"></iframe></div>`;s.empty().append(h)}else s.remove(),r.find("iframe").css("width","100%")}else i=t.replace("/twitch/","/multitwitch/"),window.location.href=i;else-1!==o&&(i=t.replace("/multitwitch/","/twitch/"),window.location.href=i)})).on("click","#ADD_twip",(function(){if(void 0!==nomo_global.ADD_now_playing.id&&""!==nomo_global.ADD_now_playing.id){var t=$(window).width(),e=$(window).height(),n=t>850?850:t/5*4,a=t/2-n/2,o=e/2-e/5*4/2;void 0!==nomo_global.ADD_now_playing.twip_link&&""!==nomo_global.ADD_now_playing.twip_link&&window.open(nomo_global.ADD_now_playing.twip_link,"winname","directories=yes,titlebar=yes,toolbar=yes,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width="+n+",height="+e/5*4+",top="+o+",left="+a)}else ye("ADD_now_playing 이 없다.",nomo_global.ADD_now_playing)})).on("click","#ADD_toonation",(function(){if(void 0!==nomo_global.ADD_now_playing.id&&""!==nomo_global.ADD_now_playing.id){var t=$(window).width(),e=$(window).height(),n=t>850?850:t/5*4,a=t/2-n/2,o=e/2-e/5*4/2;void 0!==nomo_global.ADD_now_playing.toonat_link&&""!==nomo_global.ADD_now_playing.toonat_link&&window.open(nomo_global.ADD_now_playing.toonat_link,"winname","directories=yes,titlebar=yes,toolbar=yes,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width="+n+",height="+e/5*4+",top="+o+",left="+a)}else ye("ADD_now_playing 이 없다.",nomo_global.ADD_now_playing)})).on("click",".OpenTwitchAuth",(function(t){t.preventDefault();var e=$(window).width(),n=$(window).height(),a=e>850?850:e/5*4;window.open("https://www.dostream.com/addostream/twitch/auth/","winname","directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width="+a+",height="+n/5*4)})),$(document).on("click","html, ul.stream_list",(function(t){if(0!==$(t.target).parents("ul").filter((function(){return $(this).hasClass("ui-autocomplete")})).length)return!1;$("#ADD_quick_list").hasClass("btn_opend")&&($("#popup_ADD_quick").stop(!0,!0).fadeOut(300),$("#ADD_quick_list").removeClass("btn_opend").addClass("btn_closed")),$("#ADD_config").hasClass("btn_opend")&&($("#popup_ADD_config").stop(!0,!0).fadeOut(300),$("#ADD_config").removeClass("btn_opend").addClass("btn_closed")),$("#ADD_test_button").hasClass("btn_opend")&&($("#popup_ADD_test").stop(!0,!0).fadeOut(300),$("#ADD_test_button").removeClass("btn_opend").addClass("btn_closed"))})).on("click","div.modal-content",(function(t){t.stopPropagation()}));var t=function(t){var e=t;if(null==e)return t;if(-1!=e.indexOf("(")&&-1!=e.indexOf(")")){if(null==(e=e.split("(")[1].split(")")[0].replace(" ","")))return t;if(-1!=$.inArray(e,o))return e}else{var n=$.inArray(e,i);if(-1!=n)return o[n]}return t},e=function(e,n){var a=n.existingTag.closest("ul").find('li.tagit-new input[type="text"]'),o=a.val();a.val(t(o))},n={placeholder:"sortable-placeholder",start:function(t,e){e.placeholder.addClass("tagit-choice ui-widget-content ui-state-default ui-corner-all tagit-choice-editable").css("background-color","yellow"),e.placeholder.html(e.item.html())},cursor:"move",distance:5,opacity:.5,revert:100,out:function(t,e){ye("sortable change",t,e);var n=[];$(this).find("span.tagit-label").each((function(){n.push($(this).text())}));var a=n.join(","),o=$(this).attr("id").replace("_Tags","");$("#"+o).val(a)}};if($("#ADD_config_top_fix_ID_Tags").tagit({autocomplete:{delay:0},onTagExists:e,preprocessTag:t,availableTags:r,singleField:!0,singleFieldNode:$("#ADD_config_top_fix_ID")}),$("#ADD_config_top_fix_ID_Tags").sortable(n),$("#ADD_config_top_fix_ID_Tags").disableSelection(),$("#ADD_config_top_alarm_ID_Tags").tagit({autocomplete:{delay:0},onTagExists:e,preprocessTag:t,availableTags:r,singleField:!0,singleFieldNode:$("#ADD_config_top_alarm_ID")}),$("#ADD_config_top_alarm_ID_Tags").sortable(n),$("#ADD_config_top_alarm_ID_Tags").disableSelection(),$("#ADD_config_streamer_hide_ID_Tags").tagit({autocomplete:{delay:0},onTagExists:e,preprocessTag:t,availableTags:r,singleField:!0,singleFieldNode:$("#ADD_config_streamer_hide_ID")}),$("#ADD_config_streamer_hide_ID_Tags").sortable(n),$("#ADD_config_streamer_hide_ID_Tags").disableSelection(),$("#ADD_config_chat_block_tag_Tags").tagit({autocomplete:{delay:0},singleField:!0,singleFieldNode:$("#ADD_config_chat_block_tag"),allowSpaces:!0}),$("#ADD_config_chat_block_tag_Tags").sortable(n),$("#ADD_config_chat_block_tag_Tags").disableSelection(),$("li.tagit-new").each((function(){$(this).hide()})),$("input:text .ui-autocomplete-input").each((function(){$(this).attr("spellcheck",!1)})),$(document).on("click","ul.tagit",(function(){$(this).find("li.tagit-new").show(),$(this).find("li.tagit-new input:text").focus()})).on("click","li.tagit-choice",(function(t){t.stopPropagation()})).on("click",'#popup_ADD_config table td input[type="checkbox"]',(function(){$(this).parent("label.btn").toggleClass("active")})),void 0!==$(".footer").html()){var a=$(".footer").html().replace("@",'<div id="at" title="????">@</div>');$(".footer").html(a).on("click","#at",(function(){$("body").append('<div class="sigong"><div class="sigong_detail1"></div><div class="sigong_detail2"></div></div><div class="hos"></div><div style="display: none;"><audio autoplay="true" controls="" class="attach_audio" src="https://cdh0912.github.io/assets/files/시공의 폭풍은 정말 최고야.mp3" type="audio/mpeg"></audio><audio autoplay="true" controls="" class="attach_audio" src="https://cdh0912.github.io/assets/files/시공좋아시공좋아.mp3" type="audio/mpeg"></audio></div>'),$("head").append('\n                <style id="addostreamCSS" rel="stylesheet" type="text/css">\n                body,html{animation-duration:.1s;animation-timing-function:ease-in-out}.hos,.sigong div{background-size:contain;background-position:center}.iframeclass{position:absolute;top:0;left:0;width:100%;height:100%}@keyframes shake{2%{transform:translate(-.5px,-.5px) rotate(.5deg)}4%{transform:translate(2.5px,-1.5px) rotate(-.5deg)}6%,68%,94%{transform:translate(2.5px,.5px) rotate(1.5deg)}8%{transform:translate(-.5px,2.5px) rotate(-.5deg)}10%,78%,86%{transform:translate(1.5px,-.5px) rotate(1.5deg)}12%,90%{transform:translate(.5px,-1.5px) rotate(-.5deg)}14%{transform:translate(.5px,-1.5px) rotate(.5deg)}16%,26%{transform:translate(-.5px,.5px) rotate(.5deg)}18%{transform:translate(-1.5px,1.5px) rotate(.5deg)}20%,96%{transform:translate(-.5px,-1.5px) rotate(-.5deg)}22%,76%{transform:translate(1.5px,1.5px) rotate(.5deg)}24%{transform:translate(-1.5px,2.5px) rotate(1.5deg)}28%{transform:translate(-1.5px,1.5px) rotate(-.5deg)}30%{transform:translate(1.5px,.5px) rotate(.5deg)}32%{transform:translate(1.5px,-.5px) rotate(.5deg)}34%,66%{transform:translate(2.5px,1.5px) rotate(-.5deg)}36%,72%{transform:translate(-1.5px,-.5px) rotate(-.5deg)}38%,62%{transform:translate(1.5px,2.5px) rotate(-.5deg)}40%,98%{transform:translate(-.5px,-1.5px) rotate(.5deg)}42%{transform:translate(.5px,.5px) rotate(.5deg)}44%{transform:translate(1.5px,1.5px) rotate(-.5deg)}46%,64%{transform:translate(-1.5px,.5px) rotate(-.5deg)}48%{transform:translate(1.5px,1.5px) rotate(1.5deg)}50%{transform:translate(.5px,-.5px) rotate(.5deg)}52%,84%{transform:translate(-.5px,.5px) rotate(1.5deg)}54%{transform:translate(1.5px,-1.5px) rotate(.5deg)}56%,74%,92%{transform:translate(-.5px,-1.5px) rotate(1.5deg)}58%{transform:translate(2.5px,1.5px) rotate(.5deg)}60%{transform:translate(-.5px,-.5px) rotate(1.5deg)}70%{transform:translate(-1.5px,-1.5px) rotate(.5deg)}80%{transform:translate(-.5px,1.5px) rotate(1.5deg)}82%{transform:translate(2.5px,2.5px) rotate(.5deg)}88%{transform:translate(2.5px,-1.5px) rotate(.5deg)}0%,100%{transform:translate(0,0) rotate(0)}}@keyframes shake-little{14%,18%,2%,26%,28%,36%,46%,52%,54%,66%,78%,80%,82%,84%{transform:translate(0,0) rotate(.5deg)}16%,22%,30%,38%,4%,40%,42%,48%,58%,6%,60%,62%,64%,68%,74%,8%,88%,90%,96%,98%{transform:translate(2px,2px) rotate(.5deg)}10%,20%,32%,34%,44%,50%,56%,70%,72%,86%,92%,94%{transform:translate(2px,0) rotate(.5deg)}12%,24%,76%{transform:translate(0,2px) rotate(.5deg)}0%,100%{transform:translate(0,0) rotate(0)}}@keyframes spin{0%{transform:rotate(0)}0.1%{transform:rotate(-60deg)}0.2%{transform:rotate(-144deg)}0.25%{transform:rotate(-252deg)}0.3%{transform:rotate(-396deg)}0.35%{transform:rotate(-576deg)}0.4%{transform:rotate(-792deg)}0.45%{transform:rotate(-1152deg)}0.5%{transform:rotate(-1632deg)}0.6%{transform:rotate(-2352deg)}0.7%{transform:rotate(-4012deg)}2.1%{transform:rotate(-56856deg)}2.2%{transform:rotate(-58514deg)}2.3%{transform:rotate(-59234deg)}2.4%{transform:rotate(-59703deg)}2.5%{transform:rotate(-60063deg)}2.6%{transform:rotate(-60279deg)}2.7%{transform:rotate(-60603deg)}2.8%{transform:rotate(-60711deg)}100%{transform:rotate(-82656deg)}}@keyframes scale-up{0%,0.5%{transform:scale(.5)}1%,1.7%{transform:scale(2.5)}2.0%{transform:scale(.5) translate(200px,-200px)}}@keyframes remove-border{1%{border-color:rgba(255,255,255,0);background-color:rgba(255,255,255,0)}}@keyframes fall-header{0%{top:0}0.6%{opacity:1}0.7%{top:350px;transform:scale(0) perspective(450px) rotateY(155deg) rotateZ(100deg);opacity:0}100%{opacity:0}}@keyframes fall-sharemenu{0.5%{transform:translate(-100%,0) rotate(-270deg) scale(.2);opacity:1}0.55%,100%{opacity:0}}@keyframes fall-search_box{0.4%{transform:translate(-10%,-500%) rotate(400deg) scale(0);opacity:1}0.45%,100%{opacity:0}}@keyframes fall-list_btn_top_right{0.5%{transform:translate(45vw,212px) rotate(180deg) scale(.2);transform-origin:left;opacity:1}0.55%,100%{opacity:0}}@keyframes fall-list_btn_top_left{0.5%{transform:translate(-45vw,212px) rotate(180deg) scale(.2);transform-origin:left;opacity:1}0.55%,100%{opacity:0}}@keyframes fall-list_btn_bottom_right{0.5%{transform:translate(45vw,-212px) rotate(180deg) scale(.2);transform-origin:left;opacity:1}0.55%,100%{opacity:0}}@keyframes fall-list_btn_bottom_left{0.5%{transform:translate(-45vw,-312px) rotate(180deg) scale(.2);transform-origin:left;opacity:1}0.55%,100%{opacity:0}}@keyframes fall-cafemenu{0.7%{transform:translate(44vw,-2%) rotate(345deg) scale(.05);opacity:1}0.75%,100%{opacity:0}}@keyframes fall-commentDiv{1%{transform:translate(-6vw,-8vw) rotateX(230deg) rotateY(240deg) scale(.05);opacity:1;transform-origin:top}1.1%,100%{opacity:0}}@keyframes fall-subject{0.5%{transform:translate(45vw,190px) rotate(50deg) scale(.4);transform-origin:right;opacity:1}0.55%,100%{opacity:0}}@keyframes fall-writer{0.5%{transform:translate(40vw,180px) rotate(-60deg) scale(.4);transform-origin:right;opacity:1}0.55%,100%{opacity:0}}@keyframes fall-url{0.5%{transform:translate(45vw,180px) rotate(-45deg) scale(.2);transform-origin:right;opacity:1}0.55%,100%{opacity:0}}@keyframes fall-comment_cnt{0.5%{transform:translate(40vw,-82px) rotate(180deg) scale(.2);transform-origin:left;opacity:1}0.55%,100%{opacity:0}}@keyframes fall-ccl{0.3%{transform:rotate(35deg) translate(-10vw,30%) scale(.8);transform-origin:left;opacity:1}0.5%{transform:rotate(55deg) translate(-20vw,60%) scale(.3);transform-origin:left;opacity:.8}0.52%,100%{opacity:0}}@keyframes appear-hos{0.04%,100%{opacity:1}}@keyframes fall-paging{0.5%{transform:rotate(-45deg) translate(7vw,-400px) scale(.5);opacity:1}0.55%,100%{opacity:0}}@keyframes fall-minidaum{0.5%{transform:rotate(-48deg) translate(-25vw) scale(.5);opacity:1}0.55%,100%{opacity:0}}html{animation-name:shake;animation-iteration-count:190;animation-delay:6.5s}body{animation-name:shake-little;animation-iteration-count:245;animation-delay:0s}.open_article{display:none}.bbs_contents{z-index:0}#header{z-index:2000}#title,.wrap{overflow:visible;animation:1000s fall-header ease-out 8.5s}#shareMenu{z-index:2000}#shareMenu>*{animation:1000s fall-sharemenu cubic-bezier(.85,.18,1,1.01) 7s;z-index:2000}.kakao,.twitch,.youtube{animation:1000s fall-list_btn_top_right cubic-bezier(.85,.18,1,1.01) 9s;z-index:2000}.ADD_checkbox_container{animation:1000s fall-list_btn_top_left cubic-bezier(.85,.18,1,1.01) 7s;z-index:2000}li a img{animation:1000s fall-list_btn_bottom_right cubic-bezier(.85,.18,1,1.01) 7s;z-index:2000}.count span,.count span span,.large_check,.setting_icon,.uchat_scroll{animation:1000s fall-list_btn_bottom_left cubic-bezier(.85,.18,1,1.01) 7s;z-index:2000}.checkbox,.multitwitch{animation:1000s fall-cafemenu linear 8s;z-index:2000}.title{animation:1000s fall-commentDiv linear 10s;z-index:2001}.nav-brand,.nav-brand_mod{animation:1000s fall-subject linear 7s;z-index:2000}#multitwitch,.AD_title,.checkbox{animation:1000s fall-writer linear 8s;z-index:2000}.from,.multitwitch_button{animation:1000s fall-url linear 7s;z-index:2000}.chat-container,.info,.search ul li div{animation:1000s fall-ccl linear 11s;z-index:2000}.info,.search ul li div{animation:1000s fall-ccl linear 7s;z-index:2000}.input{animation:1000s remove-border linear 10s}.footer{animation:1000s fall-paging linear 8s;z-index:2000}.chat-btns button{animation:1000s fall-minidaum linear 10s;z-index:2000}.sigong div{width:300px;height:300px;min-width:300px;top:0;left:0;background-repeat:no-repeat}.sigong .sigong_detail1{position:absolute;//background-image:url(http://cfile263.uf.daum.net/image/2120C1435920967129707D);background-image:url(http://i.imgur.com/pIIwR9c.png)}.sigong .sigong_detail2{//background-image:url(http://cfile290.uf.daum.net/image/2720604359209677295E2D);background-image:url(http://i.imgur.com/k52hCin.png);animation:spin 1000s linear infinite}#user_contents{overflow:visible!important}.hos{//background-image:url(http://cfile278.uf.daum.net/image/2124B4435920967229A02D);background-image:url(http://i.imgur.com/Ur5t9G5.png)}audio{visibility:hidden}@media screen and (min-width:480px){.hos,.sigong{top:300px;position:absolute;right:50%}.sigong{margin-top:-100px;animation:scale-up 1000s linear infinite;z-index:1000;margin-right:-105px}.hos{opacity:0;animation:1000s appear-hos linear 20s;width:708px;height:700px;margin-top:-338px;margin-right:-360px}}@media screen and (max-width:480px){.hos,.mobilebox{position:absolute;left:0;width:100%}.hos,.mobilebox,.sigong,.sigong div{width:100%}@keyframes scale-up{0%,0.5%{transform:scale(.5)}1%,2%{transform:scale(1.2)}2.5%{transform:scale(.21) translate(33%,-47%)}}@keyframes mobile_comment1{0.5%{transform:translate(0,-100px) scale(.4) rotate(-225deg);opacity:1}0.55%{opacity:0}}@keyframes mobile_comment2{0.5%{transform:translate(0,-200px) scale(.4) rotate(-45deg);opacity:1}0.55%{opacity:0}}@keyframes mobile_comment3{0.5%{transform:translate(0,-300%) scale(.4) rotate(70deg);opacity:1}0.55%{opacity:0}}@keyframes mobile_comment4{0.5%{transform:translate(0,-400%) scale(.4) rotate(-80deg);opacity:1}0.55%{opacity:0}}@keyframes mobile_comment5{0.5%{transform:translate(0,-500%) scale(.4) rotate(200deg);opacity:1}0.55%{opacity:0}}@keyframes mobile_subject{1%{transform:translate(0,250px) scale(.2) rotateX(60deg) rotateY(60deg) rotateZ(360deg);opacity:1}1.05%{opacity:0}}@keyframes mobile_navi{0.6%{transform:translate(0,350px) scale(.5) rotate(-145deg);opacity:1}0.65%{opacity:0}}@keyframes mobile_tabcafe{0.6%{transform:translate(0,-100px) scale(.2) rotate(-145deg);opacity:1}0.65%{opacity:0}}@keyframes mobile_optionbtn1{0.6%{transform:translate(-65px,-10px) scale(.5);opacity:1}0.65%{opacity:0}}@keyframes mobile_optionbtn2{0.6%{transform:translate(-100px,-10px) scale(.5);opacity:1}0.65%{opacity:0}}@keyframes fall-nickzzal{0.5%{transform:translate(120px,150px) rotate(200deg) rotateX(60deg) rotateY(60deg) scale(.2);opacity:1}0.55%,100%{opacity:0}}body,html{overflow:hidden}.sigong{animation:scale-up 1000s linear infinite;z-index:1000;display:table-cell}.hos{opacity:0;z-index:-1;animation:1000s appear-hos linear 23s}.mobilebox{display:table;top:0;height:375px;vertical-align:middle}.article_more,.detail_btns,.list_cmt>li:nth-child(1),.list_cmt>li:nth-child(2),.list_cmt>li:nth-child(3),.list_cmt>li:nth-child(4),.list_cmt>li:nth-child(5),.tab_cafe{z-index:2000;position:relative}.list_cmt>li:nth-child(1){animation:1000s mobile_comment1 linear 6s}.list_cmt>li:nth-child(2){animation:1000s mobile_comment2 linear 6.4s}.list_cmt>li:nth-child(3){animation:1000s mobile_comment3 linear 6.8s}.list_cmt>li:nth-child(4){animation:1000s mobile_comment4 linear 7.2s}.list_cmt>li:nth-child(5){animation:1000s mobile_comment5 linear 7.6s}.view_subject{animation:1000s mobile_subject linear 10s;z-index:2000}.cafe_navi{animation:1000s mobile_navi linear 7s;z-index:2000}.tab_cafe{animation:1000s mobile_tabcafe linear 9s}.detail_btns{animation:1000s mobile_optionbtn1 linear 6s}.article_more{animation:1000s mobile_optionbtn2 linear 6.5s}}\n                </style>\n                '),setTimeout((function(){$(".wrap").remove(),$(".chat").remove()}),2e4),setTimeout((function(){$("body").append('\n                        <div id="hos_movie" style="display:none;z-index:0;">\n                        <iframe class="iframeclass" src="https://www.youtube.com/embed/aKLb7Cc5NvY?rel=0&autoplay=1&start=0&end=8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n                        </div>\n                    '),$(".hos").fadeOut(1e3),$(".sigong").fadeOut(1e3),setTimeout((function(){$("#hos_movie").fadeIn(3e3)}),1e3)}),27e3)}))}}function xe(){for(var t in ADD_config){var e,n,a=ADD_config[t];e="thumbnail_size"==t?"#ADD_config_"+t+"_"+a:"#ADD_config_"+t;var o=$(e);if(0!==o.length)if("text"==(n=GM_setting.getType(t)))o.val(a);else if("checkbox"==n)o.prop("checked",a),a?o.parent("label.btn").removeClass("active").addClass("active"):o.parent("label.btn").removeClass("active");else if("radio"==n)o.prop("checked",!0);else if("tag"==n){$("#ADD_config_"+t+"_Tags").tagit("removeAll");for(var i=0;i<a.length;i++)$("#ADD_config_"+t+"_Tags").tagit("createTag",a[i])}}var r=$("#ADD_config_theme").val(),s="";$("select option:selected").each((function(){s+=$("#ADD_config_theme_select option:selected").text()})),s!==r&&$("#ADD_config_theme_select option[value="+r+"]").prop("selected",!0),De(),ADD_config.under_dev?$(".ADD_under_dev").show():$(".ADD_under_dev").hide()}function De(){ye("ADD_config",ADD_config);var t,e=[],n=[],a=[];for(t=0;t<ke.length;t++)e[t]=$("#"+ke[t]),0!==e[t].length&&(n[t]="."+e[t].attr("id")+"_form",a[t]=$(n[t]),0!==a[t].length&&void 0!==a[t]&&(a[t].prop("disabled",!1).addClass("form_enabled").removeClass("form_disabled"),a[t].parent("label.btn").removeClass("disable")));for(t=0;t<ke.length;t++)void 0===e[t]||e[t].is(":checked")||void 0===a[t]||(a[t].prop("disabled",!0).addClass("form_disabled").removeClass("form_enabled"),a[t].parent("label.btn").addClass("disable"))}async function Ae(){$("html").addClass("no-scroll");var t=await Ie.getVal("ADD_Blocked_Chat",[]),e="";if(0===t.length)e="현재 차단된 채팅이 없습니다.";else{Yt(),await chat_manager.reloadData();for(var n=t.length-1;n>=0;n--)if("object"==typeof t[n]){var a=t[n],o="";if(void 0!==chat_manager&&ADD_config.chat_memo){var i=chat_manager.indexFromData(a.nick);if(-1!==i)ye(i),o=" ["+chat_manager.getData(i).display_name+"]"}e=e+"<tr><td class='blocked_chat_date' style='max-width:130px;padding-right:15px;white-space:nowrap;overflow:hidden;'>"+He(new Date(a.created),"s")+"</td><td class='blocked_chat_nick' style='max-width:200px;padding-right:15px;text-align:left;white-space:nowrap;overflow:hidden;'>"+Xe(a.nick)+Xe(o)+"</td><td class='blocked_chat_content' style='margin:0 0 0 10px;'>"+Xe(a.content)+"</td></tr>"}else e=e+t[n]+"<br />"}$("body").append('\n        <div class="lightbox-opened" id="ADD_blocked_chat_container">\n            <div class="lightbox-opened-white-background modal-content" style="cursor:default;max-width:1200px;min-width:500px;display:table;">\n                <div style="font-family:\'Noto Sans KR\', \'맑은 고딕\', \'malgun gothic\', dotum, serif;">\n                    <span style="font-weight:900;font-size:14px;">차단 기록 보기</span><br />\n                    <span style="margin:0 0 5px 0;display:inline-block;">차단된 채팅은 최대 '+ADD_config.chat_block_log_limit+'개까지 저장됩니다.<br />캠페인: 채팅창에서 메모 내용을 언급하지 말고 혼자 조용히 사용해주세요.</span><br />\n                    <table id="ADD_blocked_text">\n                        '+e+"\n                    </table>\n                </div>\n            </div>\n        </div>\n        ")}function Te(){if(!ADD_config.button_set)return $(".main-streams div.search").remove(),!1;0===$(".search").length&&0!==$(".main-streams").length&&($(".main-streams").prepend('<div class="search">\n        <a class="checkbox twitch checked">트위치</a><a class="checkbox kakao checked">카카오</a><a class="checkbox youtube checked">유튜브</a><a class="checkbox afreeca checked">아프리카</a><a class="checkbox chzzk checked">치지직</a>\n    </div>'),0===$("#multitwitch").length&&0!==$(".search").length&&$('<span aria-label="체크한 스트리머를 멀티트위치로 실행" data-microtip-position="right" role="tooltip"><span id="multitwitch">멀티트위치</span></span>').appendTo($(".search").first()).on("click",(function(){var t=nomo_global.multitwitch_checked_streamer_arr.join("&");0===nomo_global.multitwitch_checked_streamer_arr.length?alert("Check the checkboxs to use multitwitch!"):$(location).attr("href","/#/stream/multitwitch/"+t)})),0===$("#addHideStreamer").length&&0!==$(".search").length&&$('<span style="float:right;"><span aria-label="체크한 스트리머를 메인에서 숨김" data-microtip-position="left" role="tooltip"><span id="addHideStreamer" style="display:none; cursor: pointer; font-size:12px; line-height:20px; margin:0 5px 0 0; padding: 5px 10px; background: #C64D4D none repeat scroll 0 0; color: #fff;">HIDE</span></span></span>').appendTo($(".search").first()).on("click",(async function(){if(0!==nomo_global.multitwitch_checked_streamer_arr.length){for(var t=0;t<nomo_global.multitwitch_checked_streamer_arr.length;t++)-1==$.inArray(nomo_global.multitwitch_checked_streamer_arr[t],ADD_config.streamer_hide_ID)&&ADD_config.streamer_hide_ID.push(nomo_global.multitwitch_checked_streamer_arr[t]);await GM_setting.save(),xe(),Be(),$("#addHideStreamer").hide()}})))}var Ee=function(){this.reload=function(){P(0),Te()},$(".loader_container").stop().fadeIn(200).fadeOut(200)},Ce=function(t){if("stream"===(t=t.split("/"))[1])$("header").addClass("onstream"),$("#stream").addClass("onstream"),$(".footer").hide(),ADD_config.popup_player&&0!==$(".stream_zoomout").length&&t[3]===nomo_global.ADD_now_playing.id?(je("stream_zoomout 복구",$(".stream_zoomout")),$("#stream").remove(),$(".stream_zoomout").attr("style","").removeClass("stream_zoomout").attr("id","stream").addClass("onstream"),$(".stream_zoomin_screen").remove()):(je("스트림 생성"),page="stream",$("#stream").load("/stream.php",{from:t[2],chan:t[3]}));else $.ajax({url:"/main2.php",dataType:"html",success:function(t){$("#stream").html(t),$("header").removeClass("onstream"),$("#stream").removeClass("onstream"),$(".footer").show(),page=new Ee,page.reload()},error:function(){je("/main2.php 로드 중 에러 발생"),nomo_global.dostream_fix&&$.ajax({url:"/index.php",dataType:"html",success:function(t){je("/index.php 에서 내용 가져오기");var e=$(t).find("#stream");$("header").removeClass("onstream"),$("#stream").removeClass("onstream"),$(".footer").show(),$("#stream").html(e),page=new Ee,page.reload()}})}})};const Se=function(e){var n=document.location.href.toLowerCase();void 0!==e&&(n=e);var a=(n=n.toLowerCase()).indexOf("#/stream/"),o=n.indexOf("#/m3u8/"),i=n.indexOf("uchat2.php"),r=n.indexOf("#/addostream"),s=n.indexOf("dostream.com/addostream/settings"),l=n.indexOf("dostream.com/addostream/twitch/auth"),c=n.indexOf("insagirl-toto.appspot.com/hrm/"),d=n.indexOf("player.twitch.tv"),u=n.indexOf("www.twitch.tv"),h=-1!==n.indexOf("chzzk.naver.com/live");return-1!==i?t.C_UCHAT:-1!==a?t.C_STREAM:-1!==l?t.C_TWITCH_AUTH:-1!==r?t.C_SETTING:-1!==s?t.C_SETTING_NW:-1!==c?t.C_INSAGIRL:-1!==d?t.C_EMBEDED_TWITCH:-1!==u?t.C_TWITCH:h?t.C_CHZZK:-1!==o?t.C_M3U8PLAYER:t.C_MAIN};function Le(){return t.urlCheckerText[Se()]}const Ie={getVal:async function(t,e){return await GM.getValue(t,e)},setVal:async function(t,e){await GM.setValue(t,e)}},Oe=async function(){return await Ie.getVal("ADD_DEBUG_MODE",!1)},Fe=!0;async function Re(t,e,n){var a=Number(new Date);return!!(a-Number(await GM.getValue(t,a-2*e))>e)&&(void 0!==n&&n||await GM.setValue(t,a),!0)}async function Me(t){var e=Number(new Date);await GM.setValue(t,e)}async function Ne(t){var e=await GM.getValue(t);return $.isNumeric(e)?e:void 0}function Be(){nomo_global.PAGE===t.C_MAIN&&(je("reloadMain"),"function"==typeof Ee?window.page=new Ee:(je("!!!!!!!!!! dsStream 실행됨"),window.page=new dsStream),window.page.reload(),Te())}function $e(t){try{JSON.parse(t)}catch(t){return!1}return!0}function Pe(t){try{JSON.parse(t)}catch(e){return t}return JSON.parse(t)}async function je(){if(await Oe()){for(var e=arguments,n=e.length,a=e,o=n;o>0;o--)e[o]=a[o-1];e[0]="+["+t.urlCheckerText[Se()]+"]  ",e.length=n+1,console.log.apply(console,e)}}function ze(t){var e=new Date,n=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,0,0,0).getTime()-e.getTime();setTimeout((async function(){t(),ze()}),n)}function Ge(t,e){var n="";if((t=t.toString()).length<e)for(var a=0;a<e-t.length;a++)n+="0";return n+t}function Ue(t){var e=new Date,n=""+Ge(e.getFullYear(),4)+Ge(e.getMonth()+1,2)+Ge(e.getDate(),2)+Ge(e.getHours(),2);return"m"!==t&&"s"!==t||(n+=Ge(e.getMinutes(),2)),"s"===t&&(n+=Ge(e.getSeconds(),2)),n}function He(t,e){if("date"!==$.type(t))return"";var n=t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()+" "+t.getHours();return"m"!==e&&"s"!==e||(n+=":"+Ge(t.getMinutes(),2)),"s"===e&&(n+=":"+Ge(t.getSeconds(),2)),n}function qe(t){var e,n,a=parseInt(t/1e3,10),o="",i=0;return a>86400?(o=parseInt(a/86400,10)+"일 ",(i=a%86400)>3600?(e=parseInt(i/3600,10),i%=3600,o=o+e+"시간 전"):i>60?(n=parseInt(i/60,10),i%=60,o=o+n+"분 전"):o=o+i+"초 전"):a>3600?(o=o+(e=parseInt(a/3600,10))+"시간 ",(i=a%3600)>60?(n=parseInt(i/60,10),i%=60,o=o+n+"분 전"):o=o+i+"초 전"):o=a>60?o+(n=parseInt(a/60,10))+"분 "+(i=a%60)+"초 전":a+"초 전",o}function We(t,e){if(t.length<2||e.length<2)return 0;let n=new Map;for(let e=0;e<t.length-1;e++){const a=t.substr(e,2),o=n.has(a)?n.get(a)+1:1;n.set(a,o)}let a=0;for(let t=0;t<e.length-1;t++){const o=e.substr(t,2),i=n.has(o)?n.get(o):0;i>0&&(n.set(o,i-1),a++)}return 2*a/(t.length+e.length-2)}var Ve={names:{orange:"#FF4500",brownishorange:"#DAA520",darkgreen:"#008000",blue:"#0000FF",blueviolet:"#8a2be2",brown:"#a52a2a",cadetblue:"#5f9ea0",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",crimson:"#dc143c",darkblue:"#00008b",darkgoldenrod:"#b8860b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",forestgreen:"#228b22",grey:"#808080",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",lightcoral:"#f08080",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightslategrey:"#778899",limegreen:"#32cd32",magenta:"magenta",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",navy:"#000080",olive:"olive",olivedrab:"#6b8e23",orangered:"#ff4500",orchid:"#da70d6",pink:"#FF69B4",purple:"purple",red:"#FF0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",seagreen:"#2e8b57",sienna:"#a0522d",slateblue:"#6a5acd",slategrey:"#708090",steelblue:"#4682b4",tan:"#d2b48c",tomato:"#ff6347",violet:"#ee82ee"},random:function(t){if(void 0===t){var e,n=0;for(var a in this.names)Math.random()<1/++n&&(e=a);return{name:e,rgb:this.names[e]}}for(var o=0,i=0;i<t.length;i++)o=t.charCodeAt(i)+((o<<5)-o),o&=o;var r=Object.keys(this.names),s=r[o=(o%r.length+r.length)%r.length];return{name:s,rgb:this.names[s]}}};function Ke(t,e,n){return String.fromCharCode(44032+21*t*28+28*e+n+1)}var Ye={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#x60;"};function Xe(t){return String(t).replace(/[<>"'`]/g,(function(t){return Ye[t]}))}!function(t,e,n){function a(t,e,n){r.addMethod(e,n,t.unbindEvent),r.addMethod(e,n,t.unbindEventWithSelectorOrCallback),r.addMethod(e,n,t.unbindEventWithSelectorAndCallback)}function o(t){t.arrive=c.bindEvent,a(c,t,"unbindArrive"),t.leave=d.bindEvent,a(d,t,"unbindLeave")}if(t.MutationObserver&&"undefined"!=typeof HTMLElement){var i=0,r=function(){var e=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector;return{matchesSelector:function(t,n){return t instanceof HTMLElement&&e.call(t,n)},addMethod:function(t,e,a){var o=t[e];t[e]=function(){return a.length==arguments.length?a.apply(this,arguments):"function"==typeof o?o.apply(this,arguments):n}},callCallbacks:function(t,e){e&&e.options.onceOnly&&1==e.firedElems.length&&(t=[t[0]]);for(var n,a=0;n=t[a];a++)n&&n.callback&&n.callback.call(n.elem,n.elem);e&&e.options.onceOnly&&1==e.firedElems.length&&e.me.unbindEventWithSelectorAndCallback.call(e.target,e.selector,e.callback)},checkChildNodesRecursively:function(t,e,n,a){for(var o,i=0;o=t[i];i++)n(o,e,a)&&a.push({callback:e.callback,elem:o}),o.childNodes.length>0&&r.checkChildNodesRecursively(o.childNodes,e,n,a)},mergeArrays:function(t,e){var n,a={};for(n in t)t.hasOwnProperty(n)&&(a[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(a[n]=e[n]);return a},toElementsArray:function(e){return n===e||"number"==typeof e.length&&e!==t||(e=[e]),e}}}(),s=function(){var t=function(){this._eventsBucket=[],this._beforeAdding=null,this._beforeRemoving=null};return t.prototype.addEvent=function(t,e,n,a){var o={target:t,selector:e,options:n,callback:a,firedElems:[]};return this._beforeAdding&&this._beforeAdding(o),this._eventsBucket.push(o),o},t.prototype.removeEvent=function(t){for(var e,n=this._eventsBucket.length-1;e=this._eventsBucket[n];n--)if(t(e)){this._beforeRemoving&&this._beforeRemoving(e);var a=this._eventsBucket.splice(n,1);a&&a.length&&(a[0].callback=null)}},t.prototype.beforeAdding=function(t){this._beforeAdding=t},t.prototype.beforeRemoving=function(t){this._beforeRemoving=t},t}(),l=function(e,a){var o=new s,i=this,l={fireOnAttributesModification:!1};return o.beforeAdding((function(n){var o,r=n.target;(r===t.document||r===t)&&(r=document.getElementsByTagName("html")[0]),o=new MutationObserver((function(t){a.call(this,t,n)}));var s=e(n.options);o.observe(r,s),n.observer=o,n.me=i})),o.beforeRemoving((function(t){t.observer.disconnect()})),this.bindEvent=function(t,e,n){e=r.mergeArrays(l,e);for(var a=r.toElementsArray(this),i=0;i<a.length;i++)o.addEvent(a[i],t,e,n)},this.unbindEvent=function(){var t=r.toElementsArray(this);o.removeEvent((function(e){for(var a=0;a<t.length;a++)if(this===n||e.target===t[a])return!0;return!1}))},this.unbindEventWithSelectorOrCallback=function(t){var e,a=r.toElementsArray(this),i=t;e="function"==typeof t?function(t){for(var e=0;e<a.length;e++)if((this===n||t.target===a[e])&&t.callback===i)return!0;return!1}:function(e){for(var o=0;o<a.length;o++)if((this===n||e.target===a[o])&&e.selector===t)return!0;return!1},o.removeEvent(e)},this.unbindEventWithSelectorAndCallback=function(t,e){var a=r.toElementsArray(this);o.removeEvent((function(o){for(var i=0;i<a.length;i++)if((this===n||o.target===a[i])&&o.selector===t&&o.callback===e)return!0;return!1}))},this},c=new function(){function t(t,e){return!(!r.matchesSelector(t,e.selector)||(t._id===n&&(t._id=i++),-1!=e.firedElems.indexOf(t._id)))&&(e.firedElems.push(t._id),!0)}var e={fireOnAttributesModification:!1,onceOnly:!1,existing:!1};c=new l((function(t){var e={attributes:!1,childList:!0,subtree:!0};return t.fireOnAttributesModification&&(e.attributes=!0),e}),(function(e,n){e.forEach((function(e){var a=e.addedNodes,o=e.target,i=[];null!==a&&a.length>0?r.checkChildNodesRecursively(a,n,t,i):"attributes"===e.type&&t(o,n)&&i.push({callback:n.callback,elem:o}),r.callCallbacks(i,n)}))}));var a=c.bindEvent;return c.bindEvent=function(t,o,i){n===i?(i=o,o=e):o=r.mergeArrays(e,o);var s=r.toElementsArray(this);if(o.existing){for(var l=[],c=0;c<s.length;c++)for(var d=s[c].querySelectorAll(t),u=0;u<d.length;u++)l.push({callback:i,elem:d[u]});if(o.onceOnly&&l.length)return i.call(l[0].elem,l[0].elem);setTimeout(r.callCallbacks,1,l)}a.call(this,t,o,i)},c},d=new function(){function t(t,e){return r.matchesSelector(t,e.selector)}var e={};d=new l((function(){return{childList:!0,subtree:!0}}),(function(e,n){e.forEach((function(e){var a=e.removedNodes,o=[];null!==a&&a.length>0&&r.checkChildNodesRecursively(a,n,t,o),r.callCallbacks(o,n)}))}));var a=d.bindEvent;return d.bindEvent=function(t,o,i){n===i?(i=o,o=e):o=r.mergeArrays(e,o),a.call(this,t,o,i)},d};e&&o(e.fn),o(HTMLElement.prototype),o(NodeList.prototype),o(HTMLCollection.prototype),o(HTMLDocument.prototype),o(Window.prototype);var u={};a(c,u,"unbindAllArrive"),a(d,u,"unbindAllLeave")}}(window,"undefined"==typeof jQuery?null:jQuery,void 0);!function(t){t.browserTest=function(e,n){var a="unknown",o="X",i=function(t,e){for(var n=0;n<e.length;n+=1)t=t.replace(e[n][0],e[n][1]);return t},r=function(e,n,r,s){var l={name:i((n.exec(e)||[a,a])[1],r)};return l[l.name]=!0,l.version=(s.exec(e)||[o,o,o,o])[3],l.name.match(/safari/)&&l.version>400&&(l.version="2.0"),"presto"===l.name&&(l.version=t.browser.version>9.27?"futhark":"linear_b"),l.versionNumber=parseFloat(l.version,10)||0,l.versionX=l.version!==o?(l.version+"").substr(0,1):o,l.className=l.name+l.versionX,l};e=(e.match(/Opera|Navigator|Minefield|KHTML|Chrome/)?i(e,[[/(Firefox|MSIE|KHTML,\slike\sGecko|Konqueror)/,""],["Chrome Safari","Chrome"],["KHTML","Konqueror"],["Minefield","Firefox"],["Navigator","Netscape"]]):e).toLowerCase(),t.browser=t.extend(n?{}:t.browser,r(e,/(camino|chrome|firefox|netscape|konqueror|lynx|msie|opera|safari)/,[],/(camino|chrome|firefox|netscape|netscape6|opera|version|konqueror|lynx|msie|safari)(\/|\s)([a-z0-9\.\+]*?)(\;|dev|rel|\s|$)/)),t.layout=r(e,/(gecko|konqueror|msie|opera|webkit)/,[["konqueror","khtml"],["msie","trident"],["opera","presto"]],/(applewebkit|rv|konqueror|msie)(\:|\/|\s)([a-z0-9\.]*?)(\;|\)|\s)/),t.os={name:(/(win|mac|linux|sunos|solaris|iphone)/.exec(navigator.platform.toLowerCase())||[a])[0].replace("sunos","solaris")},n||t("html").addClass([t.os.name,t.browser.name,t.browser.className,t.layout.name,t.layout.className].join(" "))},t.browserTest(navigator.userAgent)}(jQuery);const Ze=$.browser.name;const Je=async function(t){var e={DEBUG:await Oe(),version_str:GM.info.script.version,version:Number(F(GM.info.script.version)),PAGE:Se(),PAGE_str:Le(),is_send_location:!0,dostream_fix:!1,local_api_refresh:!0,ADD_twitch_user_ids:{},ADD_API_SET_INTERVAL:void 0,api_push_forced:!1,twitch_api_cookie:[],first_api_call:!0,unique_window_check:!0,TwitchOAuthToken:await U(),chatting_arrive_check:null,isGoScrollDown:!0,chat_load:!0,unique_window:void 0,all_tabs:void 0,ADD_unique_window:Number(new Date)+Math.floor(1e6*Math.random())+1,ADD_unique_window_event_ID:void 0,ADD_is_unique_window_reload:!1,ADD_unique_window_reload_counter:0,ADD_now_playing:{id:"",display_name:"",title:"",toonat_link:"",twip_link:""},getTimeStampRes:"",multitwitch_checked_streamer_arr:[],GLOBAL_CHAT_IFRAME:void 0,$GLOBAL_CHAT_IFRAME:void 0,$GLOBAL_IFRAME_DOCUMENT:void 0,GLOBAL_CHAT_CONTENT_DIV:void 0,uhaha_chat_auto_remove_counter:0,night_mode:!1,night_mode_transition:void 0,night_mode_on:void 0,night_mode_end:void 0,night_mode_black:!1,night_mode_direct_call:!1,theme_current:"default",latestList:[]},n=async function(){void 0===t.nomo_global&&(t.nomo_global=e),void 0===t.chatlog_local&&(unsafeWindow.chatlog_local={})};return n(),je("global.nomo_global",t.nomo_global),{get:function(){return void 0===t.nomo_global&&n(),t.nomo_global}}};var Qe=je;function tn(t,e){var n=$("#uha_chat_msgs"),a=!1;n.length>0&&(n.prop("scrollTop")>=n.prop("scrollHeight")-n.height()-40&&(a=!0),void 0!==e&&e?$(t).appendTo(n):$(`<li class="is_notme"><span class="name" data-date="${String(Number(new Date)).substr(0,10)}" data-name="Dostream+">Dostream+</span>\n                            <span class="text">${t}</span></li>`).appendTo(n),a&&n.animate({scrollTop:1e12},1))}var en=!1;var nn=void 0;async function an(e){ADD_config.chat_image_max_width>320&&(ADD_config.chat_image_max_width=320);var n=$("#uha_chat_msgs"),o=n.prop("scrollTop")>=n.prop("scrollHeight")-n.height()-40,i=$(e),r=i,s=!1,l=i.find("span.name").first(),c=i.find("span.text"),d=l.attr("data-sid"),h=l.text(),f=c.text(),p=new Date(1e3*Number(l.attr("data-date")));void 0===nn&&(nn=new Date(1e3*Number($("#uha_chat_msgs li:first").find("span.name").attr("data-date")))),r.hasClass("is_me")&&(s=!0);var m=$.cookie("ignores");if(m=null==m?[]:JSON.parse(m),-1!==$.inArray(h,m)||-1!==$.inArray(d,m))return Qe("강제단차 닉 차단",d,h,f),void i.remove();if(ADD_config.chat_block){if(await Q(i,!1,h,f,p,!1,ADD_config.chat_block_contents,ADD_config.chat_block_noti))return!1;if(await Q(i,!1,h,f,p,ADD_config.chat_block_nickname,!1,ADD_config.chat_block_noti))return!1}if(void 0!==chat_manager&&void 0!==i&&chat_manager.getIsBlock(d)){var g=chat_manager.getIsShowDelMsg(d);if(await Q(i,!0,d,h+":"+f,p,!1,!1,g))return!1}if(ADD_config.chat_dobae_block&&!en&&(!ADD_config.chat_dobae_onlylink||ADD_config.chat_dobae_onlylink&&c.find("a").length>0)&&Number(p)>Number(nn)){var b,v,_=Number(p),y="",k=0;if(void 0===chatlog_local[d])chatlog_local[d]={},chatlog_local[d].value=[];else for(var w=chatlog_local[d].value,x=w.length-1;x>=0;x--){if(_-w[x].createdDate>1e3*ADD_config.chat_dobae_timelimit){w.splice(0,x+1),chatlog_local[d].value=w;break}var D=w[x].content;(v=We(D,f))>=ADD_config.chat_dobae_judge&&(k+=1,y=D,b=v)}if(chatlog_local[d].value.length>=ADD_config.chat_dobae_repeat+10&&chatlog_local[d].value.shift(),chatlog_local[d].value.push({content:f,createdDate:_}),k+1>=ADD_config.chat_dobae_repeat){if(ADD_config.chat_dobae_block_record){var A=await Ie.getVal("ADD_Blocked_Chat",[]);A.length>=ADD_config.chat_block_log_limit&&A.shift();var T=ADD_config.chat_block_log_letter_limit;($.isNumeric(T)||T<0)&&(T=40),A.push({created:Number(p),nick:d,content:"[도배] "+f.substr(0,T)}),await Ie.setVal("ADD_Blocked_Chat",A)}return Qe("도배 차단됨, ["+y+"], ["+f+"] :"+b),r.remove(),void(ADD_config.chat_dobae_block_autoban&&k+1>=ADD_config.chat_dobae_block_autoban_repeat&&(ADD_config.chat_dobae_block_onlylink?c.find("a").length>0&&($(`<li class="is_notme"><span class="name" data-date="${String(Number(new Date)).substr(0,10)}" data-name="Dostream+">Dostream+</span>\n                        <span class="text">[도배 유저 자동 차단]<br />닉네임: ${h}<br />마지막 채팅: ${f}</span></li>`).appendTo("#uha_chat_msgs"),chat_manager.simpleBlock(d,h+" : "+f)):($(`<li class="is_notme"><span class="name" data-date="${String(Number(new Date)).substr(0,10)}" data-name="Dostream+">Dostream+</span>\n                        <span class="text">[도배 유저 자동 차단]<br />닉네임: ${h}<br />마지막 채팅: ${f}</span></li>`).appendTo("#uha_chat_msgs"),chat_manager.simpleBlock(d,h+" : "+f))))}}var E=[],C=r.find("a"),S=[];const L=/^https?:\/\/.+\.m3u8/i,I=/^https:\/\/game\.naver\.com\/esports\/([a-zA-Z0-9가-힣-_!@#$%^&*]+)\/live\/([a-zA-Z0-9가-힣-_!@#$%^&*]+)/i;0!==C.length&&C.each((function(t){var e=$(C[t]),n=e.attr("href");if(S[t]=n,ADD_config.url_self&&-1!==n.toLowerCase().indexOf("dostream.com/#/stream/")&&e.addClass("topClick").attr("target","_top"),ADD_config.chat_url_decode&&e.html(decodeURIComponent(e.html())),-1!==n.toLowerCase().indexOf("dostream.com/#/stream/twitch/")||-1!==n.toLowerCase().indexOf("dostream.com/#/stream/multitwitch/")){for(var a="",i=n.split("/").pop().split("&"),r=0;r<i.length;r++){0!==r&&(a+="&"),a+=u(i[r])}void 0===a&&""===a||e.after(' <span class="keyword_pass" style="ch_text">['+a+"]</span>"),o&&tt()}else if(-1==n.indexOf("dostream.com/#/stream/m3u8")&&L.test(n)){let t=` <a href="https://www.dostream.com/#/stream/m3u8/${n}" target="_top" class="topClick" style="display:inline-block;margin-left:0px;font-weight:700;vertical-align:baseline;">[M3U8 PLAYER]</a>`;ADD_config.m3u8_potplayer_link&&(t+=` <a href="potplayer://${n}" target="_top" class="topClick" style="display:inline-block;margin-left:0px;font-weight:700;vertical-align:baseline;">[Potplayer]</a>`),e.after(t),o&&tt()}else-1==n.indexOf("dostream.com/#/stream/nesports")&&I.test(n)&&(e.after(` <a href="https://www.dostream.com/#/stream/nesports/${n}" target="_blank" class="topClick" style="display:inline-block;margin-left:0px;font-weight:700;vertical-align:baseline;">[M3U8 PLAYER]</a>`),o&&tt())}));var O=!1;if(ADD_config.chat_image_preview&&0!==S.length&&!ADD_config.broadcaster_mode){for(var F=0;F<S.length;F++){var R="",M=S[F];if(Qe("a arc : ",M,M.length),null==M||""==M)return!0;if(M.match(/\.(jpg|jpeg|png|gif)$/gi)&&(R=M),""!==R){Qe("이미지 발견",R);var N={link:R,title:""};E.push(N)}}0!==E.length&&(O=!0,J(r,E))}if(!O&&ADD_config.chat_image_preview&&!ADD_config.broadcaster_mode&&ADD_config.chat_image_youtube_thumb&&0!==S.length&&0===E.length&&-1===S[0].indexOf("dostream.com/#/stream/")){var B=S[0].match(/^.*(?:youtu\.?be(?:\.com)?\/)(?:embed\/)?(?:(?:(?:(?:watch\?)?(?:time_continue=(?:[0-9]+))?.+v=)?([a-zA-Z0-9_-]+))(?:\?t\=(?:[0-9a-zA-Z]+))?)/);if(B){O=!0;var P=B.pop(),j="https://www.youtube.com/watch?v="+P;$.getJSON("https://noembed.com/embed",{format:"json",url:j},(function(t){Qe("youtube getJSON",P,t);var e=[],n={type:"youtube",id:P,link:t.thumbnail_url,title:(void 0!==t.title?t.title:"")+(void 0!==t.author_name?" - "+t.author_name:""),width:t.thumbnail_width,height:t.thumbnail_height};e.push(n),Qe("temp_img_obj",n),J(r,e)}))}}if(!O&&ADD_config.chat_image_preview&&!ADD_config.broadcaster_mode&&ADD_config.gfycat_preview&&0!==S.length&&0===E.length&&S[0].match(/(?:http:|https:|)(?:\/\/|)(?:gfycat\.com\/(?:\w*\/)*)(\w+$)/)){O=!0;var z=M.match(/(?:http:|https:|)(?:\/\/|)(?:gfycat\.com\/(?:\w*\/)*)(\w+$)/).pop();-1!==z.indexOf("/")||-1!==z.indexOf("?")||-1!==z.indexOf(".")?(Qe("gfycat_id error",S[0].match(/(?:http:|https:|)(?:\/\/|)(?:gfycat\.com\/(?:\w*\/)*)(\w+$)/)),O=!1):(Qe("Gfycat API 호출 - id:",z),$.ajax({url:"https://api.gfycat.com/v1test/gfycats/"+z,type:"GET",success:function(t){Qe("Gfycat API API 호출 완료",t);var e=t.gfyItem.gfyName,n=t.gfyItem.width,a=t.gfyItem.height,o=Math.min(1,ADD_config.chat_image_max_width/n,ADD_config.chat_image_max_height/a),i=n*o,s=a*o+44,l="\n                            <div style='position:relative; margin:0 auto; width:"+i+"px;\n                                height:"+s+"px;'>\n                                <iframe src='https://gfycat.com/ifr/"+e+("?autoplay="+(ADD_config.chat_video_autoplay?"1":"0"))+"' frameborder='0' scrolling='no' width='100%' height='100%' style='position:absolute;top:0;left:0;' allowfullscreen></iframe>\n                            </div>\n                        ",c=[],d={type:"gfycat",link:"",title:t.gfyItem.title+" - "+(void 0!==t.gfyItem.userDisplayName?t.gfyItem.userDisplayName:t.gfyItem.userName),html:l,width:i,height:s,views:t.gfyItem.views};c.push(d),Qe(d),J(r,c),t=null},error:function(t){Qe("Gfycat API - Request failed",t);var e=[],n={link:"",title:"",html:"\n                            <div style='position:relative; margin:0 auto; padding-bottom:calc(56.25% + 44px); margin-top:3px;'>\n                                <iframe src='https://gfycat.com/ifr/"+z+"' frameborder='0' scrolling='no' width='100%' height='100%' style='position:absolute;top:0;left:0;' allowfullscreen></iframe>\n                            </div>\n                        "};e.push(n),Qe(n),J(r,e)}}))}if(!O&&ADD_config.chat_image_preview&&!ADD_config.broadcaster_mode&&ADD_config.chat_image_twitch_thumb&&0!==S.length&&0===E.length&&S[0].match(/(\.twitch\.tv\/\w*\/clip\/|clips\.twitch\.tv\/(embed\?clip=)?)([a-zA-Z0-9-_]*)/)){var G=S[0].match(/(\.twitch\.tv\/\w*\/clip\/|clips\.twitch\.tv\/(embed\?clip=)?)([a-zA-Z0-9-_]*)/);if(G){O=!0;var U=G.pop();Qe("Twitch Clip API 호출 - id:",U);var q=await H("clips?id="+U),W=q.data;if(200===q.status){Qe("Twitch Clip API 호출 완료 by Twitch Helix API",q);try{var V=W.data[0],K=V.thumbnail_url,Y=(void 0!==V.title?V.title:"")+(void 0!==V.broadcaster_name?" - "+V.broadcaster_name:""),X=[],Z={type:"twitch_clip",id:U,link:K,title:""+Y,width:480,height:272,views:V.view_count};X.push(Z),J(r,X),q=null}catch(t){Qe("Twitch Clip API 호출 후 처리 중 error",t)}}else 401===q.status?J(r,[{type:"twitch_clip",id:U,link:t.ADD_assets_url+"bg_nothumb_black.png",title:"제목을 알 수 없는 Twitch 클립",width:480,height:272,views:0}]):429===q.status||Qe("Twitch Clip API 호출 후 알 수 없는 response.status",q)}}if(!O&&ADD_config.chat_image_preview&&!ADD_config.broadcaster_mode&&ADD_config.imgur_preview&&0!==S.length&&0===E.length){var et,nt,at;if(null!==(at=S[0].match(/https?:\/\/(\w+\.)?imgur.com\/(a\/|gallery\/)?(\w*)+(\.[a-zA-Z]{3})?/))){switch(et=at[3],at[2]){case void 0:nt=0;break;case"a/":nt=1;break;case"gallery/":nt=2;break;default:nt=10}O=!0,Qe("ADD_imgur_id = "+et+"  ADD_imgur_type = "+nt),ot(r,et,nt)}}if(void 0!==chat_manager&&ADD_config.chat_memo&&!ADD_config.broadcaster_mode){var it=chat_manager.indexFromData(d);if(-1!==it){var rt,st=chat_manager.getData(it),lt=st.display_name,ct=st.color;null!=ct&&""!==ct&&l.addClass("colorized").css("color",ct),void 0!==lt&&(rt=""===lt?"*":"["+[lt]+"]",l.append('<span class="conversation_memo" style="color:red !important;font-weight:700;vertical-align:inherit;display:-webkit-inline-box"> '+rt+"</span>"),o&&tt())}chat_manager.updateModifiedDate(d)}var dt="";if((ADD_config.chat_nick_colorize||ADD_config.broadcaster_mode&&ADD_config.broadcaster_use_nick_color)&&!l.hasClass("colorized")){var ut=Ve.random(d);if(ADD_config.broadcaster_mode){var ht=ADD_config.broadcaster_bg_color.replace(/\s/g,"").toLowerCase();-1!==$.inArray(ht,["blue","rgb(0,0,255)","#0000ff"])?ht="blue":-1!==$.inArray(ht,["green","rgb(0,255,0)","#00ff00"])&&(ht="green"),-1===ut.name.indexOf(ht)&&-1===$.inArray(ut.name,["mediumturquoise","indigo","olive"])||(ut.rgb="pink",ut.name=ut.name+"_pink_replaced")}l.addClass("colorized").attr("style","color:"+ut.rgb+" !important;").attr("colorzied",ut.name),dt=ut.rgb}var ft=c.find("a");if(ft.length>0)for(var pt=0;pt<ft.length;pt++){$(ft[pt]).unbind("click")}ADD_config.chat_autoKeyword&&!ADD_config.broadcaster_mode&&setTimeout((function(){for(var t=0,e=!0;t<10&&e;){e=!1,c.find("*").andSelf().contents().filter((function(){return 3===this.nodeType&&!$(this).parent("a").length&&!$(this).hasClass("keyword_pass")&&!$(this).parent().hasClass("keyword_pass")})).each((function(n,o){var i=$(o).text();if($.each(a,(function(n,a){for(var r=a[0],s=1;s<a.length;s++){var l=a[s];if((ADD_config.chat_autoKeyword_1char||1!==l.length)&&-1!==i.indexOf(l)){i=i.split(l).join("<a href='https://www.dostream.com/#/stream/twitch/"+r+"' class='topClick autokeyword'>"+l+"</a>"),$(o).replaceWith(i),t+=1,e=!0;break}}if(e)return!1})),e)return!1;$(o).addClass("keyword_pass")}))}}),1),nomo_global.DEBUG&&unsafeWindow.$(document).trigger("chat_line",{id:d,nick:h,content:f,color:dt,me:s,date:p})}function on(){0!==$("#uha_chat_msgs").length&&(ADD_config.uhaha_delete_button_hide?$("#uha_chat_msgs").addClass("uhaha_delete_button_hide"):$("#uha_chat_msgs").removeClass("uhaha_delete_button_hide"))}var rn,sn,ln,cn={DEBUG:!1,SETTINGS:{last_version:{disable:!0,category:"dev",depth:1,type:"set",value:Number(F(GM.info.script.version)),title:{ko:"마지막 버전",en:"Latest Version"},desc:""},version_check:{category:"general",category_name:"일반",depth:1,type:"checkbox",value:!0,title:"새 버전 체크",desc:"새로운 애드온 버전이 있는지 자체적으로 체크함"},version_check_interval:{under_dev:!0,category:"general",depth:2,type:"text",value:12,valid:"number",min_value:1,title:"새 버전 체크 주기",desc:"새 버전을 체크할 시간 간격<br />시간 단위로 입력, 최소 1시간(기본값: 12)"},history:{category:"general",depth:1,type:"checkbox",value:!1,title:"나의 시청 기록 보기",desc:"두스트림 상단에 나의 시청 기록을 표시함",change:function(){me()}},history_hide_icon:{category:"general",depth:2,type:"checkbox",value:!1,title:"플랫폼 아이콘 숨기기",desc:"시청 기록에서 플랫폼 아이콘을 숨김",change:function(){me()}},max_history:{under_dev:!0,category:"general",depth:2,type:"text",value:20,valid:"number",min_value:1,title:"시청 기록 최대 개수",desc:"(기본값: 20)"},theme_leftchat:{category:"theme",category_name:"테마",depth:1,type:"checkbox",value:!1,title:"채팅창 위치를 왼쪽으로 변경",desc:"",change:function(){S()}},theme_on:{category:"theme",depth:1,type:"checkbox",value:!1,title:"테마 기능 사용",desc:"",change:function(){S()}},theme:{category:"theme",depth:2,type:"radio",value:"default",title:"테마 선택",desc:"",radio:{default:{title:"기본",value:"default"},black:{title:"블랙",value:"black"},black_youtube:{title:"다크(Youtube Style)",value:"black_youtube"}},change:function(){S()}},theme_self_bold_chat:{under_dev:!0,category:"theme",depth:2,type:"checkbox",value:!1,title:"자신의 채팅을 굵게 표시",desc:"",change:function(){Se()===t.C_UCHAT&&S()}},theme_font_size:{category:"theme",depth:2,type:"text",value:1,valid:"number",min_value:.1,max_value:10,title:"채팅 글씨 크기 조절(배수)",desc:"(기본값: 1.0)",change:function(){Se()===t.C_UCHAT&&S()}},theme_font_custom:{category:"theme",depth:2,type:"radio",value:"default",radio:{default:{title:"기본",value:"default"},NotoSanskr:{title:"Noto Sans KR",value:"NotoSanskr"}},title:"폰트 변경",desc:"일부 OS, 브라우저에서 적용되지 않을 수 있음",change:function(){S()}},theme_night_mode:{under_dev:!0,category:"theme",depth:2,type:"checkbox",value:"default",title:"[실험실] 야간 모드",desc:"지정된 시간에 테마를 지정한 테마로 바꿈",change:function(){I()}},theme_night_mode_theme:{under_dev:!0,category:"theme",depth:3,type:"radio",value:"black",title:"테마 선택",desc:"",radio:{black:{title:"블랙",value:"black"},black_youtube:{title:"다크",value:"black_youtube"}},change:function(){I()}},theme_night_mode_start:{under_dev:!0,category:"theme",depth:3,type:"text",value:0,valid:"number",min_value:0,max_value:24,title:"시작 시간",desc:"0 ~ 24<br />참고) X시 30분의 경우 X.5 처럼 소수점으로 입력",change:function(){I()}},theme_night_mode_end:{under_dev:!0,category:"theme",depth:3,type:"text",value:7,valid:"number",min_value:0,max_value:24,title:"종료 시간",desc:"0 ~ 24",change:function(){I()}},insagirl_button:{category:"coord",category_name:"좌표",depth:1,type:"checkbox",value:!1,title:"빠른 좌표 보기 활성",desc:"좌표 페이지를 두스트림 내부에서 불러오는 기능을 활성",change:function(){re()}},insagirl_block_by_nick:{category:"coord",depth:1,type:"checkbox",value:!1,title:"차단한 유저의 좌표 숨기기",desc:"채팅매니저에서 차단한 유저의 좌표를 숨김"},insagirl_block_dobae:{category:"coord",depth:1,type:"checkbox",value:!1,title:"연속된 동일 좌표 숨기기",desc:"동일 유저가 같은 좌표를 연속하여 올릴 경우<br />가장 최근의 것만 남기고 숨김"},insagirl_block_dobae_by_href:{category:"coord",depth:2,type:"checkbox",value:!1,title:"동일 유저가 아닐 경우에도 숨김",desc:"유저에 상관 없이 동일 좌표가 연속되는 경우 무조건 숨김"},insagirl_select:{under_dev:!0,category:"coord",category_name:"좌표 - 고급",depth:1,type:"radio",value:2,title:"좌표 사이트 선택",desc:"",radio:{dostream:{title:"<span style='font-size:11px;text-decoration:line-through;'>coord.dostream.com</span>",value:1},insagirl:{title:"<span style='font-size:11px;'>insagirl-hrm.appspot.com</span>",value:2}}},insagirl_modify_directly:{under_dev:!0,category:"coord",depth:1,type:"checkbox",value:!1,title:"[실험실] 좌표 사이트에 직접 적용",desc:"실험 중"},list:{category:"list",category_name:"리스트",depth:1,type:"checkbox",value:!0,title:"메인 리스트 관리 기능 사용",desc:"메인 리스트 관리 기능을 일괄적으로 켜고 끈다."},show_display_name:{under_dev:!0,category:"list",depth:2,type:"checkbox",value:!0,title:"스트리머 이름 보이기",desc:"표시 가능한 스트리머의 이름 및 아이디를 표시"},thumbnail_mouse:{category:"list",category_name:"리스트 - 섬네일",depth:2,type:"checkbox",value:!1,title:"섬네일에 마우스 올렸을 시 확대",desc:"두스 메인 리스트의 섬네일에 마우스를 올렸을 때 확대한 팝업을 띄움"},thumbnail_size:{category:"list",depth:3,type:"radio",value:1,title:"섬네일 사이즈",desc:"",radio:{small:{title:"작음",value:1},medium:{title:"보통",value:2},large:{title:"큼",value:3}}},thumbnail_refresh:{under_dev:!0,category:"list",depth:2,type:"checkbox",value:!0,title:"리스트 섬네일 자동 갱신",desc:"- 리스트 섬네일을 자동으로 갱신<br />- 체크 해제 시 새로고침 이전까지 초기 접속 시 섬네일 유지됨"},thumbnail_refresh_gap:{under_dev:!0,category:"list",depth:3,type:"text",value:5,valid:"number",min_value:1,title:"갱신 간격",desc:"분 단위로 입력, 최소 1분(기본값: 5)"},top_fix:{category:"list",category_name:"리스트<br />- 상단 고정",depth:2,type:"checkbox",value:!1,title:"특정 스트리머 상단 고정",desc:"두스 메인 리스트의 최상단에 원하는 스트리머를 고정"},top_fix_ID:{category:"list",depth:3,type:"tag",value:["hanryang1125"],valid:"array_string",title:"등록할 스트리머 ID",desc:"스트리머 ID를 콤마(,)로 구분하여 입력<br />영문, 숫자, 언더바(_) 만 입력 가능"},top_off_fix:{category:"list",depth:3,type:"checkbox",value:!1,title:"오프라인 시에도 고정",desc:""},alarm:{category:"list",category_name:"리스트 - 추가",depth:2,type:"checkbox",value:!1,title:"메인에 스트리머 추가",desc:"기본 두스 메인 리스트에 없는 Twitch 스트리머를<br />메인 리스트에 추가 (본 기능을 사용하기 위해서는 Twitch 계정과의 연동이 필요함)",append:$("<span class='btn btn-primary'>Twitch 계정 연동</span>").on("click",(function(){je("Twitch 계정 연동 버튼 클릭됨");var t=$(window).width(),e=$(window).height(),n=t>850?850:t/5*4;window.open("https://www.dostream.com/addostream/twitch/auth/","winname","directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width="+n+",height="+e/5*4)}))},top_alarm_ID:{category:"list",depth:3,type:"tag",value:["hanryang1125"],valid:"array_string",title:"등록할 스트리머 ID",desc:"스트리머 ID를 콤마(,)로 구분하여 입력<br />영문, 숫자, 언더바(_) 만 입력 가능",change:async function(){await Ie.setVal("ADD_twitch_api_refresh_force",!0)}},alarm_gap:{category:"list",depth:3,type:"text",value:5,valid:"number",min_value:1,title:"조회 간격",desc:"분 단위로 입력, 최소 1분(기본값: 5)"},alarm_noti:{category:"list",depth:3,type:"checkbox",value:!1,title:"온라인 시 알림(수정 중)",desc:"위 목록에 등록된 스트리머가 온라인이 될 때<br />데스크톱 메시지로 알림"},alarm_main_reload:{under_dev:!0,category:"list",depth:3,type:"checkbox",value:!0,title:"스트림 정보 갱신 시 리스트 새로고침",desc:"두스트림 메인 화면인 경우<br />스트림 정보 갱신 시 두스 메인 리스트를<br />자동으로 새로고침 함"},alarm_show_game_name:{under_dev:!0,category:"list",depth:3,type:"checkbox",value:!1,title:"[실험실] 게임 이름 표시",desc:"게임 이름을 표시할 수 있는 경우 리스트에 표시"},alarm_sort_by_viewer:{under_dev:!0,category:"list",depth:3,type:"checkbox",value:!1,title:"[실험실] 시청자 수로 정렬",desc:"입력한 순서로 정렬하는 대신<br />시청자 수가 많은 스트리머가 위로 오도록 정렬"},streamer_hide:{category:"list",category_name:"리스트 - 제거",depth:2,type:"checkbox",value:!1,title:" 특정 스트리머 숨기기",desc:"기본 두스트림에 메인에 노출하고 싶지 않은<br />Twitch 스트리머를 메인 리스트에서 제거"},streamer_hide_ID:{category:"list",depth:3,type:"tag",value:["nalcs1","nalcs2"],valid:"array_string",title:"등록할 스트리머 ID",desc:"스트리머 ID를 콤마(,)로 구분하여 입력<br />영문, 숫자, 언더바(_) 만 입력 가능"},remember_platform:{category:"list",depth:2,type:"checkbox",value:!1,title:"특정 플랫폼 숨기기",desc:"기본 두스트림에 메인에 노출하고 싶지 않은<br />플랫폼에 해당되는 항목을 메인 리스트에서 제거"},remember_twitch:{category:"list",depth:3,type:"checkbox",value:!1,title:"트위치 숨기기",desc:""},remember_kakao:{category:"list",depth:3,type:"checkbox",value:!1,title:"카카오 숨기기",desc:""},remember_youtube:{category:"list",depth:3,type:"checkbox",value:!1,title:"유투브 숨기기",desc:""},remember_afreeca:{category:"list",depth:3,type:"checkbox",value:!1,title:"아프리카 숨기기",desc:""},remember_chzzk:{category:"list",depth:3,type:"checkbox",value:!1,title:"치지직 숨기기",desc:""},main_list_cache:{under_dev:!0,category:"list",category_name:"리스트 - 고급",depth:2,type:"checkbox",value:!0,title:"메인 리스트 캐쉬",desc:"빠른 메인 로딩을 위해 메인 리스트를 캐쉬함"},main_list_cache_time:{under_dev:!0,category:"list",depth:3,type:"text",value:3,valid:"number",min_value:1,title:"캐쉬 간격",desc:"분 단위로 입력, 최소 1분(기본값: 3)"},button_set:{under_dev:!0,category:"list",depth:2,type:"checkbox",value:!0,title:"버튼 모음 생성",desc:"- 트위치, 카카오, 유투브, 멀티트위치 버튼 모음을 생성<br />- 리스트에 멀티트위치 선택을 위한 체크박스를 생성"},button_chatmode:{under_dev:!0,category:"list",depth:2,type:"checkbox",value:!0,title:"채팅 모드 버튼 생성",desc:"리스트의 각 항목에 채팅 모드 버튼을 생성"},list_sort_by_viewer:{under_dev:!0,category:"list",depth:2,type:"checkbox",value:!1,title:"[실험실] 무조건 시청자 수로 정렬",desc:"- 무조건 시청자 수가 많은 항목이 위로 오도록 정렬<br />- 리스트 순서와 관련된 다른 모든 설정을 무시"},main_list_two_column:{under_dev:!0,category:"list",depth:2,type:"checkbox",value:!1,title:"[실험실] 메인 리스트를 두 줄로 표시",desc:"- 모니터 가로 해상도 1920 이상에 권장<br />- 섬네일 기능 사용 시 중간 설정이 적당함",change:function(){Be()}},playing_quick_list_button:{category:"playing",category_name:"재생 중",depth:1,type:"checkbox",value:!0,title:"퀵 리스트 버튼 표시",desc:"재생 중 팝업으로 메인 리스트를 볼 수 있도록<br />퀵 리스트 버튼을 표시",change:function(){$(window).trigger("hashchange")}},playing_setting_button:{category:"playing",depth:1,type:"checkbox",value:!0,title:"설정 버튼 표시",desc:"재생 중 설정 버튼을 표시.<br />체크 해제 시 설정 버튼은 메인에서만 노출됨",change:function(){$(window).trigger("hashchange")}},playing_chat_button:{category:"playing",depth:1,type:"checkbox",value:!0,title:"트위치↔멀티트위치 전환 버튼 표시",desc:"트위치 또는 멀티트위치 재생 시<br />서로 전환할 수 있는 버튼을 표시",change:function(){$(window).trigger("hashchange")}},playing_chat_iframe:{under_dev:!0,category:"playing",depth:2,type:"checkbox",value:!1,title:"[실험실] 단독 재생의 경우 페이지 전환 없이 채팅 표시",desc:"트위치로 한 개의 스트림을 단독 재생하고 있는 경우<br />멀티트위치로 전환하는 대신 popout 채팅을 띄움<br />실험 중 기능으로 타 기능과 충돌할 수 있음"},playing_chat_iframe_theme:{under_dev:!0,category:"playing",depth:3,type:"radio",value:"default",title:"[실험실] 채팅창 테마 선택",desc:"",radio:{default:{title:"애드온 테마를 따름",value:"default"},white:{title:"White",value:"white"},dark:{title:"Dark",value:"dark"}}},playing_chat_iframe_width:{under_dev:!0,category:"playing",depth:3,type:"text",value:350,title:"[실험실] 채팅 가로 너비(width, px)",min_value:0,max_value:1e4,desc:"",change:function(){var e=$(".stream_chat_iframe"),n=Se();!ADD_config.playing_chat_iframe||n!==t.C_STREAM&&n!==t.C_MAIN||0===e.length||(e.css("width",ADD_config.playing_chat_iframe_width+"px"),$("#stream > iframe").first().css("width",`calc(100% - ${ADD_config.playing_chat_iframe_width}px)`))}},playing_twip_button:{disable:!0,under_dev:!0,category:"playing",category_name:"재생 중 - 고급",depth:1,type:"checkbox",value:!1,title:"[실험실] Twip 버튼 표시",desc:"트위치 재생 시 Twip donate 버튼을 표시<br /> - 스트리머의 Dashboard 에 기재된 twip.kr 링크로 접속<br />　링크를 찾을 수 없는 경우 버튼 표시하지 않음<br /><br />주의사항: <br /> - 반드시 주소창의 주소 및 도네이션 수령자가 올바른지 확인할 것<br /> - 오작동으로 잘못 도네이션 되더라도 책임지지 않음",change:function(){$(window).trigger("hashchange")}},playing_twip_button_force:{disable:!0,under_dev:!0,category:"playing",depth:2,type:"checkbox",value:!1,title:"[실험실] Twip 버튼을 항상 표시",desc:"Dashboard 에 twip.kr 링크가 없더라도 무조건 표시<br />https://twip.kr/donate/{streamer-id} 링크로 접속",change:function(){$(window).trigger("hashchange")}},playing_toonat_button:{disable:!0,under_dev:!0,category:"playing",depth:1,type:"checkbox",value:!1,title:"[실험실] Toonation 버튼 표시",desc:"트위치 재생 시 Toonation donate 버튼을 표시<br /> - 스트리머의 Dashboard 에 기재된 toon.at 링크로 접속<br />　링크를 찾을 수 없는 경우 버튼 표시하지 않음<br /><br />주의사항:<br /> - 반드시 주소창의 주소 및 도네이션 수령자가 올바른지 확인할 것<br /> - 오작동으로 잘못 도네이션 되더라도 책임지지 않음",change:function(){$(window).trigger("hashchange")}},chat_ctr:{category:"chat",category_name:"채팅 - 일반",depth:1,type:"checkbox",value:!0,title:"채팅 제어",desc:"- 채팅 관련 기능을 일괄적으로 켜고 끔<br />- 채팅 관련 기능은 새로고침 해야 적용됨"},chat_memo:{category:"chat",depth:2,type:"checkbox",value:!0,title:"채팅매니저 기능 사용 (메모 기능)",desc:"- 채팅 닉네임 클릭 시 메모하기 버튼 표시<br />- 닉네임별 메모 작성/차단 가능<br />- 작성한 메모는 채팅창의 닉네임 뒤에 표시됨<br />- 차단 기능은 기존 두스 차단 기능과 별개로<br />　작동하므로, 차단목록이 날아가더라도 보존됨",append:$("<span class='show_memo_log btn btn-primary'>채팅매니저 관리</span>").on("click",(async()=>{je("메모 로그 버튼 클릭됨"),Qt()}))},chat_userlist_memo_top:{disable:!0,category:"chat",depth:3,type:"checkbox",value:!1,title:"유저리스트 관리",desc:""},chat_adb:{disable:!0,category:"chat",depth:2,type:"checkbox",value:!1,title:"광고 제거",desc:""},hide_nick_change:{disable:!0,category:"",depth:2,type:"checkbox",value:!1,title:"닉네임 변경 메시지 숨기기",desc:""},url_self:{category:"chat",depth:2,type:"checkbox",value:!0,title:"두스트림 좌표의 경우 현재 창에서 열기",desc:"두스 좌표가 새 창으로 열리는 것을 막음"},chat_scroll:{category:"chat",depth:2,type:"checkbox",value:!0,title:"자동스크롤 변경",desc:"- 채팅창의 자동스크롤이 끊기는 것을 방지하기 위해<br />　자동스크롤의 동작 방식을 변경<br /><br /><strong>동작 원칙:</strong><br />- 마우스 휠을 위로 굴리면 자동스크롤 멈춤<br />- 더 보기 버튼을 누르거나 맨 아래로 휠 하여<br />　자동스크롤을 재시작할 수 있음<br />- 그 이외의 모든 스크롤 관련 동작은 무시됨"},chat_scroll_down_min:{under_dev:!0,category:"chat",depth:3,type:"text",value:50,valid:"number",min_value:0,title:"자동 스크롤 재시작 거리(px)",desc:"스크롤이 정지 상태일 때 스크롤 내림 시<br />최하단과의 거리가 설정 값 이하가 되면<br />자동스크롤을 재시작(기본값:50)"},send_location_button:{category:"chat",depth:2,type:"checkbox",value:!1,title:"좌표 보내기 버튼 활성",desc:"클릭 시 현재 주소를 채팅창 입력란에 바로 복사",change:function(){R()}},send_location_button_top:{under_dev:!0,category:"chat",depth:3,type:"checkbox",value:!1,title:"좌표 버튼을 채팅창 상단에 고정",desc:"체크 해제 시 채팅창 하단에 고정됨",change:function(){R()}},send_location_existing:{under_dev:!0,category:"chat",depth:3,type:"checkbox",value:!1,title:"기존에 입력해둔 채팅 내용 유지",desc:"좌표 보내기 버튼을 눌렀을 때, 채팅 입력란의 내용을 유지하고 좌표 링크를 뒤에 덧붙임"},send_location_immediately:{under_dev:!0,category:"chat",depth:3,type:"checkbox",value:!1,title:"[실험실] 좌표 바로 전송",desc:"- 좌표 버튼을 누르면 좌표를 채팅 입력란에<br />　복사하는 것을 건너뛰고 채팅창에 바로 전송<br />- 재사용 대기시간: 10초"},chat_image_preview:{category:"chat",category_name:"채팅<br />- 이미지 미리보기",depth:2,type:"checkbox",value:!0,title:"이미지 미리보기",desc:"이미지 주소 형태의 링크가 채팅창에 등록되면 바로 보여줌"},imgur_preview_safe:{category:"chat",depth:3,type:"checkbox",value:!0,title:"후방주의 기능 활성",desc:"이미지를 어둡게 가려진 상태로 보여줌<br />버튼을 클릭해야 이미지 보기 가능"},imgur_preview_opacity:{category:"chat",depth:4,type:"text",value:.93,valid:"number",min_value:0,max_value:1,title:"박스 투명도",desc:"0:투명, 1:불투명, 기본값:0.93"},nudity_block:{disable:!0,category:"chat",depth:4,type:"checkbox",value:!1,title:"피부톤 이미지에만 후방주의 기능 활성",desc:"피부톤 이미지인 경우에만 후방주의 기능을 활성<br />너굴맨이 이미지를 먼저 확인한 후 피부색이 없어야 출력하므로 이미지가 조금 늦게 뜰 수 있다.<br />추가 이미지 로드 시에는 적용되지 않는다."},chat_image_youtube_thumb:{category:"chat",depth:3,type:"checkbox",value:!0,title:"유투브 섬네일 미리보기",desc:""},chat_image_youtube_thumb_nonsafe:{under_dev:!0,category:"chat",depth:4,type:"checkbox",value:!1,title:"유투브 섬네일에 대해 후방 주의 기능 사용하지 않음",desc:""},chat_image_twitch_thumb:{category:"chat",depth:3,type:"checkbox",value:!0,title:"트위치 클립 섬네일 미리보기",desc:""},chat_image_twitch_thumb_nonsafe:{under_dev:!0,category:"chat",depth:4,type:"checkbox",value:!1,title:"트위치 클립 섬네일에 대해 후방 주의 기능 사용하지 않음",desc:""},chat_video_play_top_fix:{under_dev:!0,category:"chat",depth:3,type:"checkbox",value:!1,title:"[실험실] 채팅 내 동영상 재생 시 상단 고정",desc:"Youtube, Twitch Clip"},imgur_preview:{category:"chat",depth:3,type:"checkbox",value:!0,title:"Imgur 이미지 미리보기",desc:"Imgur 주소 형태의 링크가 채팅창에 등록되면 바로 보여줌<br />(Imgur API 사용)"},imgur_preview_gif_as_mp4:{under_dev:!0,category:"chat",depth:4,type:"checkbox",value:!0,title:"gif 를 동영상 형태로 불러옴",desc:"gif 파일 대신 mp4 파일이 사용 가능한 경우 더 빠른 로딩을 위해 동영상 형태로 불러옴"},gfycat_preview:{category:"chat",depth:3,type:"checkbox",value:!0,title:"Gfycat 동영상 미리보기",desc:"Gfycat 주소 형태의 링크가 채팅창에 등록되면 바로 보여줌<br />(Gfycat API 사용, 테스트 중)"},chat_video_autoplay:{under_dev:!0,category:"chat",depth:3,type:"checkbox",value:!0,title:"동영상 자동 재생",desc:"Imgur, Gfycat 등에서 동영상을 불러오는 경우 음소거 된 상태로 자동 재생함"},chat_image_mouseover_prevent:{under_dev:!0,category:"chat",depth:3,type:"checkbox",value:!0,title:"이미지 링크 주소에 마우스 올려도 팝업 띄우지 않음",desc:"이미지 미리보기 기능을 사용하는 경우, 이미지 링크 주소에 마우스 커서를 올렸을 때 작은 미리보기 팝업을 띄우는 것을 막음(UCHAT의 기본 기능)"},chat_image_max_width:{under_dev:!0,category:"chat",depth:3,type:"text",value:325,valid:"number",min_value:1,title:"이미지 최대 너비(width, px)",desc:"이미지 가로(width) 최대 길이(기본값:325)"},chat_image_max_height:{under_dev:!0,category:"chat",depth:3,type:"text",value:600,valid:"number",min_value:1,title:"이미지 최대 높이(height, px)",desc:"이미지 세로(height) 최대 길이(기본값:600)"},chat_block:{category:"chat",category_name:"채팅<br />- 금지단어 차단",depth:2,type:"checkbox",value:!1,title:"금지단어 기반 채팅 차단 사용",desc:"채팅 내용 또는 닉네임에 금지단어 리스트에 추가한 단어가 포함되어 있는 경우 해당 채팅을 차단함"},chat_block_tag:{category:"chat",depth:3,type:"tag",valid:"array_word",value:["네다통","통구이","민주화","ㅁㅈㅎ","느금마","니애미","니어미","니엄마","니애비","느그애비","느그애미","애미터","애미뒤","앰뒤","앰창"],title:"금지단어 리스트",desc:"콤마로 구분"},chat_block_noti:{category:"chat",depth:3,type:"checkbox",value:!1,title:"차단 후 &lt;message deleted&gt; 로 표시",desc:"- 차단 후 기존 채팅 내용을 &lt;message deleted&gt; 로 대체<br />- 마우스를 올리면 툴팁으로 내용을 볼 수 있음"},chat_block_nickname:{category:"chat",depth:3,type:"checkbox",value:!1,title:"검색대상: 닉네임",desc:"채팅 닉네임에 금지단어가 있으면 차단"},chat_block_contents:{category:"chat",depth:3,type:"checkbox",value:!1,title:"검색대상: 내용",desc:"- 채팅 내용에 금지단어가 있으면 차단<br />- 닉네임을 바꿔가며 유사 내용을 도배하는 환경에서 유용<br />- 자주 올라오는 Imgur 이미지를 차단할 때 유용"},chat_block_record:{category:"chat",depth:2,type:"checkbox",value:!0,title:"채팅 차단 로그 기록",desc:"금지단어 및 채팅매니저에 의해 차단된 채팅 로그를 기록함",append:(rn=$("<span></span>"),sn=$("<span class='show_blocked_chat btn btn-primary'>채팅 로그 보기</span>").on("click",(async function(){je("채팅 로그 보기 버튼 클릭됨"),await Ae()})),ln=$("<span class='reset_blocked_chat btn btn-primary'>채팅 로그 초기화</span>").on("click",(async function(){je("채팅 로그 초기화 버튼 클릭됨"),confirm("채팅 로그를 초기화 하시겠습니까?")&&(await Ie.setVal("ADD_Blocked_Chat",[]),alert("채팅 로그 초기화 완료! "+(new Date).toLocaleTimeString()))})),rn.append(sn).append(ln))},chat_block_log_letter_limit:{under_dev:!0,category:"chat",depth:3,type:"text",value:40,valid:"number",min_value:0,max_value:1e5,title:"채팅 내용을 잘라서 기록",desc:"채팅 로그 기록 시 설정된 글자 수 만큼 채팅 내용을 잘라서 기록함(기본값 40)"},chat_block_log_limit:{under_dev:!0,category:"chat",depth:3,type:"text",value:100,valid:"number",min_value:0,max_value:1e5,title:"차단된 채팅 로그 최대 개수",desc:"- 채팅매니저 차단, 금지단어 차단에 의해 기록된 채팅 로그의 최대 개수를 설정<br />- 이 값을 크게 설정할 시 리소스를 많이 차지할 수 있으며, 알 수 없는 에러가 발생할 수 있음<br />(기본값:100)"},chat_dobae_block:{category:"chat",category_name:"채팅 - 도배 대응",depth:2,type:"checkbox",value:!1,title:"도배 채팅 숨기기 사용",desc:"동일 유저가 짧은 시간동안 유사한 문장을<br />지정된 횟수 이상 반복하여 입력하는 경우<br />도배로 판단하고 내용을 숨김"},chat_dobae_repeat:{category:"chat",depth:3,type:"text",value:2,valid:"number",min_value:2,max_value:10,title:"채팅 숨김 - 반복 입력 수 (회)",desc:"지정된 반복 입력 수 이상 올라온 채팅부터 숨김.<br />(기본값:2회)"},chat_dobae_onlylink:{category:"chat",depth:3,type:"checkbox",value:!1,title:"채팅 내용에 링크 포함 시에만 도배 판단",desc:"채팅 내용에 링크가 포함된 것만 도배 판단을 위해 카운트함"},chat_dobae_block_autoban:{category:"chat",depth:3,type:"checkbox",value:!1,title:"도배 유저를 채팅매니저로 자동 차단",desc:"<span style='color:red;'>설정 값에 따라 무차별 차단이 발생할 수 있으니 사용에 유의하십시오.<br />예) ㅋㅋㅋ를 반복 입력하는 유저도 차단됨"},chat_dobae_block_autoban_repeat:{category:"chat",depth:4,type:"text",value:4,valid:"number",min_value:2,max_value:10,title:"유저 차단 - 반복 입력 수 (회)",desc:"지정된 반복 입력 수 이상 올라온 채팅부터 차단.<br />(기본값:4회)"},chat_dobae_block_onlylink:{category:"chat",depth:4,type:"checkbox",value:!1,title:"채팅 내용에 링크 포함 시에만 차단",desc:"- 채팅 내용에 링크가 포함되지 않은 경우<br />　채팅은 숨기지만 자동 차단은 하지 않음<br />- [링크 포함 시에만 도배 판단] 옵션을<br />　끄는 것을 권장함"},chat_dobae_judge:{under_dev:!0,category:"chat",depth:3,type:"text",value:.8,valid:"number",min_value:.1,max_value:1,title:"문장 유사도",desc:"도배로 판단할 문장 유사도 설정<br />1 : 문장이 완전 일치하는 경우에만 차단<br />0 에 가까울 수록 불일치하는 경우에도 차단<br />(기본값:0.8)"},chat_dobae_timelimit:{under_dev:!0,category:"chat",depth:3,type:"text",value:8,valid:"number",min_value:0,max_value:120,title:"판단 시간 (초)",desc:"지정된 시간 이전에 올라온 채팅에 대해서는<br />도배 여부를 판단하지 않음(기본값:8초)"},chat_dobae_block_record:{under_dev:!0,category:"chat",depth:3,type:"checkbox",value:!0,title:"채팅 차단 로그에 기록",desc:"도배로 판단된 채팅을 채팅 차단 로그에 기록"},chat_autoKeyword:{category:"chat",depth:2,type:"checkbox",category_name:"채팅 - 고급",value:!0,title:"스트리머 닉네임을 링크로 변환",desc:"스트리머 닉네임 감지 시 자동으로 링크로 변환함"},chat_autoKeyword_emstyle:{category:"chat",depth:3,type:"checkbox",value:!0,title:"스트리머 닉네임 링크를 강조하여 표시",desc:""},chat_chzzk_onlyLive:{category:"chat",depth:3,type:"checkbox",value:!1,title:"치지직 스트리머가 메인 리스트에 라이브인 경우에만 치지직 링크로 변환",desc:"본 옵션이 꺼진 경우, 스크립트가 치지직 스트리머 이름을 감지하면 무조건 치지직 링크로 변환합니다. 본 옵션이 켜진 경우, 치지직 스트리머가 메인 리스트에 존재하는 경우에만 치지직 링크로 변환합니다."},chat_autoKeyword_startwith:{under_dev:!0,category:"chat",depth:3,type:"checkbox",value:!1,title:"[실험실] 단어의 시작일 때만 변환",desc:"단어의 시작이 스트리머 닉네임으로 시작하는 경우에만 닉네임을 링크로 변환함"},chat_autoKeyword_1char:{under_dev:!0,category:"chat",depth:3,type:"checkbox",value:!1,title:"[실험실] 한 글자 별칭도 링크로 변환",desc:"한 글자 별칭도 링크로 변환함. 단어의 시작일 때만 변환 옵션을 활성화 하는 것을 권장"},chat_url_decode:{category:"chat",depth:2,type:"checkbox",value:!0,title:"한글 URL을 구분 가능하도록 변경",desc:"채팅 내에서 유니코드 형태의 URL 링크 감지 시,<br />내용을 알아볼 수 있도록 표시<br />예) <a href='https://namu.wiki/w/%ED%92%8D%EC%9B%94%EB%9F%89' target='_blank'>https://namu.wiki/w/%ED%92%8D%EC%9B%94%EB%9F%89</a> → <a href='https://namu.wiki/w/%ED%92%8D%EC%9B%94%EB%9F%89' target='_blank'>https://namu.wiki/w/풍월량</a>"},sys_meg:{under_dev:!0,category:"chat",depth:2,type:"checkbox",value:!0,title:"작동 상태 알림",desc:"애드온의 작동 상태를 채팅창에 메시지로 알림"},chat_nick_colorize:{under_dev:!0,category:"chat",depth:2,type:"checkbox",value:!1,title:"닉네임 색상화",desc:"채팅 닉네임에 임의의 색상을 적용"},chat_unicode_err_replace:{under_dev:!0,category:"chat",depth:2,type:"checkbox",value:!0,title:"� 문자를 공백으로 변경",desc:"텍스트 인코딩 문제 발생 시 표시되는 � 문자를 공백으로 대체"},chat_tooltip_hide:{category:"chat",depth:2,type:"checkbox",value:!1,title:"채팅창 툴팁 숨김",desc:"채팅 내용에 마우스를 올렸을 때 툴팁이 뜨는 것을 막음",change:function(){Se()===t.C_UCHAT&&at()}},chat_auto_reload:{disable:!0,category:"chat",depth:2,type:"checkbox",value:!1,title:"채팅 중지 시 자동 새로고침 설정",desc:"채팅이 중지된 경우,<br />채팅창 상단의 Auto Reload가 설정된 창에서<br />채팅을 자동으로 새로고침 함 (10초 내 최대 5회)"},chat_auto_coor_twitch_afreeca:{under_dev:!0,category:"chat",depth:2,type:"checkbox",value:!0,title:"[실험실] 가능한 경우 외부 트위치, 아프리카 링크를 두스 좌표로 변환",desc:""},chat_input_click:{under_dev:!0,category:"chat",depth:2,type:"checkbox",value:!1,title:"[실험실] 채팅 입력 시 입력란 클릭 개선",desc:"가끔 채팅 입력란을 두 번 클릭해야지만 입력란이 활성화 되는 것을 개선한다."},chat_type_and_go:{under_dev:!0,category:"chat",depth:2,type:"checkbox",value:!1,title:"[실험실] 별칭 입력으로 스트림 바로 재생",desc:"채팅 입력란에 스트리머 닉네임 또는 별칭 입력 후 스트림 바로 재생<br />1. 채팅 입력란에서 TAB 키 누른 후 ENTER<br />2. 화살표 버튼 클릭<br />3. ALT + G",change:function(){it()}},uhaha_auto_remove:{under_dev:!0,category:"chat",category_name:"채팅 - 고급(우하하)",depth:2,type:"checkbox",value:!1,title:"[실험실] 우하하 채팅 자동 싹쓸이",desc:"우하하 채팅창 사용 시 누적 채팅 개수가 일정 개수를 넘으면 자동으로 싹쓸이를 실행하여 채팅이 느려지는 것을 방지.<br /><br />채팅을 맨 위로 스크롤하여 이전 채팅을 불러올 시 이상 동작할 수 있으니 주의하십시오."},uhaha_auto_remove_count:{under_dev:!0,category:"chat",depth:3,type:"text",value:1e3,valid:"number",min_value:200,max_value:1e5,title:"[실험실] 자동 싹쓸이를 실행할 채팅 개수",desc:"(기본값:1000, 범위:200~100000)"},uhaha_delete_button_hide:{under_dev:!0,category:"chat",depth:2,type:"checkbox",value:!1,title:"[실험실] 우하하 채팅 삭제 버튼 숨기기",desc:"우하하 채팅창 사용 시 채팅에 마우스를 올렸을 때 뜨는 삭제 버튼을 숨김",change:function(){on()}},uhaha_chat_scroll:{under_dev:!0,category:"chat",depth:2,type:"checkbox",value:!0,title:"[실험실] 자동스크롤 다시 시작 버튼 생성",desc:"채팅창에서 마우스 스크롤을 위로 올린 경우, 클릭하면 자동스크롤을 재시작 할 수 있는 버튼을 생성"},twitch_control:{under_dev:!0,category_name:"트위치 플레이어",category:"twitch",depth:1,type:"checkbox",value:!1,title:"[실험실] 트위치 플레이어 관련 기능 사용",desc:""},twitch_start_highest_quality:{under_dev:!0,category:"twitch",depth:2,type:"checkbox",value:!1,title:"[실험실] 트위치 시청 시 항상 가장 좋은 화질로 시작",desc:""},twitch_start_unmute:{disable:!0,under_dev:!0,category:"advanced",depth:2,type:"checkbox",value:!1,title:"[실험실] 트위치 시청 시작 시 음소거 하지 않음",desc:""},twitch_disable_visibilitychange:{under_dev:!0,category:"twitch",depth:2,type:"checkbox",value:!1,title:"[실험실] 트위치 시청 중 탭 비활성화 시 자동 화질 변경 무시",desc:""},twitch_error_auto_restart:{under_dev:!0,category:"twitch",depth:2,type:"checkbox",value:!1,title:"[실험실] 트위치 시청 중 오류 발생 시 자동 재시작",desc:"예) #2000 에러 (현재 동작 안 함)"},twitch_interacite:{disable:!0,category:"advanced",depth:2,type:"checkbox",value:!1,title:"반응형 트위치 사용",desc:""},twitch_point_clicker:{disable:!0,category:"advanced",depth:1,type:"checkbox",value:!1,title:"[실험실] 채널 포인트 자동 습득",desc:"가능한 경우 채널 포인트 자동 습득<br />참고: 포인트는 www.twitch.tv 에 직접 접속했을 때만 쌓입니다."},chzzk_onlyVideo:{category_name:"치지직",category:"chzzk",depth:1,type:"checkbox",value:!0,title:"[실험실] 치지직 플레이어만 표시",desc:"플레이어 주변 레이아웃을 숨기고 플레이어만 표시합니다. 알 수 없는 문제가 발생하면 이 기능을 끄십시오."},m3u8_maxQuality:{under_dev:!0,category_name:"M3U8 플레이어",category:"m3u8",depth:1,type:"checkbox",value:!0,title:"[실험실] 항상 최고 화질로 재생",desc:"인터넷 연결 상태에 따라 비디오 품질을 자동으로 조절하는 기능을 비활성화 합니다."},m3u8_type:{under_dev:!0,category:"m3u8",depth:1,type:"radio",value:"auto",title:"[실험실] M3U8 PLAYER 타입",desc:'M3U8 PLAYER 에서 동영상을 재생하는 방식을 선택합니다.<br />- Auto: http 로 시작하거나 서버에서 차단된 m3u8 을 재생할 수 있지만 연결에 필요한 권한을 요구합니다. M3U8 재생 시 연결 허용 관련 팝업이 뜨는 경우 "도메인 항상 허용" 또는 "모든 도메인 항상 허용" 버튼을 클릭 후 새로고침 하세요.<br />- Legacy: 1.55 버전까지의 방식으로 추가 권한을 요구하지 않지만 일부 m3u8 링크의 재생이 불가능 합니다.',radio:{auto:{title:"Auto",value:"auto"},legacy:{title:"Legacy",value:"legacy"}}},m3u8_potplayer_link:{under_dev:!0,category:"m3u8",depth:1,type:"checkbox",value:!0,title:"Potplayer 로 재생 버튼을 추가",desc:""},broadcaster_mode:{under_dev:!0,category:"broadcast",category_name:"방송 모드",depth:1,type:"checkbox",value:!1,title:"[실험실] 방송 모드",desc:"채팅창을 방송에 적합한 모드로 변경<br />Xsplit 등에서 스크린 캡쳐 후, 크로마키(기본값 blue)를 이용하여 배경색을 제거할 수 있습니다.",change:function(){Se()===t.C_UCHAT&&L()}},broadcaster_font_size:{under_dev:!0,category:"broadcast",depth:2,type:"text",value:1,valid:"number",min_value:.1,max_value:10,title:"글씨 크기 조절(배수)",desc:"",change:function(){Se()===t.C_UCHAT&&L()}},broadcaster_bg_color:{under_dev:!0,category:"broadcast",depth:2,type:"text",value:"blue",title:"배경 색상",desc:"예) blue, white, #fff, rgb(255, 255, 255)",change:function(){Se()===t.C_UCHAT&&L()}},broadcaster_nick_color:{under_dev:!0,category:"broadcast",depth:2,type:"text",value:"#ffffff",title:"닉네임 색상",desc:"예) blue, white, #fff, rgb(255, 255, 255)",change:function(){Se()===t.C_UCHAT&&L()}},broadcaster_cont_color:{under_dev:!0,category:"broadcast",depth:2,type:"text",value:"#fafafa",title:"채팅 내용 색상",desc:"예) blue, white, #fff, rgb(255, 255, 255)",change:function(){Se()===t.C_UCHAT&&L()}},broadcaster_nick_hide:{under_dev:!0,category:"broadcast",depth:2,type:"checkbox",value:!1,title:"닉네임의 일부를 숨김",desc:"예) 닉네임을 abcd**** 형태로 표시함"},broadcaster_use_nick_color:{under_dev:!0,category:"broadcast",depth:2,type:"checkbox",value:!0,title:"방송 모드용 닉네임 색상화 사용",desc:"닉네임을 랜덤으로 색상화 함<br />참고: 배경색이 blue 또는 green 일 경우<br />크로마키를 위해 해당 색으로는 닉네임을 표시하지 않음",change:function(){Se()===t.C_UCHAT&&L()}},broadcaster_msg_time:{under_dev:!0,category:"broadcast",depth:2,type:"text",value:15,valid:"number",min_value:0,max_value:300,title:"메시지 표시 시간",desc:"새로운 채팅이 올라오면 설정한 시간 이후 사라짐<br />0초로 설정해 두면 항상 메시지를 표시<br />(기본값:15초)",change:function(){Se()===t.C_UCHAT&&L()}},broadcater_theme:{under_dev:!0,category:"broadcast",depth:2,type:"radio",value:"box",title:"테마",desc:"",radio:{box:{title:"Box",value:"box"},twitch:{title:"Twitch",value:"twitch"},simple:{title:"Simple",value:"simple"}},change:function(){Se()===t.C_UCHAT&&L()}},under_dev:{category:"advanced",category_name:"고급",depth:1,type:"checkbox",value:!1,title:"실험실 기능 및 고급 기능 설정",desc:"실험 중인 기능 및 고급 기능을 직접 설정<br />실험실 기능은 불안정하며, 언제든 사라질 수 있습니다."},popup_player:{under_dev:!0,category:"advanced",depth:1,type:"checkbox",value:!1,title:"[실험실] 시청 중 이동 시 팝업 플레이어 사용",desc:""},chat_sword:{disable:!0,category:"advanced",depth:1,type:"checkbox",value:!1,title:"관리자 진은검 아이콘 달기",desc:""}},CONSOLE_MSG:je,MULTILANG:!1},dn=function(t,e,n){var a,o=void 0,i="",r=[],s={},l={},c={},d={$container:void 0,$GM_setting_head:void 0,$GM_homepage_link:void 0,$GM_multilang:void 0,$ul:void 0,$inputs:void 0,$lis:{}},u={},h=!1,f=function(){if(h){for(var t=arguments,e=t.length,n=t,a=e;a>0;a--)t[a]=n[a-1];t[0]="+[GM_SETTINGS]  ",t.length=e+1,console.log.apply(console,t)}},p=(navigator.language||navigator.userLanguage).toLowerCase().substring(0,2),m=p,g="ko",b=!1;const v={en:{title_settings:"Settings",title_reset:"Reset",donate:"Donate",buymeacoffee:"Buy me a coffee",buymeacoffeeDesc:"Support my projects by buying me a coffee! ☕",toonation:"Toonation",button_reset_settings:"Reset Settings",confirm_reset_settings:"Are you sure you want to reset the settings?",complete_reset_settings:"Settings reset complete!",button_reset_settings_all:"Script reset (refresh is required)",confirm_reset_settings_all:"Do you really want to reset script?",complete_reset_settings_all:"Script initialization complete!",auto_saved:"Autosaved: ",err_val_req:"A value must be entered.",err_num_req:"Only numbers can be entered.",err_num_over:"The input value must be a number greater than or equal to : ",err_num_not_more_than:"The input value must be a number less than or equal to: ",err_valid_array_string:"Only English letters, numbers, commas (,) and underscores (_) can be entered.",err_value_empty:"Something for which no value exists, such as an empty value.",err_value_dup:"Duplicate value exists: ",err_value_blank:"There is an item of a space in the string: ",setting_changed_from_other_window:"설정이 다른 창에서 변경되어 다시 불러옵니다."},ko:{title_settings:"Settings",title_reset:"Reset",donate:"후원하기",buymeacoffee:"Buy me a coffee 로 커피 한 잔 사주기",buymeacoffeeDesc:"커피 한 잔☕ 으로 프로젝트를 지원해주세요~",toonation:"Toonation 으로 후원하기",button_reset_settings:"Reset Settings",confirm_reset_settings:"진짜 설정을 초기화 할까요?",complete_reset_settings:"설정 초기화 완료!",button_reset_settings_all:"전체 초기화(새로고침 필요)",confirm_reset_settings_all:"진짜 스크립트를 모두 초기화 할까요?",complete_reset_settings_all:"스크립트 초기화 완료!",auto_saved:"자동 저장 됨: ",err_val_req:"반드시 값이 입력되어야 합니다.",err_num_req:"숫자만 입력 가능합니다.",err_num_over:"입력 값은 다음 값 이상의 숫자이어야 합니다. : ",err_num_not_more_than:"입력 값은 다음 값 이하의 숫자이어야 합니다. : ",err_valid_array_string:"영문, 숫자, 콤마(,), 언더바(_) 만 입력 가능합니다.",err_value_empty:"공백 값 등 값이 존재하지 않는 항목이 존재합니다.",err_value_dup:"중복된 값이 존재합니다: ",err_value_blank:"문자열 내 공백이 존재하는 항목이 있습니다: ",setting_changed_from_other_window:"설정이 다른 창에서 변경되어 다시 불러옵니다: "}};var _=function(t){var e="";if("object"==typeof t){var n=Object.keys(t);if(0===n.length)return e;e=void 0!==t[m]||void 0!==t[g]?t[m]:t[n[0]]}else e=t;return e},y=function(t){return void 0!==v[m]?v[m][t]:void 0!==v[g]?v[g][t]:""},k=async function(){f("save_"),""!==i&&await GM.setValue(i,c),e[i]=c,t.each(r,(function(t,e){void 0!==l[e]&&void 0!==l[e].change&&l[e].change(c[e])})),r=[]},w=async function(){f("load_"),""!==i&&(c=await GM.getValue(i,c)),c.Lang=await x(),e[i]=c},x=async function(){return m=await GM.getValue("GM_SETTING_LANG",p),f("loadLang_",m),m},D=function(e,n,a){e.empty(),e.empty();for(var o=0;o<a.length;o++){for(var i=t("<tr></tr>"),r=0;r<a[o].length;r++)0==r&&i.append(`<td>${o+1}</td>`),i.append(`<td>${a[o][r]}</td>`);i.append(`<td class="table_btn_container"><span title="Modify" alt="Modify" class="glyphicon glyphicon-pencil cp table_modify" GM_setting_key="${n}"></span><span title="Save" alt="Save" style="display:none;" class="glyphicon glyphicon-floppy-disk cp table_save" GM_setting_key="${n}"></span></td>`),i.append(`<td class="table_btn_container"><span title="Delete" alt="Delete" class="glyphicon glyphicon-trash cp table_delete" GM_setting_key="${n}"></span><span title="Cancel" alt="Cancel" style="display:none;" class="glyphicon glyphicon-remove cp table_cancel" GM_setting_key="${n}"></span></td>`),e.append(i)}for(var s=t("<tr></tr>"),c=0;c<l[n].head.length;c++)0==c&&s.append("<td></td>"),s.append("<td></td>");s.append(`<td class="table_btn_container"><span title="New" alt="New" class="glyphicon glyphicon-plus cp table_new" GM_setting_key="${n}"></span><span title="Save" alt="Save" style="display:none;" class="glyphicon glyphicon-floppy-disk cp table_new_save" GM_setting_key="${n}"></span></td>`),s.append(`<td class="table_btn_container"><span title="Cancel" alt="Cancel" style="display:none;" class="glyphicon glyphicon-remove cp table_new_cancel" GM_setting_key="${n}"></span></td>`),e.append(s)},A=function(e){var n,a,o=l[e].category,i=(l[e].depth,l[e].type),r=_(l[e].category_name),s=(l[e].under_dev,l[e].radio_enable_value),c=_(l[e].title),h=_(l[e].desc),f=t("<div class='GM_setting_input_container form-group'></div>"),p=-1!==t.inArray(i,["tag","textarea","object"]);switch(i){case"radio":var m=l[e].radio;for(var g in n=t("<div GM_setting_type='radio'></div>"),m){var b=t("<label class='radio-inline'>"+_(m[g].title)+"</label>");t("<input name='GM_setting_"+e+"' class='form-control' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' onfocus='this.blur()' />").attr({GM_setting_key:e,value:m[g].value,type:"set"===i?"text"===i:"tag"===i?"textarea":i}).prependTo(b),n.append(b)}break;case"combobox":var v=l[e].options;for(var y in n=t(`<select name="GM_setting_${e}" class='form-control input-sm select-inline'></select>`).attr({GM_setting_type:i,GM_setting_key:e,GM_setting_category:void 0===o?"default":o,GM_setting_radio_enable_value:void 0===s?"none":s}),v){var k=t(`<option spellcheck='false' value="${y}" onfocus='this.blur()'>${_(v[y].title)}</option>`);n.append(k)}break;case"table":var w=(n=t(`<table name="GM_setting_${e}" class="table table-bordered table-striped table-hover"><thead><tr></tr></thead><tbody></tbody></table>`).attr({GM_setting_key:e})).find("thead tr");w.append("<th>#</th>");for(var x=0;x<l[e].head.length;x++)w.append(`<th>${l[e].head[x]}</th>`);w.append('<th class="table_btn_container"> </th>'),w.append('<th class="table_btn_container"> </th>');break;default:n=t(`<${p?"textarea ":"input "} class='form-control' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' ${"checkbox"===i?"onfocus='this.blur()'":""}${p?"></textarea>":" />"}`).attr({type:"set"===i?"text"===i:"tag"===i?"textarea":i,GM_setting_key:e})}a=t(void 0!==r?`<div class='GM_setting_category_name'>${r}</div>`:"<div class='GM_setting_category_blank'></div>");var D=t("<div class='GM_setting_list_head'></div>"),A=t(`<span class='GM_setting_title'>${c}</span>`),T=t(`<span class='GM_setting_desc'>${h}</span>`);(D.append(A).append(T),"checkbox"===i)?(t('<label class="btn btn-default btn-xxs"><span class="glyphicon glyphicon-ok"></span></label>').prepend(n).appendTo(f),n.on("change",(function(){t(this).is(":checked")?t(this).closest("label").addClass("active"):t(this).closest("label").removeClass("active"),t(this).is(":disabled")?t(this).closest("label").addClass("disable").prop("disabled",!0):t(this).closest("label").removeClass("disable").prop("disabled",!1)}))):f.append(n);d.$lis[e].empty().append(a).append(D).append(f),u[e]=n,void 0!==l[e].append&&f.append(l[e].append)},T=function(e){for(var n in u={},0!==(a=t(e)).find("#GM_setting_container").length&&a.empty(),d.$container=t("<div id='GM_setting'></div>"),d.$ul=t("<ul></ul>"),d.$GM_setting_head=t("<div id='GM_setting_head'></div>"),a.append(d.$container),d.$container.append(d.$GM_setting_head).append(d.$ul),d.$GM_homepage_link=t(`<div class='GM_homepage_link' style='display:none;><a href='${GM.info.script.homepage}' target='_blank'>${GM.info.script.name} v${GM.info.script.version} (${GM.info.script.homepage})</a></div>`),void 0!==GM.info&&null!==GM.info&&void 0!==GM.info.script&&null!==GM.info.script&&void 0!==GM.info.script.homepage&&null!==GM.info.script.homepage&&""!==GM.info.script.homepage&&d.$GM_homepage_link.show(),d.$GM_multilang_select=t('<select id=\'GM_multilang_select\' class="form-control input-sm"><option value="ko">한국어</option><option value="en">English</option></select>'),d.$GM_multilang=t("<div class='GM_multilang' style='display:none'></div>").append(d.$GM_multilang_select),b&&(d.$GM_multilang.show(),d.$GM_multilang_select.val(m),d.$GM_multilang_select.on("change",(async e=>{var n=m;t("option:selected",this);m=this.value,f(`LANG VALUE CHANGED FROM ${n} TO ${m}`),await async function(t){null==t?(await GM.setValue("GM_SETTING_LANG",m),f("saveLang_",m)):(await GM.setValue("GM_SETTING_LANG",t),f("saveLang_",t))}(),null!=o?(t(o).empty(),T(o)):f("NO CREATED LAYOUT")}))),d.$GM_setting_head.append("<div class='GM_setting_logo'>Settings</div>").append(t("<div class='GM_setting_menu_right'></div>").append(d.$GM_homepage_link).append(d.$GM_multilang)),l){var i=l[n].category,r=l[n].depth,s=l[n].type,h=_(l[n].category_name),p=l[n].under_dev,g=l[n].radio_enable_value;d.$lis[n]=t("<li></li>"),d.$ul.append(d.$lis[n]),d.$lis[n].attr({GM_setting_type:s,GM_setting_key:n,GM_setting_depth:r,GM_setting_category:void 0===i?"default":i,GM_setting_radio_enable_value:void 0===g?"none":g}),d.$lis[n].addClass(`GM_setting_depth${r}`),void 0!==g&&d.$lis[n].attr("GM_setting_radio_enable_value",l[n].radio_enable_value),p&&d.$lis[n].addClass("GM_setting_under_dev"),void 0!==h&&d.$lis[n].addClass("GM_setting_category"),p&&!c.under_dev&&d.$lis[n].css({display:"none",opacity:"0"}),A(n)}O(),M(),a.find("input[type='checkbox']").on("click",(function(){M()})),a.find("input[type='radio']").on("click",(function(){M()})),d.$container.on("click",".table_modify",(function(e){f("clicked table_modify btn");var n=t(e.target),a=n.closest("tbody"),o=n.closest("tr");a.find(".table_modify").hide(),a.find(".table_delete").hide(),a.find(".table_new").hide(),a.find(".table_save").hide(),a.find(".table_cancel").hide(),o.find(".table_save").show(),o.find(".table_cancel").show();for(var i=o.find("td"),r=0;r<i.length-2;r++)if(0!=r){var s=t(i[r]),l=s.text();s.html(`<input type="text" value="${l}" orivalue="${l}"></input>`)}})),d.$container.on("click",".table_save",(async function(e){f("clicked table_save btn");var n=t(e.target),o=n.closest("tr"),i=o.find("input"),r=Number(o.find("td").first().text())-1,s=n.attr("GM_setting_key");console.log(i);for(var l=0;l<i.length;l++)c[s][r][l]=t(i[l]).val();await k(),C(y("auto_saved")+(new Date).toLocaleTimeString(),a);var d=n.closest("tbody"),u=c[s];D(d,s,u)})),d.$container.on("click",".table_cancel",(function(e){f("clicked table_cancel btn");var n=t(e.target),a=n.attr("GM_setting_key"),o=n.closest("tbody"),i=c[a];D(o,a,i)})),d.$container.on("click",".table_delete",(async function(e){f("clicked table_delete btn");var n=t(e.target);if(confirm("Delete?")){var o=n.closest("tr"),i=Number(o.find("td").first().text())-1;o.remove();var r=n.attr("GM_setting_key");c[r].splice(i,1),await k();var s=n.closest("tbody"),l=c[r];D(s,r,l),C(y("auto_saved")+(new Date).toLocaleTimeString(),a)}})),d.$container.on("click",".table_new",(function(e){f("clicked table_new btn");var n=t(e.target),a=n.closest("tbody");a.find(".table_modify").hide(),a.find(".table_delete").hide(),a.find(".table_new").hide(),a.find(".table_new_save").show(),a.find(".table_new_cancel").show();for(var o=n.closest("tr").find("td"),i=0;i<o.length-2;i++){if(0!=i)t(o[i]).html('<input type="text" value=""></input>')}})),d.$container.on("click",".table_new_save",(async function(e){f("clicked table_new_save btn");for(var n=t(e.target),o=n.closest("tr").find("input"),i=[],r=0;r<o.length;r++)i.push(t(o[r]).val());var s=n.attr("GM_setting_key");c[s].push(i),await k(),C(y("auto_saved")+(new Date).toLocaleTimeString(),a);var l=n.closest("tbody"),d=c[s];D(l,s,d)})),d.$container.on("click",".table_new_cancel",(function(e){f("clicked table_new_cancel btn");var n=t(e.target).attr("GM_setting_key"),a=t(e.target).closest("tbody"),o=c[n];D(a,n,o)})),d.$container.find("select").on("change",(function(){f("GM_setting - select change"),B(t(this),a,u)})),d.$container.find("input, textarea").on("input",(function(){f("GM_setting - text change"),B(t(this),a,u)})),d.$ul.append(`<li class="GM_setting_category GM_setting_depth1">\n            <div class="GM_setting_category_name">${y("title_reset")}</div>\n            <div class="GM_setting_list_head">\n                <span class="GM_setting_title">\n                    <span class="GM_setting_reset btn btn-primary" style="margin-left:0;">${y("button_reset_settings")}</span>\n                    \x3c!--<span class="GM_setting_reset_all btn btn-primary">button_reset_settings_all</span>--\x3e\n                </span>\n                <span class="GM_setting_desc"></span>\n            </div>\n            <div class="GM_setting_input_container form-group">\n            </div>\n        </li>`),d.$ul.find(".GM_setting_reset").on("click",(async function(){confirm(y("confirm_reset_settings"))&&(await dn.reset(),dn.createlayout(a),C(y("complete_reset_settings")+(new Date).toLocaleTimeString(),a))})),d.$ul.find(".GM_setting_reset_all").on("click",(async function(){if(confirm(y("confirm_reset_settings_all"))){for(var t=await GM.listValues(),e=0;e<t.length;e++){var n=t[e];await GM.deleteValue(n)}await dn.reset(),dn.createlayout(a),C(y("complete_reset_settings_all")+(new Date).toLocaleTimeString(),a)}})),d.$ul.append(`<li class="GM_setting_category GM_setting_depth1">\n        <div class="GM_setting_category_name">${y("donate")}</div>\n        <div class="GM_setting_list_head">\n            <span class="GM_setting_title">\n                ${y("buymeacoffee")}\n            </span>\n            <span class="GM_setting_desc">\n                ${y("buymeacoffeeDesc")}\n            </span>\n        </div>\n        <div class="GM_setting_input_container form-group">\n        <a href="https://www.buymeacoffee.com/nomomo" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/default-yellow.png" alt="Buy Me A Coffee" height="41" width="174"></a>\n        </div>\n        </li>\n        <li class="GM_setting_depth1">\n        <div class="GM_setting_category_blank"></div>\n            <div class="GM_setting_list_head">\n                <span class="GM_setting_title">\n                    ${y("toonation")}\n                </span>\n                <span class="GM_setting_desc"></span>\n            </div>\n            <div class="GM_setting_input_container form-group">\n            <a href="https://toon.at/donate/636947867320352181" target="_blank"><img src="https://raw.githubusercontent.com/nomomo/Addostream/master/assets/toonation_b11.gif" height="41" alt="Donate with Toonation" /></a>\n            </div>\n        </li>\n    `),d.$ul.after(`\n        <div id="GM_setting_footer">\n            <a href="${GM.info.script.homepage}" target="_blank">${GM.info.script.name}</a> v${GM.info.script.version}\n            <div class="footer_divider"></div> GM Setting v22.5.31\n            <div class="footer_divider"></div> ©2017-${(new Date).getFullYear()} <a href="https://nomo.asia/" target="_blank">NOMO</a></div>\n        `)},E=void 0,C=function(e,n){if(void 0!==n){var a="GM_setting_autosaved";n.find("."+a).animate({bottom:"+=40px"},{duration:300,queue:!1}),t("<div style='animation: glow .5s 10 alternate; position:fixed; left:10px; bottom:20px; z-index:10000000;' class='"+a+" btn btn-success'>"+e+"</div>").appendTo(n).fadeIn("fast").animate({opacity:1},6e3,(function(){t(this).fadeOut("fast").delay(600).remove()})).animate({left:"+=30px"},{duration:300,queue:!1})}},S=async function(e){if(!(l[e].autosavepass&&void 0!==c[e]||"table"===c[e].type)){var n=F(e);"tag"===l[e].type&&(1===(n=n.split(",")).length&&""===n[0]&&(n=[]),t.each(n,(function(t,e){n[t]=e.replace(/^\s*|\s*$/g,"")}))),c[e]!==n&&-1===r.indexOf(e)&&r.push(e),c[e]=n}},L=async function(t){if(f("read_"),void 0===t)for(var e in u)await S(e);else await S(t)},I=function(t){R(t,u[t],c[t])},O=function(t){if(f("write_"),void 0===t)for(let t in u)I(t);else I(t)},F=function(e){var n,a=u[e];switch(l[e].type){case"checkbox":n=a.prop("checked");break;case"set":case"text":case"tag":case"textarea":n=a.val();break;case"object":n=JSON.parse(a.val());break;case"radio":n=a.find("input:checked").val();break;case"combobox":n=a.find("option:selected").val();break;case"table":n=[];for(var o=a.find("tbody").find("tr"),i=0;i<o.length-1;i++){n.push([]);for(var r=t(o[i]).find("td"),s=0;s<r.length-2;s++)if(0!==s){var c=t(r[s]).text();n[i][s-1]=c}}break;default:n=void 0}return n},R=function(e,n,a){switch(l[e].type){case"checkbox":n.prop("checked",a).trigger("change");break;case"set":case"text":n.val(a);break;case"tag":case"textarea":n.val(a),n.height("auto"),n.height(String(Number(n.prop("scrollHeight"))+0)+"px");break;case"object":n.val(JSON.stringify(a)),n.height("auto"),n.height(String(Number(n.prop("scrollHeight"))+0)+"px");break;case"radio":n.find("input[value="+a+"]").prop("checked",!0);break;case"combobox":n.find("option[value="+a+"]").prop("selected",!0);break;case"table":var o=n.find("tbody");o.empty();for(var i=0;i<a.length;i++){for(var r=t("<tr></tr>"),s=0;s<a[i].length;s++)0==s&&r.append(`<td>${i+1}</td>`),r.append(`<td>${a[i][s]}</td>`);r.append(`<td class="table_btn_container"><span title="Modify" alt="Modify" class="glyphicon glyphicon-pencil cp table_modify" GM_setting_key="${e}"></span><span title="Save" alt="Save" style="display:none;" class="glyphicon glyphicon-floppy-disk cp table_save" GM_setting_key="${e}"></span></td>`),r.append(`<td class="table_btn_container"><span title="Delete" alt="Delete" class="glyphicon glyphicon-trash cp table_delete" GM_setting_key="${e}"></span><span title="Cancel" alt="Cancel" style="display:none;" class="glyphicon glyphicon-remove cp table_cancel" GM_setting_key="${e}"></span></td>`),o.append(r)}for(var c=t("<tr></tr>"),d=0;d<l[e].head.length;d++)0==d&&c.append("<td></td>"),c.append("<td></td>");c.append(`<td class="table_btn_container"><span title="New" alt="New" class="glyphicon glyphicon-plus cp table_new" GM_setting_key="${e}"></span><span title="Save" alt="Save" style="display:none;" class="glyphicon glyphicon-floppy-disk cp table_new_save" GM_setting_key="${e}"></span></td>`),c.append(`<td class="table_btn_container"><span title="Cancel" alt="Cancel" style="display:none;" class="glyphicon glyphicon-remove cp table_new_cancel" GM_setting_key="${e}"></span></td>`),o.append(c)}},M=async function(){var e=d.$lis;for(let n in e){let a=t(e[n]);a.removeClass("GM_setting_item_disable"),a.find("input, textarea, select").prop("disabled",!1),a.find("input[type='checkbox']").trigger("change")}var n,a=[!0,!0],o=void 0,i=1e3;for(let d in e){let m=t(e[d]);var r=l[d].depth,s=l[d].radio_enable_value;l[d].type;if(void 0===o);else{var c=o.attr("GM_setting_depth");if(i>=r&&(n=void 0,i=1e3),c==r&&c>0)void 0!==n&&(a[c-1]=n==s);else if(c<r){n=void 0;var u=o.find("input[type='checkbox']"),h=o.find("input[type='radio']"),f=o.find("select");0!==u.length&&u.is(":checked")?a[c]=!0:0!==h.length?(n=o.find("input[type='radio']:checked").val(),i=c,o.find("input[type='radio']:checked").val()==s?a[c]=!0:a[c]=!1):0!==f.length?a[c]=!0:a[c]=!1}}o=m;for(var p=0;p<r;p++)if(l[d].disable||!a[p]){m.addClass("GM_setting_item_disable"),m.find("input, textarea, select").prop("disabled",!0),m.find("input[type='checkbox']").trigger("change");break}}},N=function(e,n){var a,o,i,r=!0,s="";if("number"===l[e].valid)r=t.isNumeric(n),""===n?s+=y("err_val_req"):r?void 0!==l[e].min_value&&l[e].min_value>n?(r=!1,s+=y("err_num_over")+l[e].min_value):void 0!==l[e].max_value&&l[e].max_value<n&&(r=!1,s+=y("err_num_not_more_than")+l[e].max_value):s+=y("err_num_req");else if(""!==n&&"array_string"===l[e].valid){a=t.map(n.split(","),t.trim);var c=n.match(/^[A-Za-z0-9 _,]*$/);if(null===c||0===c.length)r=!1,s+=y("err_valid_array_string");else if(-1!==t.inArray("",a))r=!1,s+=y("err_value_empty"),f(a,t.inArray("",a));else if(new Set(a).size!==a.length){r=!1,o=[],i=a.sort();for(var d=0;d<a.length-1;d++)i[d+1]==i[d]&&-1===t.inArray(i[d],o)&&o.push(i[d]);s+=y("err_value_dup")+o.join(",")}else for(var u=0;u<a.length;u++)if(-1!==a[u].indexOf(" ")){r=!1,s+=y("err_value_blank")+a[u];break}}else if(""!==n&&"array_word"===l[e].valid)if(a=t.map(n.split(","),t.trim),-1!==t.inArray("",a))r=!1,s+=y("err_value_empty"),f(a,t.inArray("",a));else if(new Set(a).size!==a.length){r=!1,o=[],i=a.sort();for(var h=0;h<a.length-1;h++)i[h+1]==i[h]&&-1===t.inArray(i[h],o)&&o.push(i[h]);s+=y("err_value_dup")+o.join(",")}return{valid:r,message:s}},B=async function(e,n,a){var o=e.attr("GM_setting_key"),i=F(o),r=N(o,i);e.closest("div").find(".invalid_text").remove(),r.valid?e.closest("div").removeClass("invalid"):(f("validation",r),e.closest("div").addClass("invalid"),e.after("<div class='invalid_text'>"+r.message+"</div>")),clearTimeout(E),E=setTimeout((async function(){var e=!0;t.each(a,(function(t,n){if(!N(t,F(t)).valid)return e=!1,!1})),e&&(await L(),k(),C(y("auto_saved")+(new Date).toLocaleTimeString(),n))}),1e3)},$=function(t,e){var n=Object.keys(t).sort(),a=Object.keys(e).sort();return JSON.stringify(n)===JSON.stringify(a)};return{init:async function(e,d){i=e,await async function(t){for(var e in f("init_",l),t&&(t.DEBUG&&f("GM_setting - DEBUG",h=!0),t.CONSOLE_MSG&&(f=t.CONSOLE_MSG),t.SETTINGS&&(l=t.SETTINGS),t.MULTILANG&&(b=!0,t.LANG_DEFAULT&&(g=t.LANG_DEFAULT))),l)s[e]=l[e].value;if(s.Lang="",await w(),!$(s,c)){for(e in s)void 0===c[e]&&(c[e]=s[e]);for(e in c)void 0===s[e]&&delete c[e];await k()}}(d),await async function(){"function"==typeof GM.addValueChangeListener&&(f("설정에 대한 addValueChangeListener 바인드"),GM.addValueChangeListener(i,(async function(e,n,i,s){s&&(f("다른 창에서 설정 변경됨. val_name, old_value, new_value:",e,n,i),await w(),t.each(n,(function(t,e){void 0!==l[t]&&void 0!==l[t].change&&n[t]!==i[t]&&l[t].change(c[t])})),r=[],void 0!==o&&(T(o),C(y("setting_changed_from_other_window")+(new Date).toLocaleTimeString(),a)))}))),t(n).on("input","input[gm_setting_key='under_dev']",(function(){f("실험실 기능 온오프 이벤트"),t(this).is(":checked")?t(".GM_setting_under_dev").css("opacity",0).slideDown("fast").animate({opacity:1},{queue:!1,duration:"fast"}):t(".GM_setting_under_dev").css("opacity",1).slideUp("fast").animate({opacity:0},{queue:!1,duration:"fast"})}))}(),GM.addStyle('\n#GM_setting .btn {font-size:12px;}\n.GM_setting_autosaved.btn {\n    max-width:100%;\n    font-size:12px;\n    white-space:pre-wrap;\n    user-select:text;\n}\n#GM_setting .btn-xxs {\n    cursor: pointer;\n    padding: 4px 4px;\n}\n#GM_setting label.btn-xxs {\n    box-sizing: content-box;\n    width:11px;\n    height:11px;\n}\n#GM_setting a{\n    color: #428bca;\n    text-decoration: none;\n}\n#GM_setting a:hover, #GM_setting a:focus {\n    color: #2a6496;\n    text-decoration: underline;\n}\n#GM_setting {clear:both;margin-left:auto; margin-right:auto; padding:0;max-width:1400px; min-width:750px; box-sizing:content-box;}\n#GM_setting, #GM_setting table {font-size:13px;}\n\n#GM_setting .GM_setting_logo{height:25px;display:inline-block;white-space:nowrap}\n#GM_setting .GM_setting_menu_right{display:flex;height:25px;float:right;}\n#GM_setting .GM_homepage_link{font-size:12px;font-weight:normal;align-self:flex-end;}\n#GM_setting .GM_multilang{margin-left:15px;}\n\n#GM_setting_head{margin-left:auto; margin-right:auto; padding:20px 0px 10px 10px;font-size:18px;font-weight:800;max-width:1400px; min-width:750px; box-sizing:content-box;}\n#GM_setting li {display:flex;list-style:none;margin:0px;padding:10px;border-top:1px solid #eee;}\n\n#GM_setting .GM_setting_depth1.GM_setting_category {border-top: 2px solid #999;margin-top:30px;padding-top:10px;}\n#GM_setting li[GM_setting_key=\'version_check\'] {margin-top:0px !important}\n\n#GM_setting .GM_setting_category_name{display:block;box-sizing:border-box;padding:0 0 0 0px;font-weight:700;vertical-align:top;flex:0 0 100px;}\n#GM_setting .GM_setting_category_blank{display:block;box-sizing:border-box;padding:0 0 0 0px;vertical-align:top;flex:0 0 100px;}\n\n#GM_setting .GM_setting_list_head{display:block;box-sizing:border-box;vertical-align:top;flex:1 0 315px;}\n#GM_setting .GM_setting_depth1 .GM_setting_list_head {padding-left:0px;}\n#GM_setting .GM_setting_depth2 .GM_setting_list_head {padding-left:30px;}\n#GM_setting .GM_setting_depth3 .GM_setting_list_head {padding-left:60px;}\n#GM_setting .GM_setting_depth4 .GM_setting_list_head {padding-left:90px;}\n#GM_setting .GM_setting_depth5 .GM_setting_list_head {padding-left:120px;}\n\n#GM_setting .GM_setting_title{display:block;font-weight:700;}\n#GM_setting .GM_setting_desc{display:block;font-size:11px;}\n\n#GM_setting .GM_setting_input_container {display:block;box-sizing:border-box;padding:0 0 0 30px;vertical-align:top;flex:1 1 100%;}\n#GM_setting .GM_setting_input_container span{vertical-align:top;}\n#GM_setting .GM_setting_input_container span.btn{margin:0 0 0 10px;}\n#GM_setting input{display:inline}\n#GM_setting input[type="text"]{ width: 100px; height: 30px; padding: 5px 5px; font-size:12px; }\n#GM_setting textarea{ width: 250px; height: 30px; padding: 5px 5px; font-size:12px; }\n#GM_setting input[type="checkbox"] { display:none; width: 20px;height:20px; padding: 0; margin:0; }\n#GM_setting input[type="radio"] {width: 20px;height:20px; padding: 0; margin:0; }\n\n#GM_setting .radio-inline{ padding-left:0; padding-right:10px; }\n#GM_setting .radio-inline input{ margin:0 5px 0 0; }\n\n#GM_setting table {margin:0; width:100%;}\n#GM_setting th, #GM_setting td {height: 24px;}\n#GM_setting table th, #GM_setting table td{padding:2px 5px;}\n#GM_setting table th {border: 1px solid; border-color: inherit;}\n#GM_setting .table_btn_container {white-space: nowrap; vertical-align:middle; width:24px; font-size:14px; padding:0; text-align:center;}\n#GM_setting .table_btn_container span {padding:0}\n#GM_setting table input[type="text"] {padding:1px 2px; height:auto; width:100%; margin-left:auto; margin-right:auto;}\n\n#GM_setting .GM_setting_item_disable, #GM_setting .GM_setting_item_disable .GM_setting_title, #GM_setting .GM_setting_item_disable .GM_setting_desc{color:#ccc !important}\n#GM_setting .invalid input, #GM_setting .invalid textarea{border-color:#dc3545;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;color:#dc3545;}\n#GM_setting .invalid input:focus, #GM_setting .invalid textarea:focus{border-color:#dc3545;box-shadow:0 0 0 0.2rem rgba(220,53,69,.25);outline:0;color:#dc3545;}\n#GM_setting .invalid {color:#dc3545}\n#GM_setting .invalid_text {font-size:12px;padding:5px 0 0 5px;}\n\n#GM_setting .GM_setting_under_dev .GM_setting_title{color:#6441a5;font-style:italic}\n\n#GM_setting .btn-xxs {cursor:pointer;padding:4px 4px;} /*padding: 1px 2px;font-size: 9px;line-height: 1.0;border-radius: 3px;margin:0 2px 2px 0;*/\n#GM_setting .btn-xxs .glyphicon{}\n#GM_setting .btn-xxs span.glyphicon {font-size:11px; opacity: 0.1;}\n#GM_setting .btn-xxs.active span.glyphicon {opacity: 0.9;}\n#GM_setting .btn-xxs.disable {opacity: 0.3;cursor:not-allowed;}\n\n#GM_setting_footer { padding: 30px 0 30px 0; margin: 30px 0 0 0; border-top: 1px solid #ccc; text-align: center; font-size:13px; letter-spacing:0.2px; }\n#GM_setting_footer .footer_divider { margin: 0 5px; display: inline-block; width: 1px; height: 13px; background-color: #ebebeb; }\n\n#GM_setting .cp {cursor:pointer}\n\n#GM_setting .form-group {margin-bottom:0px;}\n')},load:async function(){f("GM_setting - load"),await w()},save:async function(){f("GM_setting - save"),await k()},save_overwrite:async function(){var n=c,a=e[i];f("_settings",l),t.each(n,(function(t,e){void 0!==l[t]&&void 0!==l[t].change&&n[t]!==a[t]&&l[t].change(a[t])})),c=e[i],f("GM_setting - save_overwrite"),await k()},reset:async function(){await GM.setValue(i,s),await w()},createlayout:function(t){o=t,T(t)},getType:function(t){return void 0!==l[t]?l[t].type:void 0},message:function(t,e){C(t,e)}}}(jQuery,window,document);const un=0;var hn;class fn{constructor(){this.method,this.url,this.headers={},this.async,this.user,this.password,this.details={},this.response,this.responseText,this.responseType,this.responseURL,this.responseXML,this.responseHeaders,this.status,this.statusText,this.timeout,this.upload,this.withCredentials,this.abort,this.getAllResponseHeaders=function(){return this.responseHeaders,this.responseHeaders},this.getResponseHeader=function(t){for(var e=this.responseHeaders.split("\r\n"),n=0;n<e.length;n++){var a=this.responseHeaders.split(": ");if(a[0].toLowerCase()===t.toLowerCase())return a[1]}},this.open=function(t,e,n,a,o){this.method=t,this.url=e,this.async=n,this.user=a,this.password=o},this.overrideMimeType,this.send=function(t){var e=this;this.details.method=this.method,this.details.url=this.url,this.details.headers=this.headers,void 0!==t&&(this.details.data=t),void 0!==this.timeout?this.details.timeout=this.timeout:this.details.timeout=2e3,void 0!==this.responseType&&(this.details.responseType=this.responseType),void 0!==this.responseType&&(this.details.responseType=this.responseType),void 0!==this.overrideMimeType&&(this.details.overrideMimeType=this.overrideMimeType),void 0!==this.anonymous&&(this.details.anonymous=this.anonymous),void 0!==this.user&&(this.details.user=this.user),void 0!==this.password&&(this.details.password=this.password),void 0!==this.onabort&&(this.details.onabort=this.onabort),void 0!==this.onerror&&(this.details.onerror=this.onerror),void 0!==this.onloadstart&&(this.details.onloadstart=this.onloadstart),void 0!==this.onprogress&&(this.details.onprogress=this.onprogress),this.details.onreadystatechange=function(t){e.readyState=t.readyState,e.responseHeaders=t.responseHeaders,e.status=t.status,e.statusText=t.statusText,e.response=t.response,e.responseText=t.responseText,e.responseXML=t.responseXML,void 0!==e.onreadystatechange&&e.onreadystatechange.apply(this,arguments),void 0!==e.readystatechange&&e.readystatechange.apply(this,arguments)},void 0!==this.ontimeout&&(this.details.ontimeout=this.ontimeout),this.details.onload=function(t){try{e.status=t.status,e.statusText=t.statusText,e.response=t.response,"arraybuffer"!==t.responseType&&(e.responseText=t.responseText),e.responseXML=t.responseXML,void 0!==e.onload&&e.onload.apply(this,arguments),void 0!==e.load&&e.load.apply(this,arguments)}catch(t){}},this.details;var n=GM_xmlhttpRequest(this.details);this.abort=function(){n.abort()}},this.setRequestHeader=function(t,e){this.headers[t]=e}}}function pn(){je("ADD_config.m3u8_type = ",ADD_config.m3u8_type),hn="legacy"===ADD_config.m3u8_type?XMLHttpRequest:fn,"undefined"!=typeof window&&(window.newHls=function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=20)}([function(t,e,n){var a;n.d(e,"a",(function(){return a})),function(t){t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached"}(a||(a={}))},function(t,e,n){n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l}));var a=function(){},o={trace:a,debug:a,log:a,warn:a,info:a,error:a},i=o;function r(t){var e=self.console[t];return e?e.bind(self.console,"["+t+"] >"):a}function s(t){if(self.console&&!0===t||"object"==typeof t){!function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];n.forEach((function(e){i[e]=t[e]?t[e].bind(t):r(e)}))}(t,"debug","log","info","warn","error");try{i.log()}catch(t){i=o}}else i=o}var l=o},function(t,e,n){var a,o;n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o})),function(t){t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError"}(a||(a={})),function(t){t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown"}(o||(o={}))},function(t,e,n){n.d(e,"a",(function(){return a}));var a=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)};Number.MAX_SAFE_INTEGER},function(t,e,n){var a,o;n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o})),function(t){t.MANIFEST="manifest",t.LEVEL="level",t.AUDIO_TRACK="audioTrack",t.SUBTITLE_TRACK="subtitleTrack"}(a||(a={})),function(t){t.MAIN="main",t.AUDIO="audio",t.SUBTITLE="subtitle"}(o||(o={}))},function(t,e,n){n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return p})),n.d(e,"k",(function(){return m})),n.d(e,"h",(function(){return g})),n.d(e,"e",(function(){return b})),n.d(e,"d",(function(){return v})),n.d(e,"f",(function(){return y})),n.d(e,"l",(function(){return k})),n.d(e,"b",(function(){return w})),n.d(e,"j",(function(){return x})),n.d(e,"i",(function(){return A})),n.d(e,"g",(function(){return T}));var a=n(9),o=n(6),i=n(7),r=Math.pow(2,32)-1,s=[].push,l={video:1,audio:2,id3:3,text:4};function c(t){return String.fromCharCode.apply(null,t)}function d(t,e){var n=t[e]<<8|t[e+1];return n<0?65536+n:n}function u(t,e){var n=h(t,e);return n<0?4294967296+n:n}function h(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function f(t,e,n){t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n}function p(t,e){var n=[];if(!e.length)return n;for(var a=t.byteLength,o=0;o<a;){var i=u(t,o),r=i>1?o+i:a;if(c(t.subarray(o+4,o+8))===e[0])if(1===e.length)n.push(t.subarray(o+8,r));else{var l=p(t.subarray(o+8,r),e.slice(1));l.length&&s.apply(n,l)}o=r}return n}function m(t){var e=[],n=t[0],a=8,o=u(t,a);a+=4,a+=0===n?8:16,a+=2;var i=t.length+0,r=d(t,a);a+=2;for(var s=0;s<r;s++){var l=a,c=u(t,l);l+=4;var h=2147483647&c;if(1==(2147483648&c)>>>31)return console.warn("SIDX has hierarchical references (not supported)"),null;var f=u(t,l);l+=4,e.push({referenceSize:h,subsegmentDuration:f,info:{duration:f/o,start:i,end:i+h-1}}),i+=h,a=l+=4}return{earliestPresentationTime:0,timescale:o,version:n,referencesCount:r,references:e}}function g(t){for(var e=[],n=p(t,["moov","trak"]),a=0;a<n.length;a++){var i=n[a],r=p(i,["tkhd"])[0];if(r){var s=r[0],l=0===s?12:20,d=u(r,l),h=p(i,["mdia","mdhd"])[0];if(h){var f=u(h,l=0===(s=h[0])?12:20),m=p(i,["mdia","hdlr"])[0];if(m){var g=c(m.subarray(8,12)),b={soun:o.a.AUDIO,vide:o.a.VIDEO}[g];if(b){var v=p(i,["mdia","minf","stbl","stsd"])[0],_=void 0;v&&(_=c(v.subarray(12,16))),e[d]={timescale:f,type:b},e[b]={timescale:f,id:d,codec:_}}}}}}return p(t,["moov","mvex","trex"]).forEach((function(t){var n=u(t,4),a=e[n];a&&(a.default={duration:u(t,12),flags:u(t,20)})})),e}function b(t,e){return p(e,["moof","traf"]).reduce((function(e,n){var a=p(n,["tfdt"])[0],o=a[0],i=p(n,["tfhd"]).reduce((function(e,n){var i=u(n,4),r=t[i];if(r){var s=u(a,4);1===o&&(s*=Math.pow(2,32),s+=u(a,8));var l=s/(r.timescale||9e4);if(isFinite(l)&&(null===e||l<e))return l}return e}),null);return null!==i&&isFinite(i)&&(null===e||i<e)?i:e}),null)||0}function v(t,e){for(var n=0,a=0,i=0,r=p(t,["moof","traf"]),s=0;s<r.length;s++){var l=r[s],c=p(l,["tfhd"])[0],d=e[u(c,4)];if(d){var h=d.default,f=u(c,0)|(null==h?void 0:h.flags),g=null==h?void 0:h.duration;8&f&&(g=u(c,2&f?12:8));for(var b=d.timescale||9e4,v=p(l,["trun"]),y=0;y<v.length;y++)!(n=_(v[y]))&&g&&(n=g*u(v[y],4)),d.type===o.a.VIDEO?a+=n/b:d.type===o.a.AUDIO&&(i+=n/b)}}if(0===a&&0===i){for(var k=0,w=p(t,["sidx"]),x=0;x<w.length;x++){var D=m(w[x]);null!=D&&D.references&&(k+=D.references.reduce((function(t,e){return t+e.info.duration||0}),0))}return k}return a||i}function _(t){var e=u(t,0),n=8;1&e&&(n+=4),4&e&&(n+=4);for(var a=0,o=u(t,4),i=0;i<o;i++)256&e&&(a+=u(t,n),n+=4),512&e&&(n+=4),1024&e&&(n+=4),2048&e&&(n+=4);return a}function y(t,e,n){p(e,["moof","traf"]).forEach((function(e){p(e,["tfhd"]).forEach((function(a){var o=u(a,4),i=t[o];if(i){var s=i.timescale||9e4;p(e,["tfdt"]).forEach((function(t){var e=t[0],a=u(t,4);if(0===e)a-=n*s,f(t,4,a=Math.max(a,0));else{a*=Math.pow(2,32),a+=u(t,8),a-=n*s,a=Math.max(a,0);var o=Math.floor(a/(r+1)),i=Math.floor(a%(r+1));f(t,4,o),f(t,8,i)}}))}}))}))}function k(t){var e={valid:null,remainder:null},n=p(t,["moof"]);if(!n)return e;if(n.length<2)return e.remainder=t,e;var o=n[n.length-1];return e.valid=Object(a.a)(t,0,o.byteOffset-8),e.remainder=Object(a.a)(t,o.byteOffset-8),e}function w(t,e){var n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function x(t,e){var n=[],a=e.samples,i=e.timescale,r=e.id,s=!1;return p(a,["moof"]).map((function(l){var c=l.byteOffset-8;p(l,["traf"]).map((function(l){var d=p(l,["tfdt"]).map((function(t){var e=t[0],n=u(t,4);return 1===e&&(n*=Math.pow(2,32),n+=u(t,8)),n/i}))[0];return void 0!==d&&(t=d),p(l,["tfhd"]).map((function(d){var f=u(d,4),m=16777215&u(d,0),g=0,b=0!=(16&m),v=0,_=0!=(32&m),y=8;f===r&&(0!=(1&m)&&(y+=8),0!=(2&m)&&(y+=4),0!=(8&m)&&(g=u(d,y),y+=4),b&&(v=u(d,y),y+=4),_&&(y+=4),"video"===e.type&&(s=function(t){if(!t)return!1;var e=t.indexOf("."),n=e<0?t:t.substring(0,e);return"hvc1"===n||"hev1"===n||"dvh1"===n||"dvhe"===n}(e.codec)),p(l,["trun"]).map((function(r){var l=r[0],d=16777215&u(r,0),f=0!=(1&d),p=0,m=0!=(4&d),b=0!=(256&d),_=0,y=0!=(512&d),k=0,w=0!=(1024&d),x=0!=(2048&d),T=0,E=u(r,4),C=8;f&&(p=u(r,C),C+=4),m&&(C+=4);for(var S=p+c,L=0;L<E;L++){if(b?(_=u(r,C),C+=4):_=g,y?(k=u(r,C),C+=4):k=v,w&&(C+=4),x&&(T=0===l?u(r,C):h(r,C),C+=4),e.type===o.a.VIDEO)for(var I=0;I<k;){var O=u(a,S),F=31&a[S+=4];D(s,F)&&A(a.subarray(S,S+O),t+T/i,n),S+=O,I+=O+4}t+=_/i}})))}))}))})),n}function D(t,e){return t?39===e||40===e:6===e}function A(t,e,n){var a=function(t){for(var e=t.byteLength,n=[],a=1;a<e-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(n.push(a+2),a+=2):a++;if(0===n.length)return t;var o=e-n.length,i=new Uint8Array(o),r=0;for(a=0;a<o;r++,a++)r===n[0]&&(r++,n.shift()),i[a]=t[r];return i}(t),o=0;o++;for(var r=0,s=0,l=!1,c=0;o<a.length;){r=0;do{if(o>=a.length)break;r+=c=a[o++]}while(255===c);s=0;do{if(o>=a.length)break;s+=c=a[o++]}while(255===c);var h=a.length-o;if(!l&&4===r&&o<a.length){if(l=!0,181===a[o++]){var f=d(a,o);if(o+=2,49===f){var p=u(a,o);if(o+=4,1195456820===p){var m=a[o++];if(3===m){var g=a[o++],b=64&g,v=b?2+3*(31&g):0,_=new Uint8Array(v);if(b){_[0]=g;for(var y=1;y<v;y++)_[y]=a[o++]}n.push({type:m,payloadType:r,pts:e,bytes:_})}}}}}else if(5===r&&s<h){if(l=!0,s>16){for(var k=[],w=0;w<16;w++){var x=a[o++].toString(16);k.push(1==x.length?"0"+x:x),3!==w&&5!==w&&7!==w&&9!==w||k.push("-")}for(var D=s-16,A=new Uint8Array(D),T=0;T<D;T++)A[T]=a[o++];n.push({payloadType:r,pts:e,uuid:k.join(""),userData:Object(i.f)(A),userDataBytes:A})}}else if(s<h)o+=s;else if(s>h)break}}function T(t){var e=t[0],n="",a="",o=0,i=0,r=0,s=0,l=0,d=0;if(0===e){for(;"\0"!==c(t.subarray(d,d+1));)n+=c(t.subarray(d,d+1)),d+=1;for(n+=c(t.subarray(d,d+1)),d+=1;"\0"!==c(t.subarray(d,d+1));)a+=c(t.subarray(d,d+1)),d+=1;a+=c(t.subarray(d,d+1)),d+=1,o=u(t,12),i=u(t,16),s=u(t,20),l=u(t,24),d=28}else if(1===e){o=u(t,d+=4);var h=u(t,d+=4),f=u(t,d+=4);for(d+=4,r=Math.pow(2,32)*h+f,Number.isSafeInteger(r)||(r=Number.MAX_SAFE_INTEGER,console.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),s=u(t,d),l=u(t,d+=4),d+=4;"\0"!==c(t.subarray(d,d+1));)n+=c(t.subarray(d,d+1)),d+=1;for(n+=c(t.subarray(d,d+1)),d+=1;"\0"!==c(t.subarray(d,d+1));)a+=c(t.subarray(d,d+1)),d+=1;a+=c(t.subarray(d,d+1)),d+=1}return{schemeIdUri:n,value:a,timeScale:o,presentationTime:r,presentationTimeDelta:i,eventDuration:s,id:l,payload:t.subarray(d,t.byteLength)}}},function(t,e,n){n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return m}));var a,o=n(3),i=n(12),r=n(1),s=n(17),l=n(14);function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,d(t,e)}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function h(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}!function(t){t.AUDIO="audio",t.VIDEO="video",t.AUDIOVIDEO="audiovideo"}(a||(a={}));var f=function(){function t(t){var e;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((e={})[a.AUDIO]=null,e[a.VIDEO]=null,e[a.AUDIOVIDEO]=null,e),this.baseurl=t}return t.prototype.setByteRange=function(t,e){var n=t.split("@",2),a=[];1===n.length?a[0]=e?e.byteRangeEndOffset:0:a[0]=parseInt(n[1]),a[1]=parseInt(n[0])+a[0],this._byteRange=a},h(t,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(i.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(t){this._url=t}}]),t}(),p=function(t){function e(e,n){var a;return(a=t.call(this,n)||this)._decryptdata=null,a.rawProgramDateTime=null,a.programDateTime=null,a.tagList=[],a.duration=0,a.sn=0,a.levelkey=void 0,a.type=void 0,a.loader=null,a.level=-1,a.cc=0,a.startPTS=void 0,a.endPTS=void 0,a.appendedPTS=void 0,a.startDTS=void 0,a.endDTS=void 0,a.start=0,a.deltaPTS=void 0,a.maxStartPTS=void 0,a.minEndPTS=void 0,a.stats=new l.a,a.urlId=0,a.data=void 0,a.bitrateTest=!1,a.title=null,a.initSegment=null,a.type=e,a}c(e,t);var n=e.prototype;return n.createInitializationVector=function(t){for(var e=new Uint8Array(16),n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e},n.setDecryptDataFromLevelKey=function(t,e){var n=t;return"AES-128"===(null==t?void 0:t.method)&&t.uri&&!t.iv&&((n=s.a.fromURI(t.uri)).method=t.method,n.iv=this.createInitializationVector(e),n.keyFormat="identity"),n},n.setElementaryStreamInfo=function(t,e,n,a,o,i){void 0===i&&(i=!1);var r=this.elementaryStreams,s=r[t];s?(s.startPTS=Math.min(s.startPTS,e),s.endPTS=Math.max(s.endPTS,n),s.startDTS=Math.min(s.startDTS,a),s.endDTS=Math.max(s.endDTS,o)):r[t]={startPTS:e,endPTS:n,startDTS:a,endDTS:o,partial:i}},n.clearElementaryStreamInfo=function(){var t=this.elementaryStreams;t[a.AUDIO]=null,t[a.VIDEO]=null,t[a.AUDIOVIDEO]=null},h(e,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var t=this.sn;"number"!=typeof t&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&r.b.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),t=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,t)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(o.a)(this.programDateTime))return null;var t=Object(o.a)(this.duration)?this.duration:0;return this.programDateTime+1e3*t}},{key:"encrypted",get:function(){var t;return!(null===(t=this.decryptdata)||void 0===t||!t.keyFormat||!this.decryptdata.uri)}}]),e}(f),m=function(t){function e(e,n,a,o,i){var r;(r=t.call(this,a)||this).fragOffset=0,r.duration=0,r.gap=!1,r.independent=!1,r.relurl=void 0,r.fragment=void 0,r.index=void 0,r.stats=new l.a,r.duration=e.decimalFloatingPoint("DURATION"),r.gap=e.bool("GAP"),r.independent=e.bool("INDEPENDENT"),r.relurl=e.enumeratedString("URI"),r.fragment=n,r.index=o;var s=e.enumeratedString("BYTERANGE");return s&&r.setByteRange(s,i),i&&(r.fragOffset=i.fragOffset+i.duration),r}return c(e,t),h(e,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var t=this.elementaryStreams;return!!(t.audio||t.video||t.audiovideo)}}]),e}(f)},function(t,e,n){n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return d})),n.d(e,"c",(function(){return h})),n.d(e,"f",(function(){return v}));var a,o=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},i=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},r=function(t,e){for(var n=e,a=0;o(t,e);)a+=10,a+=s(t,e+6),i(t,e+10)&&(a+=10),e+=a;if(a>0)return t.subarray(n,n+a)},s=function(t,e){var n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,(n|=(127&t[e+2])<<7)|127&t[e+3]},l=function(t,e){return o(t,e)&&s(t,e+6)+10<=t.length-e},c=function(t){for(var e=h(t),n=0;n<e.length;n++){var a=e[n];if(d(a))return b(a)}},d=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},u=function(t){var e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=s(t,4);return{type:e,size:n,data:t.subarray(10,10+n)}},h=function(t){for(var e=0,n=[];o(t,e);){for(var a=s(t,e+6),r=(e+=10)+a;e+8<r;){var l=u(t.subarray(e)),c=f(l);c&&n.push(c),e+=l.size+10}i(t,e)&&(e+=10)}return n},f=function(t){return"PRIV"===t.type?p(t):"W"===t.type[0]?g(t):m(t)},p=function(t){if(!(t.size<2)){var e=v(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}}},m=function(t){if(!(t.size<2)){if("TXXX"===t.type){var e=1,n=v(t.data.subarray(e),!0);e+=n.length+1;var a=v(t.data.subarray(e));return{key:t.type,info:n,data:a}}var o=v(t.data.subarray(1));return{key:t.type,data:o}}},g=function(t){if("WXXX"===t.type){if(t.size<2)return;var e=1,n=v(t.data.subarray(e),!0);e+=n.length+1;var a=v(t.data.subarray(e));return{key:t.type,info:n,data:a}}var o=v(t.data);return{key:t.type,data:o}},b=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),n=1&e[3],a=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return a/=45,n&&(a+=47721858.84),Math.round(a)}},v=function(t,e){void 0===e&&(e=!1);var n=_();if(n){var a=n.decode(t);if(e){var o=a.indexOf("\0");return-1!==o?a.substring(0,o):a}return a.replace(/\0/g,"")}for(var i,r,s,l=t.length,c="",d=0;d<l;){if(0===(i=t[d++])&&e)return c;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c+=String.fromCharCode(i);break;case 12:case 13:r=t[d++],c+=String.fromCharCode((31&i)<<6|63&r);break;case 14:r=t[d++],s=t[d++],c+=String.fromCharCode((15&i)<<12|(63&r)<<6|(63&s)<<0)}}return c};function _(){return a||void 0===self.TextDecoder||(a=new self.TextDecoder("utf-8")),a}},function(t,e,n){var a;n.d(e,"a",(function(){return a})),function(t){t.audioId3="org.id3",t.dateRange="com.apple.quicktime.HLS",t.emsg="https://aomedia.org/emsg/ID3"}(a||(a={}))},function(t,e,n){function a(t,e,n){return Uint8Array.prototype.slice?t.slice(e,n):new Uint8Array(Array.prototype.slice.call(t,e,n))}n.d(e,"a",(function(){return a}))},function(t,e,n){n.d(e,"c",(function(){return nt})),n.d(e,"d",(function(){return ot})),n.d(e,"a",(function(){return it})),n.d(e,"b",(function(){return rt}));var a=n(0),o=n(2),i=n(16),r=n(3),s=n(7),l=n(8);function c(t,e){return void 0===t&&(t=""),void 0===e&&(e=9e4),{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}var d=n(5),u=n(9),h=function(){function t(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null}var e=t.prototype;return e.resetInitSegment=function(t,e,n,a){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},e.resetTimeStamp=function(t){this.initPTS=t,this.resetContiguity()},e.resetContiguity=function(){this.basePTS=null,this.frameIndex=0},e.canParse=function(t,e){return!1},e.appendFrame=function(t,e,n){},e.demux=function(t,e){this.cachedData&&(t=Object(d.b)(this.cachedData,t),this.cachedData=null);var n,a,o=s.b(t,0),i=o?o.length:0,h=this._audioTrack,p=this._id3Track,m=o?s.d(o):void 0,g=t.length;for((null===this.basePTS||0===this.frameIndex&&Object(r.a)(m))&&(this.basePTS=f(m,e,this.initPTS)),o&&o.length>0&&p.samples.push({pts:this.basePTS,dts:this.basePTS,data:o,type:l.a.audioId3}),a=this.basePTS;i<g;){if(this.canParse(t,i)){var b=this.appendFrame(h,t,i);b?(this.frameIndex++,a=b.sample.pts,n=i+=b.length):i=g}else s.a(t,i)?(o=s.b(t,i),p.samples.push({pts:a,dts:a,data:o,type:l.a.audioId3}),n=i+=o.length):i++;if(i===g&&n!==g){var v=Object(u.a)(t,n);this.cachedData?this.cachedData=Object(d.b)(this.cachedData,v):this.cachedData=v}}return{audioTrack:h,videoTrack:c(),id3Track:p,textTrack:c()}},e.demuxSampleAes=function(t,e,n){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},e.flush=function(t){var e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:c(),id3Track:this._id3Track,textTrack:c()}},e.destroy=function(){},t}(),f=function(t,e,n){return Object(r.a)(t)?90*t:9e4*e+(n||0)},p=h,m=n(1);function g(t,e){return 255===t[e]&&240==(246&t[e+1])}function b(t,e){return 1&t[e+1]?7:9}function v(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function _(t,e){return e+1<t.length&&g(t,e)}function y(t,e){if(_(t,e)){var n=b(t,e);if(e+n>=t.length)return!1;var a=v(t,e);if(a<=n)return!1;var o=e+a;return o===t.length||_(t,o)}return!1}function k(t,e,n,i,r){if(!t.samplerate){var s=function(t,e,n,i){var r,s,l,c,d=navigator.userAgent.toLowerCase(),u=i,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];r=1+((192&e[n+2])>>>6);var f=(60&e[n+2])>>>2;if(!(f>h.length-1))return l=(1&e[n+2])<<2,l|=(192&e[n+3])>>>6,m.b.log("manifest codec:"+i+", ADTS type:"+r+", samplingIndex:"+f),/firefox/i.test(d)?f>=6?(r=5,c=new Array(4),s=f-3):(r=2,c=new Array(2),s=f):-1!==d.indexOf("android")?(r=2,c=new Array(2),s=f):(r=5,c=new Array(4),i&&(-1!==i.indexOf("mp4a.40.29")||-1!==i.indexOf("mp4a.40.5"))||!i&&f>=6?s=f-3:((i&&-1!==i.indexOf("mp4a.40.2")&&(f>=6&&1===l||/vivaldi/i.test(d))||!i&&1===l)&&(r=2,c=new Array(2)),s=f)),c[0]=r<<3,c[0]|=(14&f)>>1,c[1]|=(1&f)<<7,c[1]|=l<<3,5===r&&(c[1]|=(14&s)>>1,c[2]=(1&s)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:h[f],channelCount:l,codec:"mp4a.40."+r,manifestCodec:u};t.trigger(a.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+f})}(e,n,i,r);if(!s)return;t.config=s.config,t.samplerate=s.samplerate,t.channelCount=s.channelCount,t.codec=s.codec,t.manifestCodec=s.manifestCodec,m.b.log("parsed codec:"+t.codec+", rate:"+s.samplerate+", channels:"+s.channelCount)}}function w(t){return 9216e4/t}function x(t,e,n,a,o){var i,r=a+o*w(t.samplerate),s=function(t,e){var n=b(t,e);if(e+n<=t.length){var a=v(t,e)-n;if(a>0)return{headerLength:n,frameLength:a}}}(e,n);if(s){var l=s.frameLength,c=s.headerLength,d=c+l,u=Math.max(0,n+d-e.length);u?(i=new Uint8Array(d-c)).set(e.subarray(n+c,e.length),0):i=e.subarray(n+c,n+d);var h={unit:i,pts:r};return u||t.samples.push(h),{sample:h,length:d,missing:u}}var f=e.length-n;return(i=new Uint8Array(f)).set(e.subarray(n,e.length),0),{sample:{unit:i,pts:r},length:f,missing:-1}}function D(t,e){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var A=function(t){var e,n;function a(e,n){var a;return(a=t.call(this)||this).observer=void 0,a.config=void 0,a.observer=e,a.config=n,a}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,D(e,n);var o=a.prototype;return o.resetInitSegment=function(e,n,a,o){t.prototype.resetInitSegment.call(this,e,n,a,o),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:n,duration:o,inputTimeScale:9e4,dropped:0}},a.probe=function(t){if(!t)return!1;for(var e=(s.b(t,0)||[]).length,n=t.length;e<n;e++)if(y(t,e))return m.b.log("ADTS sync word found !"),!0;return!1},o.canParse=function(t,e){return function(t,e){return function(t,e){return e+5<t.length}(t,e)&&g(t,e)&&v(t,e)<=t.length-e}(t,e)},o.appendFrame=function(t,e,n){k(t,this.observer,e,n,t.manifestCodec);var a=x(t,e,n,this.basePTS,this.frameIndex);if(a&&0===a.missing)return a},a}(p),T=/\/emsg[-/]ID3/i,E=function(){function t(t,e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=e}var e=t.prototype;return e.resetTimeStamp=function(){},e.resetInitSegment=function(t,e,n,a){var o=Object(d.h)(t),i=this.videoTrack=c("video",1),r=this.audioTrack=c("audio",1),s=this.txtTrack=c("text",1);if(this.id3Track=c("id3",1),this.timeOffset=0,o.video){var l=o.video,u=l.id,h=l.timescale,f=l.codec;i.id=u,i.timescale=s.timescale=h,i.codec=f}if(o.audio){var p=o.audio,m=p.id,g=p.timescale,b=p.codec;r.id=m,r.timescale=g,r.codec=b}s.id=d.a.text,i.sampleDuration=0,i.duration=r.duration=a},e.resetContiguity=function(){},t.probe=function(t){return t=t.length>16384?t.subarray(0,16384):t,Object(d.c)(t,["moof"]).length>0},e.demux=function(t,e){this.timeOffset=e;var n=t,a=this.videoTrack,o=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=Object(d.b)(this.remainderData,t));var i=Object(d.l)(n);this.remainderData=i.remainder,a.samples=i.valid||new Uint8Array}else a.samples=n;var r=this.extractID3Track(a,e);return o.samples=Object(d.j)(e,a),{videoTrack:a,audioTrack:this.audioTrack,id3Track:r,textTrack:this.txtTrack}},e.flush=function(){var t=this.timeOffset,e=this.videoTrack,n=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;var a=this.extractID3Track(e,this.timeOffset);return n.samples=Object(d.j)(t,e),{videoTrack:e,audioTrack:c(),id3Track:a,textTrack:c()}},e.extractID3Track=function(t,e){var n=this.id3Track;if(t.samples.length){var a=Object(d.c)(t.samples,["emsg"]);a&&a.forEach((function(t){var a=Object(d.g)(t);if(T.test(a.schemeIdUri)){var o=Object(r.a)(a.presentationTime)?a.presentationTime/a.timeScale:e+a.presentationTimeDelta/a.timeScale,i=a.payload;n.samples.push({data:i,len:i.byteLength,dts:o,pts:o,type:l.a.emsg})}}))}return n},e.demuxSampleAes=function(t,e,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},e.destroy=function(){},t}(),C=null,S=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],L=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],I=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],O=[0,1,1,4];function F(t,e,n,a,o){if(!(n+24>e.length)){var i=R(e,n);if(i&&n+i.frameLength<=e.length){var r=a+o*(9e4*i.samplesPerFrame/i.sampleRate),s={unit:e.subarray(n,n+i.frameLength),pts:r,dts:r};return t.config=[],t.channelCount=i.channelCount,t.samplerate=i.sampleRate,t.samples.push(s),{sample:s,length:i.frameLength,missing:0}}}}function R(t,e){var n=t[e+1]>>3&3,a=t[e+1]>>1&3,o=t[e+2]>>4&15,i=t[e+2]>>2&3;if(1!==n&&0!==o&&15!==o&&3!==i){var r=t[e+2]>>1&1,s=t[e+3]>>6,l=1e3*S[14*(3===n?3-a:3===a?3:4)+o-1],c=L[3*(3===n?0:2===n?1:2)+i],d=3===s?1:2,u=I[n][a],h=O[a],f=8*u*h,p=Math.floor(u*l/c+r)*h;if(null===C){var m=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);C=m?parseInt(m[1]):0}return!!C&&C<=87&&2===a&&l>=224e3&&0===s&&(t[e+3]=128|t[e+3]),{sampleRate:c,channelCount:d,frameLength:p,samplesPerFrame:f}}}function M(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])}function N(t,e){return e+1<t.length&&M(t,e)}function B(t,e){if(e+1<t.length&&M(t,e)){var n=R(t,e),a=4;null!=n&&n.frameLength&&(a=n.frameLength);var o=e+a;return o===t.length||N(t,o)}return!1}var $=function(){function t(t){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}var e=t.prototype;return e.loadWord=function(){var t=this.data,e=this.bytesAvailable,n=t.byteLength-e,a=new Uint8Array(4),o=Math.min(4,e);if(0===o)throw new Error("no bytes available");a.set(t.subarray(n,n+o)),this.word=new DataView(a.buffer).getUint32(0),this.bitsAvailable=8*o,this.bytesAvailable-=o},e.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},e.readBits=function(t){var e=Math.min(this.bitsAvailable,t),n=this.word>>>32-e;return t>32&&m.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?n<<e|this.readBits(e):n},e.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},e.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.skipEG=function(){this.skipBits(1+this.skipLZ())},e.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},e.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},e.readBoolean=function(){return 1===this.readBits(1)},e.readUByte=function(){return this.readBits(8)},e.readUShort=function(){return this.readBits(16)},e.readUInt=function(){return this.readBits(32)},e.skipScalingList=function(t){for(var e=8,n=8,a=0;a<t;a++)0!==n&&(n=(e+this.readEG()+256)%256),e=0===n?e:n},e.readSPS=function(){var t,e,n,a=0,o=0,i=0,r=0,s=this.readUByte.bind(this),l=this.readBits.bind(this),c=this.readUEG.bind(this),d=this.readBoolean.bind(this),u=this.skipBits.bind(this),h=this.skipEG.bind(this),f=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);s();var m=s();if(l(5),u(3),s(),f(),100===m||110===m||122===m||244===m||44===m||83===m||86===m||118===m||128===m){var g=c();if(3===g&&u(1),f(),f(),u(1),d())for(e=3!==g?8:12,n=0;n<e;n++)d()&&p(n<6?16:64)}f();var b=c();if(0===b)c();else if(1===b)for(u(1),h(),h(),t=c(),n=0;n<t;n++)h();f(),u(1);var v=c(),_=c(),y=l(1);0===y&&u(1),u(1),d()&&(a=c(),o=c(),i=c(),r=c());var k=[1,1];if(d()&&d())switch(s()){case 1:k=[1,1];break;case 2:k=[12,11];break;case 3:k=[10,11];break;case 4:k=[16,11];break;case 5:k=[40,33];break;case 6:k=[24,11];break;case 7:k=[20,11];break;case 8:k=[32,11];break;case 9:k=[80,33];break;case 10:k=[18,11];break;case 11:k=[15,11];break;case 12:k=[64,33];break;case 13:k=[160,99];break;case 14:k=[4,3];break;case 15:k=[3,2];break;case 16:k=[2,1];break;case 255:k=[s()<<8|s(),s()<<8|s()]}return{width:Math.ceil(16*(v+1)-2*a-2*o),height:(2-y)*(_+1)*16-(y?2:4)*(i+r),pixelRatio:k}},e.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}(),P=function(){function t(t,e,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new i.a(t,e,{removePKCS7Padding:!1})}var e=t.prototype;return e.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.keyData.key.buffer,this.keyData.iv.buffer,e)},e.decryptAacSample=function(t,e,n,a){var o=t[e].unit;if(!(o.length<=16)){var i=o.subarray(16,o.length-o.length%16),r=i.buffer.slice(i.byteOffset,i.byteOffset+i.length),s=this;this.decryptBuffer(r,(function(i){var r=new Uint8Array(i);o.set(r,16),a||s.decryptAacSamples(t,e+1,n)}))}},e.decryptAacSamples=function(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)){var a=this.decrypter.isSync();if(this.decryptAacSample(t,e,n,a),!a)return}}},e.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e),a=0,o=32;o<t.length-16;o+=160,a+=16)n.set(t.subarray(o,o+16),a);return n},e.getAvcDecryptedUnit=function(t,e){for(var n=new Uint8Array(e),a=0,o=32;o<t.length-16;o+=160,a+=16)t.set(n.subarray(a,a+16),o);return t},e.decryptAvcSample=function(t,e,n,a,o,i){var r=W(o.data),s=this.getAvcEncryptedData(r),l=this;this.decryptBuffer(s.buffer,(function(s){o.data=l.getAvcDecryptedUnit(r,s),i||l.decryptAvcSamples(t,e,n+1,a)}))},e.decryptAvcSamples=function(t,e,n,a){if(t instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,n=0){if(e>=t.length)return void a();for(var o=t[e].units;!(n>=o.length);n++){var i=o[n];if(!(i.data.length<=48||1!==i.type&&5!==i.type)){var r=this.decrypter.isSync();if(this.decryptAvcSample(t,e,n,a,i,r),!r)return}}}},t}();function j(){return(j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function z(t,e,n,a){return{key:t,frame:!1,pts:e,dts:n,units:[],debug:a,length:0}}function G(t,e){return(31&t[e+10])<<8|t[e+11]}function U(t,e,n,a){var o={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},i=e+3+((15&t[e+1])<<8|t[e+2])-4;for(e+=12+((15&t[e+10])<<8|t[e+11]);e<i;){var r=(31&t[e+1])<<8|t[e+2];switch(t[e]){case 207:if(!a){m.b.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===o.audio&&(o.audio=r);break;case 21:-1===o.id3&&(o.id3=r);break;case 219:if(!a){m.b.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===o.avc&&(o.avc=r);break;case 3:case 4:!0!==n.mpeg&&!0!==n.mp3?m.b.log("MPEG audio found, not supported in this browser"):-1===o.audio&&(o.audio=r,o.segmentCodec="mp3");break;case 36:m.b.warn("Unsupported HEVC stream type found")}e+=5+((15&t[e+3])<<8|t[e+4])}return o}function H(t){var e,n,a,o,i,r=0,s=t.data;if(!t||0===t.size)return null;for(;s[0].length<19&&s.length>1;){var l=new Uint8Array(s[0].length+s[1].length);l.set(s[0]),l.set(s[1],s[0].length),s[0]=l,s.splice(1,1)}if(1===((e=s[0])[0]<<16)+(e[1]<<8)+e[2]){if((n=(e[4]<<8)+e[5])&&n>t.size-6)return null;var c=e[7];192&c&&(o=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&c?o-(i=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>54e5&&(m.b.warn(Math.round((o-i)/9e4)+"s delta between PTS and DTS, align them"),o=i):i=o);var d=(a=e[8])+9;if(t.size<=d)return null;t.size-=d;for(var u=new Uint8Array(t.size),h=0,f=s.length;h<f;h++){var p=(e=s[h]).byteLength;if(d){if(d>p){d-=p;continue}e=e.subarray(d),p-=d,d=0}u.set(e,r),r+=p}return n&&(n-=a+3),{data:u,pts:o,dts:i,len:n}}return null}function q(t,e){if(t.units.length&&t.frame){if(void 0===t.pts){var n=e.samples,a=n.length;if(!a)return void e.dropped++;var o=n[a-1];t.pts=o.pts,t.dts=o.dts}e.samples.push(t)}t.debug.length&&m.b.log(t.pts+"/"+t.dts+":"+t.debug)}function W(t){for(var e=t.byteLength,n=[],a=1;a<e-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(n.push(a+2),a+=2):a++;if(0===n.length)return t;var o=e-n.length,i=new Uint8Array(o),r=0;for(a=0;a<o;r++,a++)r===n[0]&&(r++,n.shift()),i[a]=t[r];return i}var V=function(){function t(t,e,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=t,this.config=e,this.typeSupported=n}t.probe=function(t){return 71===t[0]&&71===t[188]},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:d.a[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===t?e:void 0}};var e=t.prototype;return e.resetInitSegment=function(e,n,a,o){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video"),this._audioTrack=t.createTrack("audio",o),this._id3Track=t.createTrack("id3"),this._txtTrack=t.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=a,this._duration=o},e.resetTimeStamp=function(){},e.resetContiguity=function(){var t=this._audioTrack,e=this._avcTrack,n=this._id3Track;t&&(t.pesData=null),e&&(e.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null},e.demux=function(t,e,n,i){var r;void 0===n&&(n=!1),void 0===i&&(i=!1),n||(this.sampleAes=null);var s=this._avcTrack,l=this._audioTrack,c=this._id3Track,u=this._txtTrack,h=s.pid,f=s.pesData,p=l.pid,g=c.pid,b=l.pesData,v=c.pesData,_=null,y=this.pmtParsed,k=this._pmtId,w=t.length;if(this.remainderData&&(w=(t=Object(d.b)(this.remainderData,t)).length,this.remainderData=null),w<188&&!i)return this.remainderData=t,{audioTrack:l,videoTrack:s,id3Track:c,textTrack:u};(w-=w%188)<t.byteLength&&!i&&(this.remainderData=new Uint8Array(t.buffer,w,t.buffer.byteLength-w));for(var x=0,D=0;D<w;D+=188)if(71===t[D]){var A=!!(64&t[D+1]),T=((31&t[D+1])<<8)+t[D+2],E=void 0;if((48&t[D+3])>>4>1){if((E=D+5+t[D+4])===D+188)continue}else E=D+4;switch(T){case h:A&&(f&&(r=H(f))&&this.parseAVCPES(s,u,r,!1),f={data:[],size:0}),f&&(f.data.push(t.subarray(E,D+188)),f.size+=D+188-E);break;case p:if(A){if(b&&(r=H(b)))switch(l.segmentCodec){case"aac":this.parseAACPES(l,r);break;case"mp3":this.parseMPEGPES(l,r)}b={data:[],size:0}}b&&(b.data.push(t.subarray(E,D+188)),b.size+=D+188-E);break;case g:A&&(v&&(r=H(v))&&this.parseID3PES(c,r),v={data:[],size:0}),v&&(v.data.push(t.subarray(E,D+188)),v.size+=D+188-E);break;case 0:A&&(E+=t[E]+1),k=this._pmtId=G(t,E);break;case k:A&&(E+=t[E]+1);var C=U(t,E,this.typeSupported,n);(h=C.avc)>0&&(s.pid=h),(p=C.audio)>0&&(l.pid=p,l.segmentCodec=C.segmentCodec),(g=C.id3)>0&&(c.pid=g),null===_||y||(m.b.log("unknown PID '"+_+"' in TS found"),_=null),y=this.pmtParsed=!0;break;case 17:case 8191:break;default:_=T}}else x++;x>0&&this.observer.emit(a.a.ERROR,a.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+x+" TS packet/s that do not start with 0x47"}),s.pesData=f,l.pesData=b,c.pesData=v;var S={audioTrack:l,videoTrack:s,id3Track:c,textTrack:u};return i&&this.extractRemainingSamples(S),S},e.flush=function(){var t,e=this.remainderData;return this.remainderData=null,t=e?this.demux(e,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t},e.extractRemainingSamples=function(t){var e,n=t.audioTrack,a=t.videoTrack,o=t.id3Track,i=t.textTrack,r=a.pesData,s=n.pesData,l=o.pesData;if(r&&(e=H(r))?(this.parseAVCPES(a,i,e,!0),a.pesData=null):a.pesData=r,s&&(e=H(s))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,e);break;case"mp3":this.parseMPEGPES(n,e)}n.pesData=null}else null!=s&&s.size&&m.b.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=s;l&&(e=H(l))?(this.parseID3PES(o,e),o.pesData=null):o.pesData=l},e.demuxSampleAes=function(t,e,n){var a=this.demux(t,n,!0,!this.config.progressive),o=this.sampleAes=new P(this.observer,this.config,e);return this.decrypt(a,o)},e.decrypt=function(t,e){return new Promise((function(n){var a=t.audioTrack,o=t.videoTrack;a.samples&&"aac"===a.segmentCodec?e.decryptAacSamples(a.samples,0,(function(){o.samples?e.decryptAvcSamples(o.samples,0,0,(function(){n(t)})):n(t)})):o.samples&&e.decryptAvcSamples(o.samples,0,0,(function(){n(t)}))}))},e.destroy=function(){this._duration=0},e.parseAVCPES=function(t,e,n,a){var o,i=this,r=this.parseAVCNALu(t,n.data),s=this.avcSample,l=!1;n.data=null,s&&r.length&&!t.audFound&&(q(s,t),s=this.avcSample=z(!1,n.pts,n.dts,"")),r.forEach((function(a){switch(a.type){case 1:o=!0,s||(s=i.avcSample=z(!0,n.pts,n.dts,"")),s.frame=!0;var r=a.data;if(l&&r.length>4){var c=new $(r).readSliceType();2!==c&&4!==c&&7!==c&&9!==c||(s.key=!0)}break;case 5:o=!0,s||(s=i.avcSample=z(!0,n.pts,n.dts,"")),s.key=!0,s.frame=!0;break;case 6:o=!0,Object(d.i)(W(a.data),n.pts,e.samples);break;case 7:if(o=!0,l=!0,!t.sps){var u=new $(a.data).readSPS();t.width=u.width,t.height=u.height,t.pixelRatio=u.pixelRatio,t.sps=[a.data],t.duration=i._duration;for(var h=a.data.subarray(1,4),f="avc1.",p=0;p<3;p++){var m=h[p].toString(16);m.length<2&&(m="0"+m),f+=m}t.codec=f}break;case 8:o=!0,t.pps||(t.pps=[a.data]);break;case 9:o=!1,t.audFound=!0,s&&q(s,t),s=i.avcSample=z(!1,n.pts,n.dts,"");break;case 12:o=!0;break;default:o=!1,s&&(s.debug+="unknown NAL "+a.type+" ")}s&&o&&s.units.push(a)})),a&&s&&(q(s,t),this.avcSample=null)},e.getLastNalUnit=function(t){var e,n,a=this.avcSample;if(a&&0!==a.units.length||(a=t[t.length-1]),null!==(e=a)&&void 0!==e&&e.units){var o=a.units;n=o[o.length-1]}return n},e.parseAVCNALu=function(t,e){var n,a,o=e.byteLength,i=t.naluState||0,r=i,s=[],l=0,c=-1,d=0;for(-1===i&&(c=0,d=31&e[0],i=0,l=1);l<o;)if(n=e[l++],i)if(1!==i)if(n)if(1===n){if(c>=0){var u={data:e.subarray(c,l-i-1),type:d};s.push(u)}else{var h=this.getLastNalUnit(t.samples);if(h&&(r&&l<=4-r&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-r)),(a=l-i-1)>0)){var f=new Uint8Array(h.data.byteLength+a);f.set(h.data,0),f.set(e.subarray(0,a),h.data.byteLength),h.data=f,h.state=0}}l<o?(c=l,d=31&e[l],i=0):i=-1}else i=0;else i=3;else i=n?0:2;else i=n?0:1;if(c>=0&&i>=0){var p={data:e.subarray(c,o),type:d,state:i};s.push(p)}if(0===s.length){var m=this.getLastNalUnit(t.samples);if(m){var g=new Uint8Array(m.data.byteLength+e.byteLength);g.set(m.data,0),g.set(e,m.data.byteLength),m.data=g}}return t.naluState=i,s},e.parseAACPES=function(t,e){var n,i,r,s,l,c=0,d=this.aacOverFlow,u=e.data;if(d){this.aacOverFlow=null;var h=d.missing,f=d.sample.unit.byteLength;if(-1===h){var p=new Uint8Array(f+u.byteLength);p.set(d.sample.unit,0),p.set(u,f),u=p}else{var g=f-h;d.sample.unit.set(u.subarray(0,h),g),t.samples.push(d.sample),c=d.missing}}for(n=c,i=u.length;n<i-1&&!_(u,n);n++);if(n===c||(n<i-1?(r="AAC PES did not start with ADTS header,offset:"+n,s=!1):(r="no ADTS header found in AAC PES",s=!0),m.b.warn("parsing error:"+r),this.observer.emit(a.a.ERROR,a.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.FRAG_PARSING_ERROR,fatal:s,reason:r}),!s)){if(k(t,this.observer,u,n,this.audioCodec),void 0!==e.pts)l=e.pts;else{if(!d)return void m.b.warn("[tsdemuxer]: AAC PES unknown PTS");var b=w(t.samplerate);l=d.sample.pts+b}for(var v,y=0;n<i;){if(n+=(v=x(t,u,n,l,y)).length,v.missing){this.aacOverFlow=v;break}for(y++;n<i-1&&!_(u,n);n++);}}},e.parseMPEGPES=function(t,e){var n=e.data,a=n.length,o=0,i=0,r=e.pts;if(void 0!==r)for(;i<a;)if(N(n,i)){var s=F(t,n,i,r,o);if(!s)break;i+=s.length,o++}else i++;else m.b.warn("[tsdemuxer]: MPEG PES unknown PTS")},e.parseID3PES=function(t,e){if(void 0!==e.pts){var n=j({},e,{type:this._avcTrack?l.a.emsg:l.a.audioId3});t.samples.push(n)}else m.b.warn("[tsdemuxer]: ID3 PES unknown PTS")},t}();function K(t,e){return(K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Y=function(t){var e,n;function a(){return t.apply(this,arguments)||this}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,K(e,n);var o=a.prototype;return o.resetInitSegment=function(e,n,a,o){t.prototype.resetInitSegment.call(this,e,n,a,o),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:n,duration:o,inputTimeScale:9e4,dropped:0}},a.probe=function(t){if(!t)return!1;for(var e=(s.b(t,0)||[]).length,n=t.length;e<n;e++)if(B(t,e))return m.b.log("MPEG Audio sync word found !"),!0;return!1},o.canParse=function(t,e){return function(t,e){return M(t,e)&&4<=t.length-e}(t,e)},o.appendFrame=function(t,e,n){if(null!==this.basePTS)return F(t,e,n,this.basePTS,this.frameIndex)},a}(p),X=n(13),Z=n(6);function J(t,e){var n=null==t?void 0:t.codec;return n&&n.length>4?n:"hvc1"===n||"hev1"===n?"hvc1.1.c.L120.90":"av01"===n?"av01.0.04M.08":"avc1"===n||e===Z.a.VIDEO?"avc1.42e01e":"mp4a.40.5"}var Q,tt=function(){function t(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndTime=null}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(t){this.initPTS=t,this.lastEndTime=null},e.resetNextTimestamp=function(){this.lastEndTime=null},e.resetInitSegment=function(t,e,n){this.audioCodec=e,this.videoCodec=n,this.generateInitSegment(t),this.emitInitSegment=!0},e.generateInitSegment=function(t){var e=this.audioCodec,n=this.videoCodec;if(!t||!t.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var a=this.initData=Object(d.h)(t);e||(e=J(a.audio,Z.a.AUDIO)),n||(n=J(a.video,Z.a.VIDEO));var o={};a.audio&&a.video?o.audiovideo={container:"video/mp4",codec:e+","+n,initSegment:t,id:"main"}:a.audio?o.audio={container:"audio/mp4",codec:e,initSegment:t,id:"audio"}:a.video?o.video={container:"video/mp4",codec:n,initSegment:t,id:"main"}:m.b.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=o},e.remux=function(t,e,n,a,o){var i,s=this.initPTS,l=this.lastEndTime,c={audio:void 0,video:void 0,text:a,id3:n,initSegment:void 0};Object(r.a)(l)||(l=this.lastEndTime=o||0);var u=e.samples;if(!u||!u.length)return c;var h={initPTS:void 0,timescale:1},f=this.initData;if(f&&f.length||(this.generateInitSegment(u),f=this.initData),!f||!f.length)return m.b.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),c;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1);var p=Object(d.e)(f,u);Object(r.a)(s)||(this.initPTS=h.initPTS=s=p-o);var g=Object(d.d)(u,f),b=t?p-s:l,v=b+g;Object(d.f)(f,u,s),g>0?this.lastEndTime=v:(m.b.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var _=!!f.audio,y=!!f.video,k="";_&&(k+="audio"),y&&(k+="video");var w={data1:u,startPTS:b,startDTS:b,endPTS:v,endDTS:v,type:k,hasAudio:_,hasVideo:y,nb:1,dropped:0};c.audio="audio"===w.type?w:void 0,c.video="audio"!==w.type?w:void 0,c.initSegment=h;var x=null!=(i=this.initPTS)?i:0;return c.id3=Object(X.b)(n,o,x,x),a.samples.length&&(c.text=Object(X.c)(a,o,x)),c},t}();try{Q=self.performance.now.bind(self.performance)}catch(t){m.b.debug("Unable to use Performance API on this environment"),Q=self.Date.now}var et=[{demux:V,remux:X.a},{demux:E,remux:tt},{demux:A,remux:X.a},{demux:Y,remux:X.a}],nt=function(){function t(t,e,n,a,o){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=t,this.typeSupported=e,this.config=n,this.vendor=a,this.id=o}var e=t.prototype;return e.configure=function(t){this.transmuxConfig=t,this.decrypter&&this.decrypter.reset()},e.push=function(t,e,n,a){var o=this,i=n.transmuxing;i.executeStart=Q();var r=new Uint8Array(t),s=this.config,l=this.currentTransmuxState,c=this.transmuxConfig;a&&(this.currentTransmuxState=a);var d=a||l,u=d.contiguous,h=d.discontinuity,f=d.trackSwitch,p=d.accurateTimeOffset,m=d.timeOffset,g=d.initSegmentChange,b=c.audioCodec,v=c.videoCodec,_=c.defaultInitPts,y=c.duration,k=c.initSegmentData;(h||f||g)&&this.resetInitSegment(k,b,v,y),(h||g)&&this.resetInitialTimestamp(_),u||this.resetContiguity();var w=function(t,e){var n=null;return t.byteLength>0&&null!=e&&null!=e.key&&null!==e.iv&&null!=e.method&&(n=e),n}(r,e);if(w&&"AES-128"===w.method){var x=this.getDecrypter();if(!s.enableSoftwareAES)return this.decryptionPromise=x.webCryptoDecrypt(r,w.key.buffer,w.iv.buffer).then((function(t){var e=o.push(t,null,n);return o.decryptionPromise=null,e})),this.decryptionPromise;var D=x.softwareDecrypt(r,w.key.buffer,w.iv.buffer);if(!D)return i.executeEnd=Q(),at(n);r=new Uint8Array(D)}this.needsProbing(r,h,f)&&this.configureTransmuxer(r,c);var A=this.transmux(r,w,m,p,n),T=this.currentTransmuxState;return T.contiguous=!0,T.discontinuity=!1,T.trackSwitch=!1,i.executeEnd=Q(),A},e.flush=function(t){var e=this,n=t.transmuxing;n.executeStart=Q();var i=this.decrypter,r=this.currentTransmuxState,s=this.decryptionPromise;if(s)return s.then((function(){return e.flush(t)}));var l=[],c=r.timeOffset;if(i){var d=i.flush();d&&l.push(this.push(d,null,t))}var u=this.demuxer,h=this.remuxer;if(!u||!h)return this.observer.emit(a.a.ERROR,a.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),n.executeEnd=Q(),[at(t)];var f=u.flush(c);return ot(f)?f.then((function(n){return e.flushRemux(l,n,t),l})):(this.flushRemux(l,f,t),l)},e.flushRemux=function(t,e,n){var a=e.audioTrack,o=e.videoTrack,i=e.id3Track,r=e.textTrack,s=this.currentTransmuxState,l=s.accurateTimeOffset,c=s.timeOffset;m.b.log("[transmuxer.ts]: Flushed fragment "+n.sn+(n.part>-1?" p: "+n.part:"")+" of level "+n.level);var d=this.remuxer.remux(a,o,i,r,c,l,!0,this.id);t.push({remuxResult:d,chunkMeta:n}),n.transmuxing.executeEnd=Q()},e.resetInitialTimestamp=function(t){var e=this.demuxer,n=this.remuxer;e&&n&&(e.resetTimeStamp(t),n.resetTimeStamp(t))},e.resetContiguity=function(){var t=this.demuxer,e=this.remuxer;t&&e&&(t.resetContiguity(),e.resetNextTimestamp())},e.resetInitSegment=function(t,e,n,a){var o=this.demuxer,i=this.remuxer;o&&i&&(o.resetInitSegment(t,e,n,a),i.resetInitSegment(t,e,n))},e.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},e.transmux=function(t,e,n,a,o){return e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(t,e,n,a,o):this.transmuxUnencrypted(t,n,a,o)},e.transmuxUnencrypted=function(t,e,n,a){var o=this.demuxer.demux(t,e,!1,!this.config.progressive),i=o.audioTrack,r=o.videoTrack,s=o.id3Track,l=o.textTrack;return{remuxResult:this.remuxer.remux(i,r,s,l,e,n,!1,this.id),chunkMeta:a}},e.transmuxSampleAes=function(t,e,n,a,o){var i=this;return this.demuxer.demuxSampleAes(t,e,n).then((function(t){return{remuxResult:i.remuxer.remux(t.audioTrack,t.videoTrack,t.id3Track,t.textTrack,n,a,!1,i.id),chunkMeta:o}}))},e.configureTransmuxer=function(t,e){for(var n,a=this.config,o=this.observer,i=this.typeSupported,r=this.vendor,s=e.audioCodec,l=e.defaultInitPts,c=e.duration,d=e.initSegmentData,u=e.videoCodec,h=0,f=et.length;h<f;h++)if(et[h].demux.probe(t)){n=et[h];break}n||(m.b.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),n={demux:E,remux:tt});var p=this.demuxer,g=this.remuxer,b=n.remux,v=n.demux;g&&g instanceof b||(this.remuxer=new b(o,a,i,r)),p&&p instanceof v||(this.demuxer=new v(o,a,i),this.probe=v.probe),this.resetInitSegment(d,s,u,c),this.resetInitialTimestamp(l)},e.needsProbing=function(t,e,n){return!this.demuxer||!this.remuxer||e||n},e.getDecrypter=function(){var t=this.decrypter;return t||(t=this.decrypter=new i.a(this.observer,this.config)),t},t}(),at=function(t){return{remuxResult:{},chunkMeta:t}};function ot(t){return"then"in t&&t.then instanceof Function}var it=function(t,e,n,a,o){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=e,this.initSegmentData=n,this.duration=a,this.defaultInitPts=o},rt=function(t,e,n,a,o,i){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=e,this.accurateTimeOffset=n,this.trackSwitch=a,this.timeOffset=o,this.initSegmentChange=i}},function(t,e,n){function a(t,e,n,a){void 0===n&&(n=1),void 0===a&&(a=!1);var o=t*e*n;return a?Math.round(o):o}function o(t,e,n,o){return void 0===n&&(n=1),void 0===o&&(o=!1),a(t,e,1/n,o)}function i(t,e){return void 0===e&&(e=!1),a(t,1e3,1/9e4,e)}function r(t,e){return void 0===e&&(e=1),a(t,9e4,1/e)}n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r}))},function(t,e,n){var a,o,i,r,s;a=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,o=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var a=s.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");return a.path=s.normalizePath(a.path),s.buildURLFromParts(a)}var i=s.parseURL(e);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return n.alwaysNormalize?(i.path=s.normalizePath(i.path),s.buildURLFromParts(i)):e;var r=s.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");if(!r.netLoc&&r.path&&"/"!==r.path[0]){var l=o.exec(r.path);r.netLoc=l[1],r.path=l[2]}r.netLoc&&!r.path&&(r.path="/");var c={scheme:r.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};if(!i.netLoc&&(c.netLoc=r.netLoc,"/"!==i.path[0]))if(i.path){var d=r.path,u=d.substring(0,d.lastIndexOf("/")+1)+i.path;c.path=s.normalizePath(u)}else c.path=r.path,i.params||(c.params=r.params,i.query||(c.query=r.query));return null===c.path&&(c.path=n.alwaysNormalize?s.normalizePath(i.path):i.path),s.buildURLFromParts(c)},parseURL:function(t){var e=a.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(i,"");t.length!==(t=t.replace(r,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=s},function(t,e,n){n.d(e,"a",(function(){return g})),n.d(e,"d",(function(){return b})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return _}));var a=n(3),o=function(){function t(){}return t.getSilentFrame=function(t,e){if("mp4a.40.2"===t){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},t}(),i=Math.pow(2,32)-1,r=function(){function t(){}return t.init=function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),a=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:n,audio:a};var o=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=i,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var r=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,r,l,r,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,o))},t.box=function(t){for(var e=8,n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];for(var i=a.length,r=i;i--;)e+=a[i].byteLength;var s=new Uint8Array(e);for(s[0]=e>>24&255,s[1]=e>>16&255,s[2]=e>>8&255,s[3]=255&e,s.set(t,4),i=0,e=8;i<r;i++)s.set(a[i],e),e+=a[i].byteLength;return s},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,n){n*=e;var a=Math.floor(n/(i+1)),o=Math.floor(n%(i+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,n,a){return t.box(t.types.moof,t.mfhd(e),t.traf(a,n))},t.moov=function(e){for(var n=e.length,a=[];n--;)a[n]=t.trak(e[n]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(a).concat(t.mvex(e)))},t.mvex=function(e){for(var n=e.length,a=[];n--;)a[n]=t.trex(e[n]);return t.box.apply(null,[t.types.mvex].concat(a))},t.mvhd=function(e,n){n*=e;var a=Math.floor(n/(i+1)),o=Math.floor(n%(i+1)),r=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,r)},t.sdtp=function(e){var n,a,o=e.samples||[],i=new Uint8Array(4+o.length);for(n=0;n<o.length;n++)a=o[n].flags,i[n+4]=a.dependsOn<<4|a.isDependedOn<<2|a.hasRedundancy;return t.box(t.types.sdtp,i)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var n,a,o,i=[],r=[];for(n=0;n<e.sps.length;n++)o=(a=e.sps[n]).byteLength,i.push(o>>>8&255),i.push(255&o),i=i.concat(Array.prototype.slice.call(a));for(n=0;n<e.pps.length;n++)o=(a=e.pps[n]).byteLength,r.push(o>>>8&255),r.push(255&o),r=r.concat(Array.prototype.slice.call(a));var s=t.box(t.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|e.sps.length].concat(i).concat([e.pps.length]).concat(r))),l=e.width,c=e.height,d=e.pixelRatio[0],u=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,255&d,u>>24,u>>16&255,u>>8&255,255&u])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var n=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var n=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},t.stsd=function(e){return"audio"===e.type?"mp3"===e.segmentCodec&&"mp3"===e.codec?t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var n=e.id,a=e.duration*e.timescale,o=e.width,r=e.height,s=Math.floor(a/(i+1)),l=Math.floor(a%(i+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,o>>8&255,255&o,0,0,r>>8&255,255&r,0,0]))},t.traf=function(e,n){var a=t.sdtp(e),o=e.id,r=Math.floor(n/(i+1)),s=Math.floor(n%(i+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,s>>24,s>>16&255,s>>8&255,255&s])),t.trun(e,a.length+16+20+8+16+8+8),a)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var n=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,n){var a,o,i,r,s,l,c=e.samples||[],d=c.length,u=12+16*d,h=new Uint8Array(u);for(n+=8+u,h.set(["video"===e.type?1:0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,255&d,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),a=0;a<d;a++)i=(o=c[a]).duration,r=o.size,s=o.flags,l=o.cts,h.set([i>>>24&255,i>>>16&255,i>>>8&255,255&i,r>>>24&255,r>>>16&255,r>>>8&255,255&r,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*a);return t.box(t.types.trun,h)},t.initSegment=function(e){t.types||t.init();var n=t.moov(e),a=new Uint8Array(t.FTYP.byteLength+n.byteLength);return a.set(t.FTYP),a.set(n,t.FTYP.byteLength),a},t}();r.types=void 0,r.HDLR_TYPES=void 0,r.STTS=void 0,r.STSC=void 0,r.STCO=void 0,r.STSZ=void 0,r.VMHD=void 0,r.SMHD=void 0,r.STSD=void 0,r.FTYP=void 0,r.DINF=void 0;var s=r,l=n(0),c=n(2),d=n(1),u=n(4),h=n(11);function f(){return(f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}var p=null,m=null,g=function(){function t(t,e,n,a){if(void 0===a&&(a=""),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=t,this.config=e,this.typeSupported=n,this.ISGenerated=!1,null===p){var o=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);p=o?parseInt(o[1]):0}if(null===m){var i=navigator.userAgent.match(/Safari\/(\d+)/i);m=i?parseInt(i[1]):0}}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(t){d.b.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=t},e.resetNextTimestamp=function(){d.b.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},e.resetInitSegment=function(){d.b.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},e.getVideoStartPts=function(t){var e=!1,n=t.reduce((function(t,n){var a=n.pts-t;return a<-4294967296?(e=!0,b(t,n.pts)):a>0?t:n.pts}),t[0].pts);return e&&d.b.debug("PTS rollover detected"),n},e.remux=function(t,e,n,a,o,i,r,s){var l,c,h,f,p,m,g=o,y=o,k=t.pid>-1,w=e.pid>-1,x=e.samples.length,D=t.samples.length>0,A=r&&x>0||x>1;if((!k||D)&&(!w||A)||this.ISGenerated||r){this.ISGenerated||(h=this.generateIS(t,e,o));var T,E=this.isVideoContiguous,C=-1;if(A&&(C=function(t){for(var e=0;e<t.length;e++)if(t[e].key)return e;return-1}(e.samples),!E&&this.config.forceKeyFrameOnDiscontinuity))if(m=!0,C>0){d.b.warn("[mp4-remuxer]: Dropped "+C+" out of "+x+" video samples due to a missing keyframe");var S=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(C),e.dropped+=C,T=y+=(e.samples[0].pts-S)/e.inputTimeScale}else-1===C&&(d.b.warn("[mp4-remuxer]: No keyframe found out of "+x+" video samples"),m=!1);if(this.ISGenerated){if(D&&A){var L=this.getVideoStartPts(e.samples),I=(b(t.samples[0].pts,L)-L)/e.inputTimeScale;g+=Math.max(0,I),y+=Math.max(0,-I)}if(D){if(t.samplerate||(d.b.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),h=this.generateIS(t,e,o)),c=this.remuxAudio(t,g,this.isAudioContiguous,i,w||A||s===u.b.AUDIO?y:void 0),A){var O=c?c.endPTS-c.startPTS:0;e.inputTimeScale||(d.b.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),h=this.generateIS(t,e,o)),l=this.remuxVideo(e,y,E,O)}}else A&&(l=this.remuxVideo(e,y,E,0));l&&(l.firstKeyFrame=C,l.independent=-1!==C,l.firstKeyFramePTS=T)}}return this.ISGenerated&&(n.samples.length&&(p=v(n,o,this._initPTS,this._initDTS)),a.samples.length&&(f=_(a,o,this._initPTS))),{audio:c,video:l,initSegment:h,independent:m,text:f,id3:p}},e.generateIS=function(t,e,n){var o,i,r,l=t.samples,c=e.samples,d=this.typeSupported,u={},h=!Object(a.a)(this._initPTS),f="audio/mp4";if(h&&(o=i=1/0),t.config&&l.length&&("mp3"===(t.timescale=t.samplerate,t.segmentCodec)&&(d.mpeg?(f="audio/mpeg",t.codec=""):d.mp3&&(t.codec="mp3")),u.audio={id:"audio",container:f,codec:t.codec,initSegment:"mp3"===t.segmentCodec&&d.mpeg?new Uint8Array(0):s.initSegment([t]),metadata:{channelCount:t.channelCount}},h&&(r=t.inputTimeScale,o=i=l[0].pts-Math.round(r*n))),e.sps&&e.pps&&c.length&&(e.timescale=e.inputTimeScale,u.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:s.initSegment([e]),metadata:{width:e.width,height:e.height}},h)){r=e.inputTimeScale;var p=this.getVideoStartPts(c),m=Math.round(r*n);i=Math.min(i,b(c[0].dts,p)-m),o=Math.min(o,p-m)}if(Object.keys(u).length)return this.ISGenerated=!0,h&&(this._initPTS=o,this._initDTS=i),{tracks:u,initPTS:o,timescale:r}},e.remuxVideo=function(t,e,n,a){var o,i,r=t.inputTimeScale,u=t.samples,g=[],v=u.length,_=this._initPTS,k=this.nextAvcDts,w=8,x=this.videoSampleDuration,D=Number.POSITIVE_INFINITY,A=Number.NEGATIVE_INFINITY,T=!1;n&&null!==k||(k=e*r-(u[0].pts-b(u[0].dts,u[0].pts)));for(var E=0;E<v;E++){var C=u[E];C.pts=b(C.pts-_,k),C.dts=b(C.dts-_,k),C.dts<u[E>0?E-1:E].dts&&(T=!0)}T&&u.sort((function(t,e){var n=t.dts-e.dts,a=t.pts-e.pts;return n||a})),o=u[0].dts;var S=(i=u[u.length-1].dts)-o,L=S?Math.round(S/(v-1)):x||t.inputTimeScale/30;if(n){var I=o-k,O=I>L;if(O||I<-1){O?d.b.warn("AVC: "+Object(h.b)(I,!0)+" ms ("+I+"dts) hole between fragments detected, filling it"):d.b.warn("AVC: "+Object(h.b)(-I,!0)+" ms ("+I+"dts) overlapping between fragments detected"),o=k;var F=u[0].pts-I;u[0].dts=o,u[0].pts=F,d.b.log("Video: First PTS/DTS adjusted: "+Object(h.b)(F,!0)+"/"+Object(h.b)(o,!0)+", delta: "+Object(h.b)(I,!0)+" ms")}}o=Math.max(0,o);for(var R=0,M=0,N=0;N<v;N++){for(var B=u[N],$=B.units,P=$.length,j=0,z=0;z<P;z++)j+=$[z].data.length;M+=j,R+=P,B.length=j,B.dts=Math.max(B.dts,o),D=Math.min(B.pts,D),A=Math.max(B.pts,A)}i=u[v-1].dts;var G,U=M+4*R+8;try{G=new Uint8Array(U)}catch(t){return void this.observer.emit(l.a.ERROR,l.a.ERROR,{type:c.b.MUX_ERROR,details:c.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:U,reason:"fail allocating video mdat "+U})}var H=new DataView(G.buffer);H.setUint32(0,U),G.set(s.types.mdat,4);for(var q=!1,W=Number.POSITIVE_INFINITY,V=Number.POSITIVE_INFINITY,K=Number.NEGATIVE_INFINITY,Y=Number.NEGATIVE_INFINITY,X=0;X<v;X++){for(var Z=u[X],J=Z.units,Q=0,tt=0,et=J.length;tt<et;tt++){var nt=J[tt],at=nt.data,ot=nt.data.byteLength;H.setUint32(w,ot),w+=4,G.set(at,w),w+=ot,Q+=4+ot}var it=void 0;if(X<v-1)x=u[X+1].dts-Z.dts,it=u[X+1].pts-Z.pts;else{var rt=this.config,st=X>0?Z.dts-u[X-1].dts:L;if(it=X>0?Z.pts-u[X-1].pts:L,rt.stretchShortVideoTrack&&null!==this.nextAudioPts){var lt=Math.floor(rt.maxBufferHole*r),ct=(a?D+a*r:this.nextAudioPts)-Z.pts;ct>lt?((x=ct-st)<0?x=st:q=!0,d.b.log("[mp4-remuxer]: It is approximately "+ct/90+" ms to the next segment; using duration "+x/90+" ms for the last video frame.")):x=st}else x=st}var dt=Math.round(Z.pts-Z.dts);W=Math.min(W,x),K=Math.max(K,x),V=Math.min(V,it),Y=Math.max(Y,it),g.push(new y(Z.key,x,Q,dt))}if(g.length)if(p){if(p<70){var ut=g[0].flags;ut.dependsOn=2,ut.isNonSync=0}}else if(m&&Y-V<K-W&&L/K<.025&&0===g[0].cts){d.b.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var ht=o,ft=0,pt=g.length;ft<pt;ft++){var mt=ht+g[ft].duration,gt=ht+g[ft].cts;if(ft<pt-1){var bt=mt+g[ft+1].cts;g[ft].duration=bt-gt}else g[ft].duration=ft?g[ft-1].duration:L;g[ft].cts=0,ht=mt}}x=q||!x?L:x,this.nextAvcDts=k=i+x,this.videoSampleDuration=x,this.isVideoContiguous=!0;var vt={data1:s.moof(t.sequenceNumber++,o,f({},t,{samples:g})),data2:G,startPTS:D/r,endPTS:(A+x)/r,startDTS:o/r,endDTS:k/r,type:"video",hasAudio:!1,hasVideo:!0,nb:g.length,dropped:t.dropped};return t.samples=[],t.dropped=0,vt},e.remuxAudio=function(t,e,n,a,i){var r=t.inputTimeScale,u=r/(t.samplerate?t.samplerate:r),h="aac"===t.segmentCodec?1024:1152,p=h*u,m=this._initPTS,g="mp3"===t.segmentCodec&&this.typeSupported.mpeg,v=[],_=void 0!==i,k=t.samples,w=g?0:8,x=this.nextAudioPts||-1,D=e*r;if(this.isAudioContiguous=n=n||k.length&&x>0&&(a&&Math.abs(D-x)<9e3||Math.abs(b(k[0].pts-m,D)-x)<20*p),k.forEach((function(t){t.pts=b(t.pts-m,D)})),!n||x<0){if(!(k=k.filter((function(t){return t.pts>=0}))).length)return;x=0===i?0:a&&!_?Math.max(0,D):k[0].pts}if("aac"===t.segmentCodec)for(var A=this.config.maxAudioFramesDrift,T=0,E=x;T<k.length;T++){var C=k[T],S=C.pts,L=S-E,I=Math.abs(1e3*L/r);if(L<=-A*p&&_)0===T&&(d.b.warn("Audio frame @ "+(S/r).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*L/r)+" ms."),this.nextAudioPts=x=E=S);else if(L>=A*p&&I<1e4&&_){var O=Math.round(L/p);(E=S-O*p)<0&&(O--,E+=p),0===T&&(this.nextAudioPts=x=E),d.b.warn("[mp4-remuxer]: Injecting "+O+" audio frame @ "+(E/r).toFixed(3)+"s due to "+Math.round(1e3*L/r)+" ms gap.");for(var F=0;F<O;F++){var R=Math.max(E,0),M=o.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);M||(d.b.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),M=C.unit.subarray()),k.splice(T,0,{unit:M,pts:R}),E+=p,T++}}C.pts=E,E+=p}for(var N,B=null,$=null,P=0,j=k.length;j--;)P+=k[j].unit.byteLength;for(var z=0,G=k.length;z<G;z++){var U=k[z],H=U.unit,q=U.pts;if(null!==$)v[z-1].duration=Math.round((q-$)/u);else{if(n&&"aac"===t.segmentCodec&&(q=x),B=q,!(P>0))return;P+=w;try{N=new Uint8Array(P)}catch(t){return void this.observer.emit(l.a.ERROR,l.a.ERROR,{type:c.b.MUX_ERROR,details:c.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:P,reason:"fail allocating audio mdat "+P})}g||(new DataView(N.buffer).setUint32(0,P),N.set(s.types.mdat,4))}N.set(H,w);var W=H.byteLength;w+=W,v.push(new y(!0,h,W,0)),$=q}var V=v.length;if(V){var K=v[v.length-1];this.nextAudioPts=x=$+u*K.duration;var Y=g?new Uint8Array(0):s.moof(t.sequenceNumber++,B/u,f({},t,{samples:v}));t.samples=[];var X=B/r,Z=x/r,J={data1:Y,data2:N,startPTS:X,endPTS:Z,startDTS:X,endDTS:Z,type:"audio",hasAudio:!0,hasVideo:!1,nb:V};return this.isAudioContiguous=!0,J}},e.remuxEmptyAudio=function(t,e,n,a){var i=t.inputTimeScale,r=i/(t.samplerate?t.samplerate:i),s=this.nextAudioPts,l=(null!==s?s:a.startDTS*i)+this._initDTS,c=a.endDTS*i+this._initDTS,u=1024*r,h=Math.ceil((c-l)/u),f=o.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(d.b.warn("[mp4-remuxer]: remux empty Audio"),f){for(var p=[],m=0;m<h;m++){var g=l+m*u;p.push({unit:f,pts:g,dts:g})}return t.samples=p,this.remuxAudio(t,e,n,!1)}d.b.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},t}();function b(t,e){var n;if(null===e)return t;for(n=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function v(t,e,n,a){var o=t.samples.length;if(o){for(var i=t.inputTimeScale,r=0;r<o;r++){var s=t.samples[r];s.pts=b(s.pts-n,e*i)/i,s.dts=b(s.dts-a,e*i)/i}var l=t.samples;return t.samples=[],{samples:l}}}function _(t,e,n){var a=t.samples.length;if(a){for(var o=t.inputTimeScale,i=0;i<a;i++){var r=t.samples[i];r.pts=b(r.pts-n,e*o)/o}t.samples.sort((function(t,e){return t.pts-e.pts}));var s=t.samples;return t.samples=[],{samples:s}}}var y=function(t,e,n,a){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=e,this.size=n,this.cts=a,this.flags=new k(t)},k=function(t){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=t?2:1,this.isNonSync=t?0:1}},function(t,e,n){n.d(e,"a",(function(){return a}));var a=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},function(t,e,n){var a=Object.prototype.hasOwnProperty,o="~";function i(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,n,a,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new r(n,a||t,i),l=o?o+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function l(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function c(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)a.call(t,e)&&n.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t){var e=o?o+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,i=n.length,r=new Array(i);a<i;a++)r[a]=n[a].fn;return r},c.prototype.listenerCount=function(t){var e=o?o+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,a,i,r){var s=o?o+t:t;if(!this._events[s])return!1;var l,c,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(t,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,e),!0;case 3:return d.fn.call(d.context,e,n),!0;case 4:return d.fn.call(d.context,e,n,a),!0;case 5:return d.fn.call(d.context,e,n,a,i),!0;case 6:return d.fn.call(d.context,e,n,a,i,r),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var h,f=d.length;for(c=0;c<f;c++)switch(d[c].once&&this.removeListener(t,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,e);break;case 3:d[c].fn.call(d[c].context,e,n);break;case 4:d[c].fn.call(d[c].context,e,n,a);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];d[c].fn.apply(d[c].context,l)}}return!0},c.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,n,a){var i=o?o+t:t;if(!this._events[i])return this;if(!e)return l(this,i),this;var r=this._events[i];if(r.fn)r.fn!==e||a&&!r.once||n&&r.context!==n||l(this,i);else{for(var s=0,c=[],d=r.length;s<d;s++)(r[s].fn!==e||a&&!r[s].once||n&&r[s].context!==n)&&c.push(r[s]);c.length?this._events[i]=1===c.length?c[0]:c:l(this,i)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&l(this,e)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=o,c.EventEmitter=c,t.exports=c},function(t,e,n){n.d(e,"a",(function(){return c}));var a=function(){function t(t,e){this.subtle=void 0,this.aesIV=void 0,this.subtle=t,this.aesIV=e}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}(),o=function(){function t(t,e){this.subtle=void 0,this.key=void 0,this.subtle=t,this.key=e}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}(),i=n(9),r=function(){function t(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var e=t.prototype;return e.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),n=new Uint32Array(4),a=0;a<4;a++)n[a]=e.getUint32(4*a);return n},e.initTable=function(){var t=this.sBox,e=this.invSBox,n=this.subMix,a=n[0],o=n[1],i=n[2],r=n[3],s=this.invSubMix,l=s[0],c=s[1],d=s[2],u=s[3],h=new Uint32Array(256),f=0,p=0,m=0;for(m=0;m<256;m++)h[m]=m<128?m<<1:m<<1^283;for(m=0;m<256;m++){var g=p^p<<1^p<<2^p<<3^p<<4;g=g>>>8^255&g^99,t[f]=g,e[g]=f;var b=h[f],v=h[b],_=h[v],y=257*h[g]^16843008*g;a[f]=y<<24|y>>>8,o[f]=y<<16|y>>>16,i[f]=y<<8|y>>>24,r[f]=y,y=16843009*_^65537*v^257*b^16843008*f,l[g]=y<<24|y>>>8,c[g]=y<<16|y>>>16,d[g]=y<<8|y>>>24,u[g]=y,f?(f=b^h[h[h[_^b]]],p^=h[h[p]]):f=p=1}},e.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),n=!0,a=0;a<e.length&&n;)n=e[a]===this.key[a],a++;if(!n){this.key=e;var o=this.keySize=e.length;if(4!==o&&6!==o&&8!==o)throw new Error("Invalid aes key size="+o);var i,r,s,l,c=this.ksRows=4*(o+6+1),d=this.keySchedule=new Uint32Array(c),u=this.invKeySchedule=new Uint32Array(c),h=this.sBox,f=this.rcon,p=this.invSubMix,m=p[0],g=p[1],b=p[2],v=p[3];for(i=0;i<c;i++)i<o?s=d[i]=e[i]:(l=s,i%o==0?(l=h[(l=l<<8|l>>>24)>>>24]<<24|h[l>>>16&255]<<16|h[l>>>8&255]<<8|h[255&l],l^=f[i/o|0]<<24):o>6&&i%o==4&&(l=h[l>>>24]<<24|h[l>>>16&255]<<16|h[l>>>8&255]<<8|h[255&l]),d[i]=s=(d[i-o]^l)>>>0);for(r=0;r<c;r++)i=c-r,l=3&r?d[i]:d[i-4],u[r]=r<4||i<=4?l:m[h[l>>>24]]^g[h[l>>>16&255]]^b[h[l>>>8&255]]^v[h[255&l]],u[r]=u[r]>>>0}},e.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},e.decrypt=function(t,e,n){for(var a,o,i,r,s,l,c,d,u,h,f,p,m,g,b=this.keySize+6,v=this.invKeySchedule,_=this.invSBox,y=this.invSubMix,k=y[0],w=y[1],x=y[2],D=y[3],A=this.uint8ArrayToUint32Array_(n),T=A[0],E=A[1],C=A[2],S=A[3],L=new Int32Array(t),I=new Int32Array(L.length),O=this.networkToHostOrderSwap;e<L.length;){for(u=O(L[e]),h=O(L[e+1]),f=O(L[e+2]),p=O(L[e+3]),s=u^v[0],l=p^v[1],c=f^v[2],d=h^v[3],m=4,g=1;g<b;g++)a=k[s>>>24]^w[l>>16&255]^x[c>>8&255]^D[255&d]^v[m],o=k[l>>>24]^w[c>>16&255]^x[d>>8&255]^D[255&s]^v[m+1],i=k[c>>>24]^w[d>>16&255]^x[s>>8&255]^D[255&l]^v[m+2],r=k[d>>>24]^w[s>>16&255]^x[l>>8&255]^D[255&c]^v[m+3],s=a,l=o,c=i,d=r,m+=4;a=_[s>>>24]<<24^_[l>>16&255]<<16^_[c>>8&255]<<8^_[255&d]^v[m],o=_[l>>>24]<<24^_[c>>16&255]<<16^_[d>>8&255]<<8^_[255&s]^v[m+1],i=_[c>>>24]<<24^_[d>>16&255]<<16^_[s>>8&255]<<8^_[255&l]^v[m+2],r=_[d>>>24]<<24^_[s>>16&255]<<16^_[l>>8&255]<<8^_[255&c]^v[m+3],I[e]=O(a^T),I[e+1]=O(r^E),I[e+2]=O(i^C),I[e+3]=O(o^S),T=u,E=h,C=f,S=p,e+=4}return I.buffer},t}(),s=n(1),l=n(5),c=function(){function t(t,e,n){var a=(void 0===n?{}:n).removePKCS7Padding,o=void 0===a||a;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=t,this.config=e,this.removePKCS7Padding=o,o)try{var i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch(t){}null===this.subtle&&(this.config.enableSoftwareAES=!0)}var e=t.prototype;return e.destroy=function(){this.observer=null},e.isSync=function(){return this.config.enableSoftwareAES},e.flush=function(){var t=this.currentResult;if(t){var e,n,a,o=new Uint8Array(t);return this.reset(),this.removePKCS7Padding?(a=(n=(e=o).byteLength)&&new DataView(e.buffer).getUint8(n-1))?Object(i.a)(e,0,n-a):e:o}this.reset()},e.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},e.decrypt=function(t,e,n,a){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(t),e,n);var o=this.flush();o&&a(o.buffer)}else this.webCryptoDecrypt(new Uint8Array(t),e,n).then(a)},e.softwareDecrypt=function(t,e,n){var a=this.currentIV,o=this.currentResult,s=this.remainderData;this.logOnce("JS AES decrypt"),s&&(t=Object(l.b)(s,t),this.remainderData=null);var c=this.getValidChunk(t);if(!c.length)return null;a&&(n=a);var d=this.softwareDecrypter;d||(d=this.softwareDecrypter=new r),d.expandKey(e);var u=o;return this.currentResult=d.decrypt(c.buffer,0,n),this.currentIV=Object(i.a)(c,-16).buffer,u||null},e.webCryptoDecrypt=function(t,e,n){var i=this,r=this.subtle;return this.key===e&&this.fastAesKey||(this.key=e,this.fastAesKey=new o(r,e)),this.fastAesKey.expandKey().then((function(e){return r?new a(r,n).decrypt(t.buffer,e):Promise.reject(new Error("web crypto not initialized"))})).catch((function(a){return i.onWebCryptoError(a,t,e,n)}))},e.onWebCryptoError=function(t,e,n,a){return s.b.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",t),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(e,n,a)},e.getValidChunk=function(t){var e=t,n=t.length-t.length%16;return n!==t.length&&(e=Object(i.a)(t,0,n),this.remainderData=Object(i.a)(t,n)),e},e.logOnce=function(t){this.logEnabled&&(s.b.log("[decrypter.ts]: "+t),this.logEnabled=!1)},t}()},function(t,e,n){n.d(e,"a",(function(){return i}));var a=n(12);function o(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var i=function(){function t(t,e){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=e?Object(a.buildAbsoluteURL)(t,e,{alwaysNormalize:!0}):t}var e,n,i;return t.fromURL=function(e,n){return new t(e,n)},t.fromURI=function(e){return new t(e)},e=t,(n=[{key:"uri",get:function(){return this._uri}}])&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){function a(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var a=n(n.s=ENTRY_MODULE);return a.default||a}function o(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function i(t,e,a){var i={};i[a]=[];var r=e.toString(),s=r.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return i;for(var l,c=s[1],d=new RegExp("(\\\\n|\\W)"+o(c)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");l=d.exec(r);)"dll-reference"!==l[3]&&i[a].push(l[3]);for(d=new RegExp("\\("+o(c)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");l=d.exec(r);)t[l[2]]||(i[a].push(l[1]),t[l[2]]=n(l[1]).m),i[l[2]]=i[l[2]]||[],i[l[2]].push(l[4]);for(var u,h=Object.keys(i),f=0;f<h.length;f++)for(var p=0;p<i[h[f]].length;p++)u=i[h[f]][p],isNaN(1*u)||(i[h[f]][p]=1*i[h[f]][p]);return i}function r(t){return Object.keys(t).reduce((function(e,n){return e||t[n].length>0}),!1)}t.exports=function(t,e){e=e||{};var o={main:n.m},s=e.all?{main:Object.keys(o.main)}:function(t,e){for(var n={main:[e]},a={main:[]},o={main:{}};r(n);)for(var s=Object.keys(n),l=0;l<s.length;l++){var c=s[l],d=n[c].pop();if(o[c]=o[c]||{},!o[c][d]&&t[c][d]){o[c][d]=!0,a[c]=a[c]||[],a[c].push(d);for(var u=i(t,t[c][d],c),h=Object.keys(u),f=0;f<h.length;f++)n[h[f]]=n[h[f]]||[],n[h[f]]=n[h[f]].concat(u[h[f]])}}return a}(o,t),l="";Object.keys(s).filter((function(t){return"main"!==t})).forEach((function(t){for(var e=0;s[t][e];)e++;s[t].push(e),o[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",l=l+"var "+t+" = ("+a.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s[t].map((function(e){return JSON.stringify(e)+": "+o[t][e].toString()})).join(",")+"});\n"})),l=l+"new (("+a.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s.main.map((function(t){return JSON.stringify(t)+": "+o.main[t].toString()})).join(",")+"}))(self);";var c=new window.Blob([l],{type:"text/javascript"});if(e.bare)return c;var d=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(c),u=new window.Worker(d);return u.objectURL=d,u}},function(t,e,n){n.r(e),n.d(e,"default",(function(){return s}));var a=n(10),o=n(0),i=n(1),r=n(15);function s(t){var e=new r.EventEmitter,n=function(e,n){t.postMessage({event:e,data:n})};e.on(o.a.FRAG_DECRYPTED,n),e.on(o.a.ERROR,n),t.addEventListener("message",(function(o){var r=o.data;switch(r.cmd){case"init":var s=JSON.parse(r.config);t.transmuxer=new a.c(e,r.typeSupported,s,r.vendor,r.id),Object(i.a)(s.debug),function(){var t=function(t){i.b[t]=function(e){n("workerLog",{logType:t,message:e})}};for(var e in i.b)t(e)}(),n("init",null);break;case"configure":t.transmuxer.configure(r.config);break;case"demux":var c=t.transmuxer.push(r.data,r.decryptdata,r.chunkMeta,r.state);Object(a.d)(c)?c.then((function(e){l(t,e)})):l(t,c);break;case"flush":var u=r.chunkMeta,h=t.transmuxer.flush(u);Object(a.d)(h)?h.then((function(e){d(t,e,u)})):d(t,h,u)}}))}function l(t,e){if(!((n=e.remuxResult).audio||n.video||n.text||n.id3||n.initSegment))return!1;var n,a=[],o=e.remuxResult,i=o.audio,r=o.video;return i&&c(a,i),r&&c(a,r),t.postMessage({event:"transmuxComplete",data:e},a),!0}function c(t,e){e.data1&&t.push(e.data1.buffer),e.data2&&t.push(e.data2.buffer)}function d(t,e,n){e.reduce((function(e,n){return l(t,n)||e}),!1)||t.postMessage({event:"transmuxComplete",data:e[0]}),t.postMessage({event:"flush",data:n})}},function(t,e,n){n.r(e),n.d(e,"default",(function(){return ma}));var a,o=n(12),i=n(3),r=n(0),s=n(2),l=n(1),c=n(5),d=/^(\d+)x(\d+)$/,u=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,h=function(){function t(e){for(var n in"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(n)&&(this[n]=e[n])}var e=t.prototype;return e.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var n=new Uint8Array(e.length/2),a=0;a<e.length/2;a++)n[a]=parseInt(e.slice(2*a,2*a+2),16);return n}return null},e.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.decimalFloatingPoint=function(t){return parseFloat(this[t])},e.optionalFloat=function(t,e){var n=this[t];return n?parseFloat(n):e},e.enumeratedString=function(t){return this[t]},e.bool=function(t){return"YES"===this[t]},e.decimalResolution=function(t){var e=d.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e,n={};for(u.lastIndex=0;null!==(e=u.exec(t));){var a=e[2];0===a.indexOf('"')&&a.lastIndexOf('"')===a.length-1&&(a=a.slice(1,-1)),n[e[1]]=a}return n},t}();function f(){return(f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function p(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}!function(t){t.ID="ID",t.CLASS="CLASS",t.START_DATE="START-DATE",t.DURATION="DURATION",t.END_DATE="END-DATE",t.END_ON_NEXT="END-ON-NEXT",t.PLANNED_DURATION="PLANNED-DURATION",t.SCTE35_OUT="SCTE35-OUT",t.SCTE35_IN="SCTE35-IN"}(a||(a={}));var m=function(){function t(t,e){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,e){var n=e.attr;for(var o in n)if(Object.prototype.hasOwnProperty.call(t,o)&&t[o]!==n[o]){l.b.warn('DATERANGE tag attribute: "'+o+'" does not match for tags with ID: "'+t.ID+'"'),this._badValueForSameId=o;break}t=f(new h({}),n,t)}if(this.attr=t,this._startDate=new Date(t[a.START_DATE]),a.END_DATE in this.attr){var r=new Date(this.attr[a.END_DATE]);Object(i.a)(r.getTime())&&(this._endDate=r)}}var e,n,o;return e=t,(n=[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var t=this.duration;return null!==t?new Date(this._startDate.getTime()+1e3*t):null}},{key:"duration",get:function(){if(a.DURATION in this.attr){var t=this.attr.decimalFloatingPoint(a.DURATION);if(Object(i.a)(t))return t}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return a.PLANNED_DURATION in this.attr?this.attr.decimalFloatingPoint(a.PLANNED_DURATION):null}},{key:"endOnNext",get:function(){return this.attr.bool(a.END_ON_NEXT)}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&Object(i.a)(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}])&&p(e.prototype,n),o&&p(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),g=n(6);function b(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var v=function(){function t(t){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.dateRanges={},this.url=t}var e,n,a;return t.prototype.reloaded=function(t){if(!t)return this.advanced=!0,void(this.updated=!0);var e=this.lastPartSn-t.lastPartSn,n=this.lastPartIndex-t.lastPartIndex;this.updated=this.endSN!==t.endSN||!!n||!!e,this.advanced=this.endSN>t.endSN||e>0||0===e&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*t.misses):this.misses=t.misses+1,this.availabilityDelay=t.availabilityDelay},e=t,(n=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(i.a)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var t=this.driftEndTime-this.driftStartTime;return t>0?1e3*(this.driftEnd-this.driftStart)/t:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var t;return null!==(t=this.partList)&&void 0!==t&&t.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var t;return null!==(t=this.fragments)&&void 0!==t&&t.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var t;return null!==(t=this.partList)&&void 0!==t&&t.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var t;return null!==(t=this.partList)&&void 0!==t&&t.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&b(e.prototype,n),a&&b(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}(),_=n(17),y={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function k(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}var w=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,x=/#EXT-X-MEDIA:(.*)/g,D=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),A=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),T=/\.(mp4|m4s|m4v|m4a)$/i,E=function(){function t(){}return t.findGroup=function(t,e){for(var n=0;n<t.length;n++){var a=t[n];if(a.id===e)return a}},t.convertAVC1ToAVCOTI=function(t){var e=t.split(".");if(e.length>2){var n=e.shift()+".";return(n+=parseInt(e.shift()).toString(16))+("000"+parseInt(e.shift()).toString(16)).slice(-4)}return t},t.resolve=function(t,e){return o.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,n){var a,o=[],i=[],r={},s=!1;for(w.lastIndex=0;null!=(a=w.exec(e));)if(a[1]){var l,c=new h(a[1]),d={attrs:c,bitrate:c.decimalInteger("AVERAGE-BANDWIDTH")||c.decimalInteger("BANDWIDTH"),name:c.NAME,url:t.resolve(a[2],n)},u=c.decimalResolution("RESOLUTION");u&&(d.width=u.width,d.height=u.height),C((c.CODECS||"").split(/[ ,]+/).filter((function(t){return t})),d),d.videoCodec&&-1!==d.videoCodec.indexOf("avc1")&&(d.videoCodec=t.convertAVC1ToAVCOTI(d.videoCodec)),null!==(l=d.unknownCodecs)&&void 0!==l&&l.length||i.push(d),o.push(d)}else if(a[3]){var f=new h(a[3]);f["DATA-ID"]&&(s=!0,r[f["DATA-ID"]]=f)}return{levels:i.length>0&&i.length<o.length?i:o,sessionData:s?r:null}},t.parseMasterPlaylistMedia=function(e,n,a,o){var i;void 0===o&&(o=[]);var r=[],s=0;for(x.lastIndex=0;null!==(i=x.exec(e));){var l=new h(i[1]);if(l.TYPE===a){var c={attrs:l,bitrate:0,id:s++,groupId:l["GROUP-ID"],instreamId:l["INSTREAM-ID"],name:l.NAME||l.LANGUAGE||"",type:a,default:l.bool("DEFAULT"),autoselect:l.bool("AUTOSELECT"),forced:l.bool("FORCED"),lang:l.LANGUAGE,url:l.URI?t.resolve(l.URI,n):""};if(o.length){var d=t.findGroup(o,c.groupId)||o[0];S(c,d,"audioCodec"),S(c,d,"textCodec")}r.push(c)}}return r},t.parseLevelPlaylist=function(t,e,n,a,r){var s,c,d,u=new v(e),f=u.fragments,p=null,b=0,y=0,k=0,w=0,x=null,E=new g.b(a,e),C=-1,S=!1;for(D.lastIndex=0,u.m3u8=t;null!==(s=D.exec(t));){S&&(S=!1,(E=new g.b(a,e)).start=k,E.sn=b,E.cc=w,E.level=n,p&&(E.initSegment=p,E.rawProgramDateTime=p.rawProgramDateTime,p.rawProgramDateTime=null));var O=s[1];if(O){E.duration=parseFloat(O);var F=(" "+s[2]).slice(1);E.title=F||null,E.tagList.push(F?["INF",O,F]:["INF",O])}else if(s[3])Object(i.a)(E.duration)&&(E.start=k,d&&(E.levelkey=d),E.sn=b,E.level=n,E.cc=w,E.urlId=r,f.push(E),E.relurl=(" "+s[3]).slice(1),L(E,x),x=E,k+=E.duration,b++,y=0,S=!0);else if(s[4]){var R=(" "+s[4]).slice(1);x?E.setByteRange(R,x):E.setByteRange(R)}else if(s[5])E.rawProgramDateTime=(" "+s[5]).slice(1),E.tagList.push(["PROGRAM-DATE-TIME",E.rawProgramDateTime]),-1===C&&(C=f.length);else{if(!(s=s[0].match(A))){l.b.warn("No matches on slow regex match for level playlist!");continue}for(c=1;c<s.length&&void 0===s[c];c++);var M=(" "+s[c]).slice(1),N=(" "+s[c+1]).slice(1),B=s[c+2]?(" "+s[c+2]).slice(1):"";switch(M){case"PLAYLIST-TYPE":u.type=N.toUpperCase();break;case"MEDIA-SEQUENCE":b=u.startSN=parseInt(N);break;case"SKIP":var $=new h(N),P=$.decimalInteger("SKIPPED-SEGMENTS");if(Object(i.a)(P)){u.skippedSegments=P;for(var j=P;j--;)f.unshift(null);b+=P}var z=$.enumeratedString("RECENTLY-REMOVED-DATERANGES");z&&(u.recentlyRemovedDateranges=z.split("\t"));break;case"TARGETDURATION":u.targetduration=parseFloat(N);break;case"VERSION":u.version=parseInt(N);break;case"EXTM3U":break;case"ENDLIST":u.live=!1;break;case"#":(N||B)&&E.tagList.push(B?[N,B]:[N]);break;case"DISCONTINUITY":w++,E.tagList.push(["DIS"]);break;case"GAP":E.tagList.push([M]);break;case"BITRATE":E.tagList.push([M,N]);break;case"DATERANGE":var G=new h(N),U=new m(G,u.dateRanges[G.ID]);U.isValid||u.skippedSegments?u.dateRanges[U.id]=U:l.b.warn('Ignoring invalid DATERANGE tag: "'+N+'"'),E.tagList.push(["EXT-X-DATERANGE",N]);break;case"DISCONTINUITY-SEQUENCE":w=parseInt(N);break;case"KEY":var H,q=new h(N),W=q.enumeratedString("METHOD"),V=q.URI,K=q.hexadecimalInteger("IV"),Y=q.enumeratedString("KEYFORMATVERSIONS"),X=q.enumeratedString("KEYID"),Z=null!=(H=q.enumeratedString("KEYFORMAT"))?H:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(Z)>-1){l.b.warn("Keyformat "+Z+" is not supported from the manifest");continue}if("identity"!==Z)continue;W&&(d=_.a.fromURL(e,V),V&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(W)>=0&&(d.method=W,d.keyFormat=Z,X&&(d.keyID=X),Y&&(d.keyFormatVersions=Y),d.iv=K));break;case"START":var J=new h(N).decimalFloatingPoint("TIME-OFFSET");Object(i.a)(J)&&(u.startTimeOffset=J);break;case"MAP":var Q=new h(N);if(E.duration){var tt=new g.b(a,e);I(tt,Q,n,d),p=tt,E.initSegment=p,p.rawProgramDateTime&&!E.rawProgramDateTime&&(E.rawProgramDateTime=p.rawProgramDateTime)}else I(E,Q,n,d),p=E,S=!0;break;case"SERVER-CONTROL":var et=new h(N);u.canBlockReload=et.bool("CAN-BLOCK-RELOAD"),u.canSkipUntil=et.optionalFloat("CAN-SKIP-UNTIL",0),u.canSkipDateRanges=u.canSkipUntil>0&&et.bool("CAN-SKIP-DATERANGES"),u.partHoldBack=et.optionalFloat("PART-HOLD-BACK",0),u.holdBack=et.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var nt=new h(N);u.partTarget=nt.decimalFloatingPoint("PART-TARGET");break;case"PART":var at=u.partList;at||(at=u.partList=[]);var ot=y>0?at[at.length-1]:void 0,it=y++,rt=new g.c(new h(N),E,e,it,ot);at.push(rt),E.duration+=rt.duration;break;case"PRELOAD-HINT":var st=new h(N);u.preloadHint=st;break;case"RENDITION-REPORT":var lt=new h(N);u.renditionReports=u.renditionReports||[],u.renditionReports.push(lt);break;default:l.b.warn("line parsed but not handled: "+s)}}}x&&!x.relurl?(f.pop(),k-=x.duration,u.partList&&(u.fragmentHint=x)):u.partList&&(L(E,x),E.cc=w,u.fragmentHint=E);var ct=f.length,dt=f[0],ut=f[ct-1];if((k+=u.skippedSegments*u.targetduration)>0&&ct&&ut){u.averagetargetduration=k/ct;var ht=ut.sn;u.endSN="initSegment"!==ht?ht:0,dt&&(u.startCC=dt.cc,dt.initSegment||u.fragments.every((function(t){return t.relurl&&(e=t.relurl,T.test(null!=(n=null===(a=o.parseURL(e))||void 0===a?void 0:a.path)?n:""));var e,n,a}))&&(l.b.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(E=new g.b(a,e)).relurl=ut.relurl,E.level=n,E.sn="initSegment",dt.initSegment=E,u.needSidxRanges=!0))}else u.endSN=0,u.startCC=0;return u.fragmentHint&&(k+=u.fragmentHint.duration),u.totalduration=k,u.endCC=w,C>0&&function(t,e){for(var n=t[e],a=e;a--;){var o=t[a];if(!o)return;o.programDateTime=n.programDateTime-1e3*o.duration,n=o}}(f,C),u},t}();function C(t,e){["video","audio","text"].forEach((function(n){var a=t.filter((function(t){return function(t,e){var n=y[e];return!!n&&!0===n[t.slice(0,4)]}(t,n)}));if(a.length){var o=a.filter((function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)}));e[n+"Codec"]=o.length>0?o[0]:a[0],t=t.filter((function(t){return-1===a.indexOf(t)}))}})),e.unknownCodecs=t}function S(t,e,n){var a=e[n];a&&(t[n]=a)}function L(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):null!=e&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),Object(i.a)(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function I(t,e,n,a){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",a&&(t.levelkey=a),t.initSegment=null}var O=n(4);function F(t,e){var n=t.url;return void 0!==n&&0!==n.indexOf("data:")||(n=e.url),n}var R=function(){function t(t){this.hls=void 0,this.loaders=Object.create(null),this.hls=t,this.registerListeners()}var e=t.prototype;return e.startLoad=function(t){},e.stopLoad=function(){this.destroyInternalLoaders()},e.registerListeners=function(){var t=this.hls;t.on(r.a.MANIFEST_LOADING,this.onManifestLoading,this),t.on(r.a.LEVEL_LOADING,this.onLevelLoading,this),t.on(r.a.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(r.a.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},e.unregisterListeners=function(){var t=this.hls;t.off(r.a.MANIFEST_LOADING,this.onManifestLoading,this),t.off(r.a.LEVEL_LOADING,this.onLevelLoading,this),t.off(r.a.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(r.a.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},e.createInternalLoader=function(t){var e=this.hls.config,n=e.pLoader,a=e.loader,o=new(n||a)(e);return t.loader=o,this.loaders[t.type]=o,o},e.getInternalLoader=function(t){return this.loaders[t.type]},e.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},e.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},e.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},e.onManifestLoading=function(t,e){var n=e.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:O.a.MANIFEST,url:n,deliveryDirectives:null})},e.onLevelLoading=function(t,e){var n=e.id,a=e.level,o=e.url,i=e.deliveryDirectives;this.load({id:n,groupId:null,level:a,responseType:"text",type:O.a.LEVEL,url:o,deliveryDirectives:i})},e.onAudioTrackLoading=function(t,e){var n=e.id,a=e.groupId,o=e.url,i=e.deliveryDirectives;this.load({id:n,groupId:a,level:null,responseType:"text",type:O.a.AUDIO_TRACK,url:o,deliveryDirectives:i})},e.onSubtitleTrackLoading=function(t,e){var n=e.id,a=e.groupId,o=e.url,i=e.deliveryDirectives;this.load({id:n,groupId:a,level:null,responseType:"text",type:O.a.SUBTITLE_TRACK,url:o,deliveryDirectives:i})},e.load=function(t){var e,n,a,o,i,r,s=this.hls.config,c=this.getInternalLoader(t);if(c){var d=c.context;if(d&&d.url===t.url)return void l.b.trace("[playlist-loader]: playlist request ongoing");l.b.log("[playlist-loader]: aborting previous loader for type: "+t.type),c.abort()}switch(t.type){case O.a.MANIFEST:n=s.manifestLoadingMaxRetry,a=s.manifestLoadingTimeOut,o=s.manifestLoadingRetryDelay,i=s.manifestLoadingMaxRetryTimeout;break;case O.a.LEVEL:case O.a.AUDIO_TRACK:case O.a.SUBTITLE_TRACK:n=0,a=s.levelLoadingTimeOut;break;default:n=s.levelLoadingMaxRetry,a=s.levelLoadingTimeOut,o=s.levelLoadingRetryDelay,i=s.levelLoadingMaxRetryTimeout}if(c=this.createInternalLoader(t),null!==(e=t.deliveryDirectives)&&void 0!==e&&e.part&&(t.type===O.a.LEVEL&&null!==t.level?r=this.hls.levels[t.level].details:t.type===O.a.AUDIO_TRACK&&null!==t.id?r=this.hls.audioTracks[t.id].details:t.type===O.a.SUBTITLE_TRACK&&null!==t.id&&(r=this.hls.subtitleTracks[t.id].details),r)){var u=r.partTarget,h=r.targetduration;u&&h&&(a=Math.min(1e3*Math.max(3*u,.8*h),a))}var f={timeout:a,maxRetry:n,retryDelay:o,maxRetryDelay:i,highWaterMark:0},p={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(t,f,p)},e.loadsuccess=function(t,e,n,a){if(void 0===a&&(a=null),n.isSidxRequest)return this.handleSidxRequest(t,n),void this.handlePlaylistLoaded(t,e,n,a);this.resetInternalLoader(n.type);var o=t.data;0===o.indexOf("#EXTM3U")?(e.parsing.start=performance.now(),o.indexOf("#EXTINF:")>0||o.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(t,e,n,a):this.handleMasterPlaylist(t,e,n,a)):this.handleManifestParsingError(t,n,"no EXTM3U delimiter",a)},e.loaderror=function(t,e,n){void 0===n&&(n=null),this.handleNetworkError(e,n,!1,t)},e.loadtimeout=function(t,e,n){void 0===n&&(n=null),this.handleNetworkError(e,n,!0)},e.handleMasterPlaylist=function(t,e,n,a){var o=this.hls,i=t.data,s=F(t,n),c=E.parseMasterPlaylist(i,s),d=c.levels,u=c.sessionData;if(d.length){var f=d.map((function(t){return{id:t.attrs.AUDIO,audioCodec:t.audioCodec}})),p=d.map((function(t){return{id:t.attrs.SUBTITLES,textCodec:t.textCodec}})),m=E.parseMasterPlaylistMedia(i,s,"AUDIO",f),g=E.parseMasterPlaylistMedia(i,s,"SUBTITLES",p),b=E.parseMasterPlaylistMedia(i,s,"CLOSED-CAPTIONS");m.length&&(m.some((function(t){return!t.url}))||!d[0].audioCodec||d[0].attrs.AUDIO||(l.b.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new h({}),bitrate:0,url:""}))),o.trigger(r.a.MANIFEST_LOADED,{levels:d,audioTracks:m,subtitles:g,captions:b,url:s,stats:e,networkDetails:a,sessionData:u})}else this.handleManifestParsingError(t,n,"no level found in manifest",a)},e.handleTrackOrLevelPlaylist=function(t,e,n,a){var o=this.hls,l=n.id,c=n.level,d=n.type,u=F(t,n),f=Object(i.a)(l)?l:0,p=Object(i.a)(c)?c:f,m=function(t){switch(t.type){case O.a.AUDIO_TRACK:return O.b.AUDIO;case O.a.SUBTITLE_TRACK:return O.b.SUBTITLE;default:return O.b.MAIN}}(n),g=E.parseLevelPlaylist(t.data,u,p,m,f);if(g.fragments.length){if(d===O.a.MANIFEST){var b={attrs:new h({}),bitrate:0,details:g,name:"",url:u};o.trigger(r.a.MANIFEST_LOADED,{levels:[b],audioTracks:[],url:u,stats:e,networkDetails:a,sessionData:null})}if(e.parsing.end=performance.now(),g.needSidxRanges){var v,_=null===(v=g.fragments[0].initSegment)||void 0===v?void 0:v.url;this.load({url:_,isSidxRequest:!0,type:d,level:c,levelDetails:g,id:l,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else n.levelDetails=g,this.handlePlaylistLoaded(t,e,n,a)}else o.trigger(r.a.ERROR,{type:s.b.NETWORK_ERROR,details:s.a.LEVEL_EMPTY_ERROR,fatal:!1,url:u,reason:"no fragments found in level",level:"number"==typeof n.level?n.level:void 0})},e.handleSidxRequest=function(t,e){var n=new Uint8Array(t.data),a=Object(c.c)(n,["sidx"])[0];if(a){var o=Object(c.k)(a);if(o){var i=o.references,r=e.levelDetails;i.forEach((function(t,e){var a=t.info,o=r.fragments[e];if(0===o.byteRange.length&&o.setByteRange(String(1+a.end-a.start)+"@"+String(a.start)),o.initSegment){var i=Object(c.c)(n,["moov"])[0],s=i?i.length:null;o.initSegment.setByteRange(String(s)+"@0")}}))}}},e.handleManifestParsingError=function(t,e,n,a){this.hls.trigger(r.a.ERROR,{type:s.b.NETWORK_ERROR,details:s.a.MANIFEST_PARSING_ERROR,fatal:e.type===O.a.MANIFEST,url:t.url,reason:n,response:t,context:e,networkDetails:a})},e.handleNetworkError=function(t,e,n,a){void 0===n&&(n=!1),l.b.warn("[playlist-loader]: A network "+(n?"timeout":"error")+" occurred while loading "+t.type+" level: "+t.level+" id: "+t.id+' group-id: "'+t.groupId+'"');var o=s.a.UNKNOWN,i=!1,c=this.getInternalLoader(t);switch(t.type){case O.a.MANIFEST:o=n?s.a.MANIFEST_LOAD_TIMEOUT:s.a.MANIFEST_LOAD_ERROR,i=!0;break;case O.a.LEVEL:o=n?s.a.LEVEL_LOAD_TIMEOUT:s.a.LEVEL_LOAD_ERROR,i=!1;break;case O.a.AUDIO_TRACK:o=n?s.a.AUDIO_TRACK_LOAD_TIMEOUT:s.a.AUDIO_TRACK_LOAD_ERROR,i=!1;break;case O.a.SUBTITLE_TRACK:o=n?s.a.SUBTITLE_TRACK_LOAD_TIMEOUT:s.a.SUBTITLE_LOAD_ERROR,i=!1}c&&this.resetInternalLoader(t.type);var d={type:s.b.NETWORK_ERROR,details:o,fatal:i,url:t.url,loader:c,context:t,networkDetails:e};a&&(d.response=a),this.hls.trigger(r.a.ERROR,d)},e.handlePlaylistLoaded=function(t,e,n,a){var o=n.type,i=n.level,s=n.id,l=n.groupId,c=n.loader,d=n.levelDetails,u=n.deliveryDirectives;if(null!=d&&d.targetduration){if(c)switch(d.live&&(c.getCacheAge&&(d.ageHeader=c.getCacheAge()||0),c.getCacheAge&&!isNaN(d.ageHeader)||(d.ageHeader=0)),o){case O.a.MANIFEST:case O.a.LEVEL:this.hls.trigger(r.a.LEVEL_LOADED,{details:d,level:i||0,id:s||0,stats:e,networkDetails:a,deliveryDirectives:u});break;case O.a.AUDIO_TRACK:this.hls.trigger(r.a.AUDIO_TRACK_LOADED,{details:d,id:s||0,groupId:l||"",stats:e,networkDetails:a,deliveryDirectives:u});break;case O.a.SUBTITLE_TRACK:this.hls.trigger(r.a.SUBTITLE_TRACK_LOADED,{details:d,id:s||0,groupId:l||"",stats:e,networkDetails:a,deliveryDirectives:u})}}else this.handleManifestParsingError(t,n,"invalid target duration",a)},t}(),M=function(){function t(t){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=t,this.registerListeners()}var e=t.prototype;return e.startLoad=function(t){},e.stopLoad=function(){this.destroyInternalLoaders()},e.registerListeners=function(){this.hls.on(r.a.KEY_LOADING,this.onKeyLoading,this)},e.unregisterListeners=function(){this.hls.off(r.a.KEY_LOADING,this.onKeyLoading)},e.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={}},e.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},e.onKeyLoading=function(t,e){var n=e.frag,a=n.type,o=this.loaders[a];if(n.decryptdata){var i=n.decryptdata.uri;if(i!==this.decrypturl||null===this.decryptkey){var s=this.hls.config;if(o&&(l.b.warn("abort previous key loader for type:"+a),o.abort()),!i)return void l.b.warn("key uri is falsy");var c=s.loader,d=n.loader=this.loaders[a]=new c(s);this.decrypturl=i,this.decryptkey=null;var u={url:i,frag:n,responseType:"arraybuffer"},h={timeout:s.fragLoadingTimeOut,maxRetry:0,retryDelay:s.fragLoadingRetryDelay,maxRetryDelay:s.fragLoadingMaxRetryTimeout,highWaterMark:0},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};d.load(u,h,f)}else this.decryptkey&&(n.decryptdata.key=this.decryptkey,this.hls.trigger(r.a.KEY_LOADED,{frag:n}))}else l.b.warn("Missing decryption data on fragment in onKeyLoading")},e.loadsuccess=function(t,e,n){var a=n.frag;a.decryptdata?(this.decryptkey=a.decryptdata.key=new Uint8Array(t.data),a.loader=null,delete this.loaders[a.type],this.hls.trigger(r.a.KEY_LOADED,{frag:a})):l.b.error("after key load, decryptdata unset")},e.loaderror=function(t,e){var n=e.frag,a=n.loader;a&&a.abort(),delete this.loaders[n.type],this.hls.trigger(r.a.ERROR,{type:s.b.NETWORK_ERROR,details:s.a.KEY_LOAD_ERROR,fatal:!1,frag:n,response:t})},e.loadtimeout=function(t,e){var n=e.frag,a=n.loader;a&&a.abort(),delete this.loaders[n.type],this.hls.trigger(r.a.ERROR,{type:s.b.NETWORK_ERROR,details:s.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},t}();function N(t,e){var n;try{n=new Event("addtrack")}catch(t){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function B(t,e){var n=t.mode;if("disabled"===n&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error("addCue is failed for: "+e)}catch(n){l.b.debug("[texttrack-utils]: "+n);var a=new self.TextTrackCue(e.startTime,e.endTime,e.text);a.id=e.id,t.addCue(a)}"disabled"===n&&(t.mode=n)}function $(t){var e=t.mode;if("disabled"===e&&(t.mode="hidden"),t.cues)for(var n=t.cues.length;n--;)t.removeCue(t.cues[n]);"disabled"===e&&(t.mode=e)}function P(t,e,n,a){var o=t.mode;if("disabled"===o&&(t.mode="hidden"),t.cues&&t.cues.length>0)for(var i=function(t,e,n){var a=[],o=function(t,e){if(e<t[0].startTime)return 0;var n=t.length-1;if(e>t[n].endTime)return-1;for(var a=0,o=n;a<=o;){var i=Math.floor((o+a)/2);if(e<t[i].startTime)o=i-1;else{if(!(e>t[i].startTime&&a<n))return i;a=i+1}}return t[a].startTime-e<e-t[o].startTime?a:o}(t,e);if(o>-1)for(var i=o,r=t.length;i<r;i++){var s=t[i];if(s.startTime>=e&&s.endTime<=n)a.push(s);else if(s.startTime>n)return a}return a}(t.cues,e,n),r=0;r<i.length;r++)a&&!a(i[r])||t.removeCue(i[r]);"disabled"===o&&(t.mode=o)}var j=n(7),z=n(8);function G(){return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}function U(t,e){return t.getTime()/1e3-e}var H=function(){function t(t){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=t,this._registerListeners()}var e=t.prototype;return e.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},e._registerListeners=function(){var t=this.hls;t.on(r.a.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(r.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(r.a.MANIFEST_LOADING,this.onManifestLoading,this),t.on(r.a.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(r.a.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(r.a.LEVEL_UPDATED,this.onLevelUpdated,this)},e._unregisterListeners=function(){var t=this.hls;t.off(r.a.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(r.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(r.a.MANIFEST_LOADING,this.onManifestLoading,this),t.off(r.a.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(r.a.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(r.a.LEVEL_UPDATED,this.onLevelUpdated,this)},e.onMediaAttached=function(t,e){this.media=e.media},e.onMediaDetaching=function(){this.id3Track&&($(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},e.onManifestLoading=function(){this.dateRangeCuesAppended={}},e.createTrack=function(t){var e=this.getID3Track(t.textTracks);return e.mode="hidden",e},e.getID3Track=function(t){if(this.media){for(var e=0;e<t.length;e++){var n=t[e];if("metadata"===n.kind&&"id3"===n.label)return N(n,this.media),n}return this.media.addTextTrack("metadata","id3")}},e.onFragParsingMetadata=function(t,e){if(this.media){var n=this.hls.config,a=n.enableEmsgMetadataCues,o=n.enableID3MetadataCues;if(a||o){var i=e.frag,r=e.samples,s=e.details;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var l=s.edge||i.end,c=G(),d=!1,u={},h=0;h<r.length;h++){var f=r[h].type;if((f!==z.a.emsg||a)&&o){var p=j.c(r[h].data);if(p){var m=r[h].pts,g=l;g-m<=0&&(g=m+.25);for(var b=0;b<p.length;b++){var v=p[b];if(!j.e(v)){var _=new c(m,g,"");_.value=v,f&&(_.type=f),this.id3Track.addCue(_),u[v.key]=null,d=!0}}}}}d&&this.updateId3CueEnds(u)}}},e.updateId3CueEnds=function(t){var e,n=null===(e=this.id3Track)||void 0===e?void 0:e.cues;if(n)for(var a=n.length;a--;){var o,i=n[a],r=null===(o=i.value)||void 0===o?void 0:o.key;if(r&&r in t){var s=t[r];s&&i.endTime!==s&&(i.endTime=s),t[r]=i.startTime}}},e.onBufferFlushing=function(t,e){var n=e.startOffset,a=e.endOffset,o=e.type,i=this.id3Track,r=this.hls;if(r){var s=r.config,l=s.enableEmsgMetadataCues,c=s.enableID3MetadataCues;i&&(l||c)&&P(i,n,a,"audio"===o?function(t){return t.type===z.a.audioId3&&c}:"video"===o?function(t){return t.type===z.a.emsg&&l}:function(t){return t.type===z.a.audioId3&&c||t.type===z.a.emsg&&l})}},e.onLevelUpdated=function(t,e){var n=this,o=e.details;if(this.media&&o.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var r=this.dateRangeCuesAppended,s=this.id3Track,l=o.dateRanges,c=Object.keys(l);if(s)for(var d=Object.keys(r).filter((function(t){return!c.includes(t)})),u=function(t){var e=d[t];Object.keys(r[e].cues).forEach((function(t){s.removeCue(r[e].cues[t])})),delete r[e]},h=d.length;h--;)u(h);var f=o.fragments[o.fragments.length-1];if(0!==c.length&&Object(i.a)(null==f?void 0:f.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var p=f.programDateTime/1e3-f.start,m=o.edge||f.end,g=G(),b=function(t){var e=c[t],o=l[e],i=r[e],s=(null==i?void 0:i.cues)||{},d=(null==i?void 0:i.durationKnown)||!1,u=U(o.startDate,p),h=m,f=o.endDate;if(f)h=U(f,p),d=!0;else if(o.endOnNext&&!d){var b=c.reduce((function(t,e){var n=l[e];return n.class===o.class&&n.id!==e&&n.startDate>o.startDate&&t.push(n),t}),[]).sort((function(t,e){return t.startDate.getTime()-e.startDate.getTime()}))[0];b&&(h=U(b.startDate,p),d=!0)}for(var v,_=Object.keys(o.attr),y=0;y<_.length;y++){var k=_[y];if(k!==a.ID&&k!==a.CLASS&&k!==a.START_DATE&&k!==a.DURATION&&k!==a.END_DATE&&k!==a.END_ON_NEXT){var w=s[k];if(w)d&&!i.durationKnown&&(w.endTime=h);else{var x=o.attr[k];w=new g(u,h,""),k!==a.SCTE35_OUT&&k!==a.SCTE35_IN||(v=x,x=Uint8Array.from(v.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer),w.value={key:k,data:x},w.type=z.a.dateRange,n.id3Track.addCue(w),s[k]=w}}}r[e]={cues:s,dateRange:o,durationKnown:d}},v=0;v<c.length;v++)b(v)}}},t}();function q(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var W,V=function(){function t(t){var e=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return e.timeupdate()},this.hls=t,this.config=t.config,this.registerListeners()}var e,n,a,o=t.prototype;return o.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},o.registerListeners=function(){this.hls.on(r.a.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(r.a.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(r.a.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(r.a.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(r.a.ERROR,this.onError,this)},o.unregisterListeners=function(){this.hls.off(r.a.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(r.a.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(r.a.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(r.a.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(r.a.ERROR,this.onError)},o.onMediaAttached=function(t,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},o.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},o.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},o.onLevelUpdated=function(t,e){var n=e.details;this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},o.onError=function(t,e){e.details===s.a.BUFFER_STALLED_ERROR&&(this.stallCount++,l.b.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},o.timeupdate=function(){var t=this.media,e=this.levelDetails;if(t&&e){this.currentTime=t.currentTime;var n=this.computeLatency();if(null!==n){this._latency=n;var a=this.config,o=a.lowLatencyMode,i=a.maxLiveSyncPlaybackRate;if(o&&1!==i){var r=this.targetLatency;if(null!==r){var s=n-r,l=s<Math.min(this.maxLatency,r+e.targetduration);if(e.live&&l&&s>.05&&this.forwardBufferLength>1){var c=Math.min(2,Math.max(1,i)),d=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;t.playbackRate=Math.min(c,Math.max(1,d))}else 1!==t.playbackRate&&0!==t.playbackRate&&(t.playbackRate=1)}}}}},o.estimateLiveEdge=function(){var t=this.levelDetails;return null===t?null:t.edge+t.age},o.computeLatency=function(){var t=this.estimateLiveEdge();return null===t?null:t-this.currentTime},e=t,(n=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var t=this.config,e=this.levelDetails;return void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:e?t.liveMaxLatencyDurationCount*e.targetduration:0}},{key:"targetLatency",get:function(){var t=this.levelDetails;if(null===t)return null;var e=t.holdBack,n=t.partHoldBack,a=t.targetduration,o=this.config,i=o.liveSyncDuration,r=o.liveSyncDurationCount,s=o.lowLatencyMode,l=this.hls.userConfig,c=s&&n||e;(l.liveSyncDuration||l.liveSyncDurationCount||0===c)&&(c=void 0!==i?i:r*a);var d=a;return c+Math.min(1*this.stallCount,d)}},{key:"liveSyncPosition",get:function(){var t=this.estimateLiveEdge(),e=this.targetLatency,n=this.levelDetails;if(null===t||null===e||null===n)return null;var a=n.edge,o=t-e-this.edgeStalled,i=a-n.totalduration,r=a-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(i,o),r)}},{key:"drift",get:function(){var t=this.levelDetails;return null===t?1:t.drift}},{key:"edgeStalled",get:function(){var t=this.levelDetails;if(null===t)return 0;var e=3*(this.config.lowLatencyMode&&t.partTarget||t.targetduration);return Math.max(t.age-e,0)}},{key:"forwardBufferLength",get:function(){var t=this.media,e=this.levelDetails;if(!t||!e)return 0;var n=t.buffered.length;return(n?t.buffered.end(n-1):e.edge)-this.currentTime}}])&&q(e.prototype,n),a&&q(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();function K(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}!function(t){t.No="",t.Yes="YES",t.v2="v2"}(W||(W={}));var Y=function(){function t(t,e,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=e,this.skip=n}return t.prototype.addDirectives=function(t){var e=new self.URL(t);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.toString()},t}(),X=function(){function t(t){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[t.url],this.attrs=t.attrs,this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.unknownCodecs=t.unknownCodecs,this.codecSet=[t.videoCodec,t.audioCodec].filter((function(t){return t})).join(",").replace(/\.[^.,]+/g,"")}var e,n,a;return e=t,(n=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(t){var e=t%this.url.length;this._urlId!==e&&(this.details=void 0,this._urlId=e)}}])&&K(e.prototype,n),a&&K(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Z(){return(Z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function J(t,e,n){switch(e){case"audio":t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds.push(n);break;case"text":t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds.push(n)}}function Q(t){var e={};t.forEach((function(t){var n=t.groupId||"";t.id=e[n]=e[n]||0,e[n]++}))}function tt(t,e){var n=e.startPTS;if(Object(i.a)(n)){var a,o=0;e.sn>t.sn?(o=n-t.start,a=t):(o=t.start-n,a=e),a.duration!==o&&(a.duration=o)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0)}function et(t,e,n,a,o,r){a-n<=0&&(l.b.warn("Fragment should have a positive duration",e),a=n+e.duration,r=o+e.duration);var s=n,c=a,d=e.startPTS,u=e.endPTS;if(Object(i.a)(d)){var h=Math.abs(d-n);Object(i.a)(e.deltaPTS)?e.deltaPTS=Math.max(h,e.deltaPTS):e.deltaPTS=h,s=Math.max(n,d),n=Math.min(n,d),o=Math.min(o,e.startDTS),c=Math.min(a,u),a=Math.max(a,u),r=Math.max(r,e.endDTS)}e.duration=a-n;var f=n-e.start;e.appendedPTS=a,e.start=e.startPTS=n,e.maxStartPTS=s,e.startDTS=o,e.endPTS=a,e.minEndPTS=c,e.endDTS=r;var p,m=e.sn;if(!t||m<t.startSN||m>t.endSN)return 0;var g=m-t.startSN,b=t.fragments;for(b[g]=e,p=g;p>0;p--)tt(b[p],b[p-1]);for(p=g;p<b.length-1;p++)tt(b[p],b[p+1]);return t.fragmentHint&&tt(b[b.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,f}function nt(t,e){for(var n=null,a=t.fragments,o=a.length-1;o>=0;o--){var r=a[o].initSegment;if(r){n=r;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;var s,c=0;if(function(t,e,n){for(var a=e.skippedSegments,o=Math.max(t.startSN,e.startSN)-e.startSN,i=(t.fragmentHint?1:0)+(a?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,r=e.startSN-t.startSN,s=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,c=o;c<=i;c++){var d=l[r+c],u=s[c];a&&!u&&c<a&&(u=e.fragments[c]=d),d&&u&&n(d,u)}}(t,e,(function(t,a){t.relurl&&(c=t.cc-a.cc),Object(i.a)(t.startPTS)&&Object(i.a)(t.endPTS)&&(a.start=a.startPTS=t.startPTS,a.startDTS=t.startDTS,a.appendedPTS=t.appendedPTS,a.maxStartPTS=t.maxStartPTS,a.endPTS=t.endPTS,a.endDTS=t.endDTS,a.minEndPTS=t.minEndPTS,a.duration=t.endPTS-t.startPTS,a.duration&&(s=a),e.PTSKnown=e.alignedSliding=!0),a.elementaryStreams=t.elementaryStreams,a.loader=t.loader,a.stats=t.stats,a.urlId=t.urlId,t.initSegment&&(a.initSegment=t.initSegment,n=t.initSegment)})),n&&(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach((function(t){var e;t.initSegment&&t.initSegment.relurl!==(null===(e=n)||void 0===e?void 0:e.relurl)||(t.initSegment=n)})),e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some((function(t){return!t})),e.deltaUpdateFailed){l.b.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var d=e.skippedSegments;d--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=function(t,e,n){var a=Z({},t);return n&&n.forEach((function(t){delete a[t]})),Object.keys(e).forEach((function(t){var n=new m(e[t].attr,a[t]);n.isValid?a[t]=n:l.b.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(e[t].attr)+'"')})),a}(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));var u=e.fragments;if(c){l.b.warn("discontinuity sliding from playlist, take drift into account");for(var h=0;h<u.length;h++)u[h].cc+=c}e.skippedSegments&&(e.startCC=e.fragments[0].cc),function(t,e,n){if(t&&e)for(var a=0,o=0,i=t.length;o<=i;o++){var r=t[o],s=e[o+a];r&&s&&r.index===s.index&&r.fragment.sn===s.fragment.sn?n(r,s):a--}}(t.partList,e.partList,(function(t,e){e.elementaryStreams=t.elementaryStreams,e.stats=t.stats})),s?et(e,s,s.startPTS,s.endPTS,s.startDTS,s.endDTS):at(t,e),u.length&&(e.totalduration=e.edge-u[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;var f=e.advancedDateTime;if(e.advanced&&f){var p=e.edge;e.driftStart||(e.driftStartTime=f,e.driftStart=p),e.driftEndTime=f,e.driftEnd=p}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function at(t,e){var n=e.startSN+e.skippedSegments-t.startSN,a=t.fragments;n<0||n>=a.length||ot(e,a[n].start)}function ot(t,e){if(e){for(var n=t.fragments,a=t.skippedSegments;a<n.length;a++)n[a].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}var it=function(){function t(t,e){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=l.b.log.bind(l.b,e+":"),this.warn=l.b.warn.bind(l.b,e+":"),this.hls=t}var e=t.prototype;return e.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},e.onError=function(t,e){e.fatal&&e.type===s.b.NETWORK_ERROR&&this.clearTimer()},e.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},e.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},e.stopLoad=function(){this.canLoad=!1,this.clearTimer()},e.switchParams=function(t,e){var n=null==e?void 0:e.renditionReports;if(n)for(var a=0;a<n.length;a++){var o=n[a],r=""+o.URI;if(r===t.slice(-r.length)){var s=parseInt(o["LAST-MSN"]),l=parseInt(o["LAST-PART"]);if(e&&this.hls.config.lowLatencyMode){var c=Math.min(e.age-e.partTarget,e.targetduration);void 0!==l&&c>e.partTarget&&(l+=1)}if(Object(i.a)(s))return new Y(s,Object(i.a)(l)?l:void 0,W.No)}}},e.loadPlaylist=function(t){},e.shouldLoadTrack=function(t){return this.canLoad&&t&&!!t.url&&(!t.details||t.details.live)},e.playlistLoaded=function(t,e,n){var a=this,o=e.details,i=e.stats,r=i.loading.end?Math.max(0,self.performance.now()-i.loading.end):0;if(o.advancedDateTime=Date.now()-r,o.live||null!=n&&n.live){if(o.reloaded(n),n&&this.log("live playlist "+t+" "+(o.advanced?"REFRESHED "+o.lastPartSn+"-"+o.lastPartIndex:"MISSED")),n&&o.fragments.length>0&&nt(n,o),!this.canLoad||!o.live)return;var s,l=void 0,c=void 0;if(o.canBlockReload&&o.endSN&&o.advanced){var d=this.hls.config.lowLatencyMode,u=o.lastPartSn,h=o.endSN,f=o.lastPartIndex,p=u===h;-1!==f?(l=p?h+1:u,c=p?d?0:f:f+1):l=h+1;var m=o.age,g=m+o.ageHeader,b=Math.min(g-o.partTarget,1.5*o.targetduration);if(b>0){if(n&&b>n.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+n.tuneInGoal+" to: "+b+" with playlist age: "+o.age),b=0;else{var v=Math.floor(b/o.targetduration);l+=v,void 0!==c&&(c+=Math.round(b%o.targetduration/o.partTarget)),this.log("CDN Tune-in age: "+o.ageHeader+"s last advanced "+m.toFixed(2)+"s goal: "+b+" skip sn "+v+" to part "+c)}o.tuneInGoal=b}if(s=this.getDeliveryDirectives(o,e.deliveryDirectives,l,c),d||!p)return void this.loadPlaylist(s)}else s=this.getDeliveryDirectives(o,e.deliveryDirectives,l,c);var _=function(t,e){var n,a=1e3*t.levelTargetDuration,o=a/2,i=t.age,r=i>0&&i<3*a,s=e.loading.end-e.loading.start,l=t.availabilityDelay;if(!1===t.updated)if(r){var c=333*t.misses;n=Math.max(Math.min(o,2*s),c),t.availabilityDelay=(t.availabilityDelay||0)+n}else n=o;else r?(l=Math.min(l||a/2,i),t.availabilityDelay=l,n=l+a-i):n=a-s;return Math.round(n)}(o,i);void 0!==l&&o.canBlockReload&&(_-=o.partTarget||1),this.log("reload live playlist "+t+" in "+Math.round(_)+" ms"),this.timer=self.setTimeout((function(){return a.loadPlaylist(s)}),_)}else this.clearTimer()},e.getDeliveryDirectives=function(t,e,n,a){var o=function(t,e){var n=t.canSkipUntil,a=t.canSkipDateRanges,o=t.endSN;return n&&(void 0!==e?e-o:0)<n?a?W.v2:W.Yes:W.No}(t,n);return null!=e&&e.skip&&t.deltaUpdateFailed&&(n=e.msn,a=e.part,o=W.No),new Y(n,a,o)},e.retryLoadingOrFail=function(t){var e,n=this,a=this.hls.config,o=this.retryCount<a.levelLoadingMaxRetry;if(o)if(this.retryCount++,t.details.indexOf("LoadTimeOut")>-1&&null!==(e=t.context)&&void 0!==e&&e.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+t.details+'"'),this.loadPlaylist();else{var i=Math.min(Math.pow(2,this.retryCount)*a.levelLoadingRetryDelay,a.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout((function(){return n.loadPlaylist()}),i),this.warn("retry playlist loading #"+this.retryCount+" in "+i+' ms after "'+t.details+'"')}else this.warn('cannot recover from error "'+t.details+'"'),this.clearTimer(),t.fatal=!0;return o},t}();function rt(){return(rt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function st(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function lt(t,e){return(lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var ct,dt=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),ut=function(t){var e,n;function a(e){var n;return(n=t.call(this,e,"[level-controller]")||this)._levels=[],n._firstLevel=-1,n._startLevel=void 0,n.currentLevelIndex=-1,n.manualLevelIndex=-1,n.onParsedComplete=void 0,n._registerListeners(),n}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,lt(e,n);var o,i,l,c=a.prototype;return c._registerListeners=function(){var t=this.hls;t.on(r.a.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(r.a.LEVEL_LOADED,this.onLevelLoaded,this),t.on(r.a.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(r.a.FRAG_LOADED,this.onFragLoaded,this),t.on(r.a.ERROR,this.onError,this)},c._unregisterListeners=function(){var t=this.hls;t.off(r.a.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(r.a.LEVEL_LOADED,this.onLevelLoaded,this),t.off(r.a.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(r.a.FRAG_LOADED,this.onFragLoaded,this),t.off(r.a.ERROR,this.onError,this)},c.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,t.prototype.destroy.call(this)},c.startLoad=function(){this._levels.forEach((function(t){t.loadError=0})),t.prototype.startLoad.call(this)},c.onManifestLoaded=function(t,e){var n,a,o=[],i=[],l=[],c={},d=!1,u=!1,h=!1;if(e.levels.forEach((function(t){var e=t.attrs;d=d||!(!t.width||!t.height),u=u||!!t.videoCodec,h=h||!!t.audioCodec,dt&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0);var n=t.bitrate+"-"+t.attrs.RESOLUTION+"-"+t.attrs.CODECS;(a=c[n])?a.url.push(t.url):(a=new X(t),c[n]=a,o.push(a)),e&&(e.AUDIO&&J(a,"audio",e.AUDIO),e.SUBTITLES&&J(a,"text",e.SUBTITLES))})),(d||u)&&h&&(o=o.filter((function(t){var e=t.videoCodec,n=t.width,a=t.height;return!!e||!(!n||!a)}))),o=o.filter((function(t){var e=t.audioCodec,n=t.videoCodec;return(!e||k(e,"audio"))&&(!n||k(n,"video"))})),e.audioTracks&&Q(i=e.audioTracks.filter((function(t){return!t.audioCodec||k(t.audioCodec,"audio")}))),e.subtitles&&Q(l=e.subtitles),o.length>0){n=o[0].bitrate,o.sort((function(t,e){return t.bitrate-e.bitrate})),this._levels=o;for(var f=0;f<o.length;f++)if(o[f].bitrate===n){this._firstLevel=f,this.log("manifest loaded, "+o.length+" level(s) found, first bitrate: "+n);break}var p=h&&!u,m={levels:o,audioTracks:i,subtitleTracks:l,firstLevel:this._firstLevel,stats:e.stats,audio:h,video:u,altAudio:!p&&i.some((function(t){return!!t.url}))};this.hls.trigger(r.a.MANIFEST_PARSED,m),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(r.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,reason:"no level with compatible codecs found in manifest"})},c.onError=function(e,n){var a;if(t.prototype.onError.call(this,e,n),!n.fatal){var o=n.context,i=this._levels[this.currentLevelIndex];if(o&&(o.type===O.a.AUDIO_TRACK&&i.audioGroupIds&&o.groupId===i.audioGroupIds[i.urlId]||o.type===O.a.SUBTITLE_TRACK&&i.textGroupIds&&o.groupId===i.textGroupIds[i.urlId]))this.redundantFailover(this.currentLevelIndex);else{var r,l=!1,c=!0;switch(n.details){case s.a.FRAG_LOAD_ERROR:case s.a.FRAG_LOAD_TIMEOUT:case s.a.KEY_LOAD_ERROR:case s.a.KEY_LOAD_TIMEOUT:if(n.frag){var d=n.frag.type===O.b.MAIN?n.frag.level:this.currentLevelIndex,u=this._levels[d];u?(u.fragmentError++,u.fragmentError>this.hls.config.fragLoadingMaxRetry&&(r=d)):r=d}break;case s.a.LEVEL_LOAD_ERROR:case s.a.LEVEL_LOAD_TIMEOUT:o&&(o.deliveryDirectives&&(c=!1),r=o.level),l=!0;break;case s.a.REMUX_ALLOC_ERROR:r=null!=(a=n.level)?a:this.currentLevelIndex,l=!0}void 0!==r&&this.recoverLevel(n,r,l,c)}}},c.recoverLevel=function(t,e,n,a){var o=t.details,i=this._levels[e];if(i.loadError++,n){if(!this.retryLoadingOrFail(t))return void(this.currentLevelIndex=-1);t.levelRetry=!0}if(a){var r=i.url.length;if(r>1&&i.loadError<r)t.levelRetry=!0,this.redundantFailover(e);else if(-1===this.manualLevelIndex){for(var s=-1,l=this._levels,c=l.length;c--;){var d=(c+this.currentLevelIndex)%l.length;if(d!==this.currentLevelIndex&&0===l[d].loadError){s=d;break}}s>-1&&this.currentLevelIndex!==s&&(this.warn(o+": switch to "+s),t.levelRetry=!0,this.hls.nextAutoLevel=s)}}},c.redundantFailover=function(t){var e=this._levels[t],n=e.url.length;if(n>1){var a=(e.urlId+1)%n;this.warn("Switching to redundant URL-id "+a),this._levels.forEach((function(t){t.urlId=a})),this.level=t}},c.onFragLoaded=function(t,e){var n=e.frag;if(void 0!==n&&n.type===O.b.MAIN){var a=this._levels[n.level];void 0!==a&&(a.fragmentError=0,a.loadError=0)}},c.onLevelLoaded=function(t,e){var n,a,o=e.level,i=e.details,r=this._levels[o];if(!r)return this.warn("Invalid level index "+o),void(null!==(a=e.deliveryDirectives)&&void 0!==a&&a.skip&&(i.deltaUpdateFailed=!0));o===this.currentLevelIndex?(0===r.fragmentError&&(r.loadError=0,this.retryCount=0),this.playlistLoaded(o,e,r.details)):null!==(n=e.deliveryDirectives)&&void 0!==n&&n.skip&&(i.deltaUpdateFailed=!0)},c.onAudioTrackSwitched=function(t,e){var n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var a=-1,o=this.hls.audioTracks[e.id].groupId,i=0;i<n.audioGroupIds.length;i++)if(n.audioGroupIds[i]===o){a=i;break}a!==n.urlId&&(n.urlId=a,this.startLoad())}},c.loadPlaylist=function(t){var e=this.currentLevelIndex,n=this._levels[e];if(this.canLoad&&n&&n.url.length>0){var a=n.urlId,o=n.url[a];if(t)try{o=t.addDirectives(o)}catch(t){this.warn("Could not construct new URL with HLS Delivery Directives: "+t)}this.log("Attempt loading level index "+e+(t?" at sn "+t.msn+" part "+t.part:"")+" with URL-id "+a+" "+o),this.clearTimer(),this.hls.trigger(r.a.LEVEL_LOADING,{url:o,level:e,id:a,deliveryDirectives:t||null})}},c.removeLevel=function(t,e){var n=function(t,n){return n!==e},a=this._levels.filter((function(a,o){return o!==t||a.url.length>1&&void 0!==e&&(a.url=a.url.filter(n),a.audioGroupIds&&(a.audioGroupIds=a.audioGroupIds.filter(n)),a.textGroupIds&&(a.textGroupIds=a.textGroupIds.filter(n)),a.urlId=0,!0)})).map((function(t,e){var n=t.details;return null!=n&&n.fragments&&n.fragments.forEach((function(t){t.level=e})),t}));this._levels=a,this.hls.trigger(r.a.LEVELS_UPDATED,{levels:a})},o=a,(i=[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e,n=this._levels;if(0!==n.length&&(this.currentLevelIndex!==t||null===(e=n[t])||void 0===e||!e.details)){if(t<0||t>=n.length){var a=t<0;if(this.hls.trigger(r.a.ERROR,{type:s.b.OTHER_ERROR,details:s.a.LEVEL_SWITCH_ERROR,level:t,fatal:a,reason:"invalid level idx"}),a)return;t=Math.min(t,n.length-1)}this.clearTimer();var o=this.currentLevelIndex,i=n[o],l=n[t];this.log("switching to level "+t+" from "+o),this.currentLevelIndex=t;var c=rt({},l,{level:t,maxBitrate:l.maxBitrate,uri:l.uri,urlId:l.urlId});delete c._urlId,this.hls.trigger(r.a.LEVEL_SWITCHING,c);var d=l.details;if(!d||d.live){var u=this.switchParams(l.uri,null==i?void 0:i.details);this.loadPlaylist(u)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}])&&st(o.prototype,i),l&&st(o,l),Object.defineProperty(o,"prototype",{writable:!1}),a}(it);!function(t){t.NOT_LOADED="NOT_LOADED",t.APPENDING="APPENDING",t.PARTIAL="PARTIAL",t.OK="OK"}(ct||(ct={}));var ht=function(){function t(t){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=t,this._registerListeners()}var e=t.prototype;return e._registerListeners=function(){var t=this.hls;t.on(r.a.BUFFER_APPENDED,this.onBufferAppended,this),t.on(r.a.FRAG_BUFFERED,this.onFragBuffered,this),t.on(r.a.FRAG_LOADED,this.onFragLoaded,this)},e._unregisterListeners=function(){var t=this.hls;t.off(r.a.BUFFER_APPENDED,this.onBufferAppended,this),t.off(r.a.FRAG_BUFFERED,this.onFragBuffered,this),t.off(r.a.FRAG_LOADED,this.onFragLoaded,this)},e.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},e.getAppendedFrag=function(t,e){if(e===O.b.MAIN){var n=this.activeFragment,a=this.activeParts;if(!n)return null;if(a)for(var o=a.length;o--;){var i=a[o],r=i?i.end:n.appendedPTS;if(i.start<=t&&void 0!==r&&t<=r)return o>9&&(this.activeParts=a.slice(o-9)),i}else if(n.start<=t&&void 0!==n.appendedPTS&&t<=n.appendedPTS)return n}return this.getBufferedFrag(t,e)},e.getBufferedFrag=function(t,e){for(var n=this.fragments,a=Object.keys(n),o=a.length;o--;){var i=n[a[o]];if((null==i?void 0:i.body.type)===e&&i.buffered){var r=i.body;if(r.start<=t&&t<=r.end)return r}}return null},e.detectEvictedFragments=function(t,e,n){var a=this;Object.keys(this.fragments).forEach((function(o){var i=a.fragments[o];if(i)if(i.buffered){var r=i.range[t];r&&r.time.some((function(t){var n=!a.isTimeBuffered(t.startPTS,t.endPTS,e);return n&&a.removeFragment(i.body),n}))}else i.body.type===n&&a.removeFragment(i.body)}))},e.detectPartialFragments=function(t){var e=this,n=this.timeRanges,a=t.frag,o=t.part;if(n&&"initSegment"!==a.sn){var i=pt(a),r=this.fragments[i];r&&(Object.keys(n).forEach((function(t){var i=a.elementaryStreams[t];if(i){var s=n[t],l=null!==o||!0===i.partial;r.range[t]=e.getBufferedTimes(a,o,l,s)}})),r.loaded=null,Object.keys(r.range).length?r.buffered=!0:this.removeFragment(r.body))}},e.fragBuffered=function(t){var e=pt(t),n=this.fragments[e];n&&(n.loaded=null,n.buffered=!0)},e.getBufferedTimes=function(t,e,n,a){for(var o={time:[],partial:n},i=e?e.start:t.start,r=e?e.end:t.end,s=t.minEndPTS||r,l=t.maxStartPTS||i,c=0;c<a.length;c++){var d=a.start(c)-this.bufferPadding,u=a.end(c)+this.bufferPadding;if(l>=d&&s<=u){o.time.push({startPTS:Math.max(i,a.start(c)),endPTS:Math.min(r,a.end(c))});break}if(i<u&&r>d)o.partial=!0,o.time.push({startPTS:Math.max(i,a.start(c)),endPTS:Math.min(r,a.end(c))});else if(r<=d)break}return o},e.getPartialFragment=function(t){var e,n,a,o=null,i=0,r=this.bufferPadding,s=this.fragments;return Object.keys(s).forEach((function(l){var c=s[l];c&&ft(c)&&(n=c.body.start-r,a=c.body.end+r,t>=n&&t<=a&&(e=Math.min(t-n,a-t),i<=e&&(o=c.body,i=e)))})),o},e.getState=function(t){var e=pt(t),n=this.fragments[e];return n?n.buffered?ft(n)?ct.PARTIAL:ct.OK:ct.APPENDING:ct.NOT_LOADED},e.isTimeBuffered=function(t,e,n){for(var a,o,i=0;i<n.length;i++){if(a=n.start(i)-this.bufferPadding,o=n.end(i)+this.bufferPadding,t>=a&&e<=o)return!0;if(e<=a)return!1}return!1},e.onFragLoaded=function(t,e){var n=e.frag,a=e.part;if("initSegment"!==n.sn&&!n.bitrateTest&&!a){var o=pt(n);this.fragments[o]={body:n,loaded:e,buffered:!1,range:Object.create(null)}}},e.onBufferAppended=function(t,e){var n=this,a=e.frag,o=e.part,i=e.timeRanges;if(a.type===O.b.MAIN)if(this.activeFragment=a,o){var r=this.activeParts;r||(this.activeParts=r=[]),r.push(o)}else this.activeParts=null;this.timeRanges=i,Object.keys(i).forEach((function(t){var e=i[t];if(n.detectEvictedFragments(t,e),!o)for(var r=0;r<e.length;r++)a.appendedPTS=Math.max(e.end(r),a.appendedPTS||0)}))},e.onFragBuffered=function(t,e){this.detectPartialFragments(e)},e.hasFragment=function(t){var e=pt(t);return!!this.fragments[e]},e.removeFragmentsInRange=function(t,e,n){var a=this;Object.keys(this.fragments).forEach((function(o){var i=a.fragments[o];if(i&&i.buffered){var r=i.body;r.type===n&&r.start<e&&r.end>t&&a.removeFragment(r)}}))},e.removeFragment=function(t){var e=pt(t);t.stats.loaded=0,t.clearElementaryStreamInfo(),delete this.fragments[e]},e.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},t}();function ft(t){var e,n;return t.buffered&&((null===(e=t.range.video)||void 0===e?void 0:e.partial)||(null===(n=t.range.audio)||void 0===n?void 0:n.partial))}function pt(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn}var mt=function(){function t(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var e=t.prototype;return e.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},e.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},e.onHandlerDestroyed=function(){},e.hasInterval=function(){return!!this._tickInterval},e.hasNextTick=function(){return!!this._tickTimer},e.setInterval=function(t){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,t),!0)},e.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},e.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},e.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},e.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},e.doTick=function(){},t}(),gt={length:0,start:function(){return 0},end:function(){return 0}},bt=function(){function t(){}return t.isBuffered=function(e,n){try{if(e)for(var a=t.getBuffered(e),o=0;o<a.length;o++)if(n>=a.start(o)&&n<=a.end(o))return!0}catch(t){}return!1},t.bufferInfo=function(e,n,a){try{if(e){var o,i=t.getBuffered(e),r=[];for(o=0;o<i.length;o++)r.push({start:i.start(o),end:i.end(o)});return this.bufferedInfo(r,n,a)}}catch(t){}return{len:0,start:n,end:n,nextStart:void 0}},t.bufferedInfo=function(t,e,n){e=Math.max(0,e),t.sort((function(t,e){return t.start-e.start||e.end-t.end}));var a=[];if(n)for(var o=0;o<t.length;o++){var i=a.length;if(i){var r=a[i-1].end;t[o].start-r<n?t[o].end>r&&(a[i-1].end=t[o].end):a.push(t[o])}else a.push(t[o])}else a=t;for(var s,l=0,c=e,d=e,u=0;u<a.length;u++){var h=a[u].start,f=a[u].end;if(e+n>=h&&e<f)c=h,l=(d=f)-e;else if(e+n<h){s=h;break}}return{len:l,start:c||0,end:d||0,nextStart:s}},t.getBuffered=function(t){try{return t.buffered}catch(t){return l.b.log("failed to get media.buffered",t),gt}},t}(),vt=function(t,e,n,a,o,i){void 0===a&&(a=0),void 0===o&&(o=-1),void 0===i&&(i=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=t,this.sn=e,this.id=n,this.size=a,this.part=o,this.partial=i};function _t(t,e){if(t){var n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}function yt(t,e){for(var n=e.fragments,a=0,o=n.length;a<o;a++)_t(n[a],t);e.fragmentHint&&_t(e.fragmentHint,t),e.alignedSliding=!0}function kt(t,e,n){e&&(function(t,e,n){if(function(t,e,n){return!(!e.details||!(n.endCC>n.startCC||t&&t.cc<n.startCC))}(t,n,e)){var a=function(t,e){var n=t.fragments,a=e.fragments;if(a.length&&n.length){var o=function(t,e){for(var n=null,a=0,o=t.length;a<o;a++){var i=t[a];if(i&&i.cc===e){n=i;break}}return n}(n,a[0].cc);if(o&&(!o||o.startPTS))return o;l.b.log("No frag in previous level to align on")}else l.b.log("No fragments to align")}(n.details,e);a&&Object(i.a)(a.start)&&(l.b.log("Adjusting PTS using last level due to CC increase within current level "+e.url),yt(a.start,e))}}(t,n,e),!n.alignedSliding&&e.details&&function(t,e){if(e.fragments.length&&t.hasProgramDateTime&&e.hasProgramDateTime){var n=e.fragments[0].programDateTime,a=t.fragments[0].programDateTime,o=(a-n)/1e3+e.fragments[0].start;o&&Object(i.a)(o)&&(l.b.log("Adjusting PTS using programDateTime delta "+(a-n)+"ms, sliding:"+o.toFixed(3)+" "+t.url+" "),yt(o,t))}}(n,e.details),n.alignedSliding||!e.details||n.skippedSegments||at(e.details,n))}function wt(t,e){var n=t.programDateTime;if(n){var a=(n-e)/1e3;t.start=t.startPTS=a,t.endPTS=a+t.duration}}function xt(t,e){if(e.fragments.length&&t.hasProgramDateTime&&e.hasProgramDateTime){var n=e.fragments[0].programDateTime-1e3*e.fragments[0].start;t.fragments.forEach((function(t){wt(t,n)})),t.fragmentHint&&wt(t.fragmentHint,n),t.alignedSliding=!0}}var Dt={search:function(t,e){for(var n=0,a=t.length-1,o=null,i=null;n<=a;){var r=e(i=t[o=(n+a)/2|0]);if(r>0)n=o+1;else{if(!(r<0))return i;a=o-1}}return null}};function At(t,e,n,a){void 0===n&&(n=0),void 0===a&&(a=0);var o=null;return t?o=e[t.sn-e[0].sn+1]||null:0===n&&0===e[0].start&&(o=e[0]),o&&0===Tt(n,a,o)?o:Dt.search(e,Tt.bind(null,n,a))||o}function Tt(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0);var a=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-a<=t?1:n.start-a>t&&n.start?-1:0}function Et(t,e,n){var a=1e3*Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-a>t}function Ct(t){var e="function"==typeof Map?new Map:void 0;return(Ct=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,a)}function a(){return St(t,arguments,Ot(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),It(a,t)})(t)}function St(t,e,n){return(St=Lt()?Reflect.construct.bind():function(t,e,n){var a=[null];a.push.apply(a,e);var o=new(Function.bind.apply(t,a));return n&&It(o,n.prototype),o}).apply(null,arguments)}function Lt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function It(t,e){return(It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ot(t){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ft=Math.pow(2,17),Rt=function(){function t(t){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}var e=t.prototype;return e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e.abort=function(){this.loader&&this.loader.abort()},e.load=function(t,e){var n=this,a=t.url;if(!a)return Promise.reject(new Nt({type:s.b.NETWORK_ERROR,details:s.a.FRAG_LOAD_ERROR,fatal:!1,frag:t,networkDetails:null},"Fragment does not have a "+(a?"part list":"url")));this.abort();var o=this.config,i=o.fLoader,r=o.loader;return new Promise((function(a,l){n.loader&&n.loader.destroy();var c=n.loader=t.loader=i?new i(o):new r(o),d=Mt(t),u={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:o.fragLoadingMaxRetryTimeout,highWaterMark:"initSegment"===t.sn?1/0:Ft};t.stats=c.stats,c.load(d,u,{onSuccess:function(e,o,i,r){n.resetLoader(t,c),a({frag:t,part:null,payload:e.data,networkDetails:r})},onError:function(e,a,o){n.resetLoader(t,c),l(new Nt({type:s.b.NETWORK_ERROR,details:s.a.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:e,networkDetails:o}))},onAbort:function(e,a,o){n.resetLoader(t,c),l(new Nt({type:s.b.NETWORK_ERROR,details:s.a.INTERNAL_ABORTED,fatal:!1,frag:t,networkDetails:o}))},onTimeout:function(e,a,o){n.resetLoader(t,c),l(new Nt({type:s.b.NETWORK_ERROR,details:s.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,networkDetails:o}))},onProgress:function(n,a,o,i){e&&e({frag:t,part:null,payload:o,networkDetails:i})}})}))},e.loadPart=function(t,e,n){var a=this;this.abort();var o=this.config,i=o.fLoader,r=o.loader;return new Promise((function(l,c){a.loader&&a.loader.destroy();var d=a.loader=t.loader=i?new i(o):new r(o),u=Mt(t,e),h={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:o.fragLoadingMaxRetryTimeout,highWaterMark:Ft};e.stats=d.stats,d.load(u,h,{onSuccess:function(o,i,r,s){a.resetLoader(t,d),a.updateStatsFromPart(t,e);var c={frag:t,part:e,payload:o.data,networkDetails:s};n(c),l(c)},onError:function(n,o,i){a.resetLoader(t,d),c(new Nt({type:s.b.NETWORK_ERROR,details:s.a.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:e,response:n,networkDetails:i}))},onAbort:function(n,o,i){t.stats.aborted=e.stats.aborted,a.resetLoader(t,d),c(new Nt({type:s.b.NETWORK_ERROR,details:s.a.INTERNAL_ABORTED,fatal:!1,frag:t,part:e,networkDetails:i}))},onTimeout:function(n,o,i){a.resetLoader(t,d),c(new Nt({type:s.b.NETWORK_ERROR,details:s.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:e,networkDetails:i}))}})}))},e.updateStatsFromPart=function(t,e){var n=t.stats,a=e.stats,o=a.total;if(n.loaded+=a.loaded,o){var i=Math.round(t.duration/e.duration),r=Math.min(Math.round(n.loaded/o),i),s=(i-r)*Math.round(n.loaded/r);n.total=n.loaded+s}else n.total=Math.max(n.loaded,n.total);var l=n.loading,c=a.loading;l.start?l.first+=c.first-c.start:(l.start=c.start,l.first=c.first),l.end=c.end},e.resetLoader=function(t,e){t.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()},t}();function Mt(t,e){void 0===e&&(e=null);var n=e||t,a={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},o=n.byteRangeStartOffset,r=n.byteRangeEndOffset;return Object(i.a)(o)&&Object(i.a)(r)&&(a.rangeStart=o,a.rangeEnd=r),a}var Nt=function(t){var e,n;function a(e){for(var n,a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).data=void 0,n.data=e,n}return n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,It(e,n),a}(Ct(Error)),Bt=n(16),$t={toString:function(t){for(var e="",n=t.length,a=0;a<n;a++)e+="["+t.start(a).toFixed(3)+","+t.end(a).toFixed(3)+"]";return e}};function Pt(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function jt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zt(t,e){return(zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Gt="STOPPED",Ut="IDLE",Ht="KEY_LOADING",qt="FRAG_LOADING",Wt="FRAG_LOADING_WAITING_RETRY",Vt="WAITING_TRACK",Kt="PARSING",Yt="PARSED",Xt="ENDED",Zt="ERROR",Jt="WAITING_INIT_PTS",Qt="WAITING_LEVEL",te=function(t){var e,n;function a(e,n,a){var o;return(o=t.call(this)||this).hls=void 0,o.fragPrevious=null,o.fragCurrent=null,o.fragmentTracker=void 0,o.transmuxer=null,o._state=Gt,o.media=null,o.mediaBuffer=null,o.config=void 0,o.bitrateTest=!1,o.lastCurrentTime=0,o.nextLoadPosition=0,o.startPosition=0,o.loadedmetadata=!1,o.fragLoadError=0,o.retryDate=0,o.levels=null,o.fragmentLoader=void 0,o.levelLastLoaded=null,o.startFragRequested=!1,o.decrypter=void 0,o.initPTS=[],o.onvseeking=null,o.onvended=null,o.logPrefix="",o.log=void 0,o.warn=void 0,o.logPrefix=a,o.log=l.b.log.bind(l.b,a+":"),o.warn=l.b.warn.bind(l.b,a+":"),o.hls=e,o.fragmentLoader=new Rt(e.config),o.fragmentTracker=n,o.config=e.config,o.decrypter=new Bt.a(e,e.config),e.on(r.a.KEY_LOADED,o.onKeyLoaded,jt(o)),e.on(r.a.LEVEL_SWITCHING,o.onLevelSwitching,jt(o)),o}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,zt(e,n);var o,d,u,h=a.prototype;return h.doTick=function(){this.onTickEnd()},h.onTickEnd=function(){},h.startLoad=function(t){},h.stopLoad=function(){this.fragmentLoader.abort();var t=this.fragCurrent;t&&this.fragmentTracker.removeFragment(t),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Gt},h._streamEnded=function(t,e){var n=this.fragCurrent,a=this.fragmentTracker;if(!e.live&&n&&this.media&&n.sn>=e.endSN&&!t.nextStart){var o=e.partList;if(null!=o&&o.length){var i=o[o.length-1];return bt.isBuffered(this.media,i.start+i.duration/2)}var r=a.getState(n);return r===ct.PARTIAL||r===ct.OK}return!1},h.onMediaAttached=function(t,e){var n=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);var a=this.config;this.levels&&a.autoStartLoad&&this.state===Gt&&this.startLoad(a.startPosition)},h.onMediaDetaching=function(){var t=this.media;null!=t&&t.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&this.onvseeking&&this.onvended&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},h.onMediaSeeking=function(){var t=this.config,e=this.fragCurrent,n=this.media,a=this.mediaBuffer,o=this.state,r=n?n.currentTime:0,s=bt.bufferInfo(a||n,r,t.maxBufferHole);if(this.log("media seeking to "+(Object(i.a)(r)?r.toFixed(3):r)+", state: "+o),o===Xt)this.resetLoadingState();else if(e&&!s.len){var l=t.maxFragLookUpTolerance,c=e.start-l,d=r>e.start+e.duration+l;(r<c||d)&&(d&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.loader.abort()),this.resetLoadingState())}n&&(this.lastCurrentTime=r),this.loadedmetadata||s.len||(this.nextLoadPosition=this.startPosition=r),this.tickImmediate()},h.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},h.onKeyLoaded=function(t,e){if(this.state===Ht&&e.frag===this.fragCurrent&&this.levels){this.state=Ut;var n=this.levels[e.frag.level].details;n&&this.loadFragment(e.frag,n,e.frag.start)}},h.onLevelSwitching=function(t,e){this.fragLoadError=0},h.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},h.onHandlerDestroyed=function(){this.state=Gt,this.hls.off(r.a.KEY_LOADED,this.onKeyLoaded,this),this.hls.off(r.a.LEVEL_SWITCHING,this.onLevelSwitching,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,t.prototype.onHandlerDestroyed.call(this)},h.loadKey=function(t,e){this.log("Loading key for "+t.sn+" of ["+e.startSN+"-"+e.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+t.level),this.state=Ht,this.fragCurrent=t,this.hls.trigger(r.a.KEY_LOADING,{frag:t})},h.loadFragment=function(t,e,n){this._loadFragForPlayback(t,e,n)},h._loadFragForPlayback=function(t,e,n){var a=this;this._doFragLoad(t,e,n,(function(e){if(a.fragContextChanged(t))return a.warn("Fragment "+t.sn+(e.part?" p: "+e.part.index:"")+" of level "+t.level+" was dropped during download."),void a.fragmentTracker.removeFragment(t);t.stats.chunkCount++,a._handleFragmentLoadProgress(e)})).then((function(e){if(e){a.fragLoadError=0;var n=a.state;a.fragContextChanged(t)?(n===qt||!a.fragCurrent&&n===Kt)&&(a.fragmentTracker.removeFragment(t),a.state=Ut):("payload"in e&&(a.log("Loaded fragment "+t.sn+" of level "+t.level),a.hls.trigger(r.a.FRAG_LOADED,e)),a._handleFragmentLoadComplete(e))}})).catch((function(e){a.state!==Gt&&a.state!==Zt&&(a.warn(e),a.resetFragmentLoading(t))}))},h.flushMainBuffer=function(t,e,n){if(void 0===n&&(n=null),t-e){var a={startOffset:t,endOffset:e,type:n};this.fragLoadError=0,this.hls.trigger(r.a.BUFFER_FLUSHING,a)}},h._loadInitSegment=function(t){var e=this;this._doFragLoad(t).then((function(n){if(!n||e.fragContextChanged(t)||!e.levels)throw new Error("init load aborted");return n})).then((function(n){var a=e.hls,o=n.payload,i=t.decryptdata;if(o&&o.byteLength>0&&i&&i.key&&i.iv&&"AES-128"===i.method){var s=self.performance.now();return e.decrypter.webCryptoDecrypt(new Uint8Array(o),i.key.buffer,i.iv.buffer).then((function(e){var o=self.performance.now();return a.trigger(r.a.FRAG_DECRYPTED,{frag:t,payload:e,stats:{tstart:s,tdecrypt:o}}),n.payload=e,n}))}return n})).then((function(n){var a=e.fragCurrent,o=e.hls,i=e.levels;if(!i)throw new Error("init load aborted, missing levels");i[t.level].details;var s=t.stats;e.state=Ut,e.fragLoadError=0,t.data=new Uint8Array(n.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),n.frag===a&&o.trigger(r.a.FRAG_BUFFERED,{stats:s,frag:a,part:null,id:t.type}),e.tick()})).catch((function(n){e.state!==Gt&&e.state!==Zt&&(e.warn(n),e.resetFragmentLoading(t))}))},h.fragContextChanged=function(t){var e=this.fragCurrent;return!t||!e||t.level!==e.level||t.sn!==e.sn||t.urlId!==e.urlId},h.fragBufferedComplete=function(t,e){var n=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+t.type+" sn: "+t.sn+(e?" part: "+e.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+t.level+" "+(n?$t.toString(bt.getBuffered(n)):"(detached)")),this.state=Ut,n&&(!this.loadedmetadata&&n.buffered.length&&this.fragCurrent===this.fragPrevious&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},h.seekToStartPos=function(){},h._handleFragmentLoadComplete=function(t){var e=this.transmuxer;if(e){var n=t.frag,a=t.part,o=t.partsLoaded,i=!o||0===o.length||o.some((function(t){return!t})),r=new vt(n.level,n.sn,n.stats.chunkCount+1,0,a?a.index:-1,!i);e.flush(r)}},h._handleFragmentLoadProgress=function(t){},h._doFragLoad=function(t,e,n,a){var o=this;if(void 0===n&&(n=null),!this.levels)throw new Error("frag load aborted, missing levels");if(n=Math.max(t.start,n||0),this.config.lowLatencyMode&&e){var s=e.partList;if(s&&a){n>t.end&&e.fragmentHint&&(t=e.fragmentHint);var l=this.getNextPart(s,t,n);if(l>-1){var c=s[l];return this.log("Loading part sn: "+t.sn+" p: "+c.index+" cc: "+t.cc+" of playlist ["+e.startSN+"-"+e.endSN+"] parts [0-"+l+"-"+(s.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+t.level+", target: "+parseFloat(n.toFixed(3))),this.nextLoadPosition=c.start+c.duration,this.state=qt,this.hls.trigger(r.a.FRAG_LOADING,{frag:t,part:s[l],targetBufferTime:n}),this.doFragPartsLoad(t,s,l,a).catch((function(t){return o.handleFragLoadError(t)}))}if(!t.url||this.loadedEndOfParts(s,n))return Promise.resolve(null)}}return this.log("Loading fragment "+t.sn+" cc: "+t.cc+" "+(e?"of ["+e.startSN+"-"+e.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+t.level+", target: "+parseFloat(n.toFixed(3))),Object(i.a)(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=qt,this.hls.trigger(r.a.FRAG_LOADING,{frag:t,targetBufferTime:n}),this.fragmentLoader.load(t,a).catch((function(t){return o.handleFragLoadError(t)}))},h.doFragPartsLoad=function(t,e,n,a){var o=this;return new Promise((function(i,s){var l=[];!function n(c){var d=e[c];o.fragmentLoader.loadPart(t,d,a).then((function(a){l[d.index]=a;var s=a.part;o.hls.trigger(r.a.FRAG_LOADED,a);var u=e[c+1];if(!u||u.fragment!==t)return i({frag:t,part:s,partsLoaded:l});n(c+1)})).catch(s)}(n)}))},h.handleFragLoadError=function(t){var e=t.data;return e&&e.details===s.a.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(r.a.ERROR,e),null},h._handleTransmuxerFlush=function(t){var e=this.getCurrentContext(t);if(e&&this.state===Kt){var n=e.frag,a=e.part,o=e.level,i=self.performance.now();n.stats.parsing.end=i,a&&(a.stats.parsing.end=i),this.updateLevelTiming(n,a,o,t.partial)}else this.fragCurrent||(this.state=Ut)},h.getCurrentContext=function(t){var e=this.levels,n=t.level,a=t.sn,o=t.part;if(!e||!e[n])return this.warn("Levels object was unset while buffering fragment "+a+" of level "+n+". The current chunk will not be buffered."),null;var i=e[n],r=o>-1?function(t,e,n){if(!t||!t.details)return null;var a=t.details.partList;if(a)for(var o=a.length;o--;){var i=a[o];if(i.index===n&&i.fragment.sn===e)return i}return null}(i,a,o):null,s=r?r.fragment:function(t,e,n){if(!t||!t.details)return null;var a=t.details,o=a.fragments[e-a.startSN];return o||((o=a.fragmentHint)&&o.sn===e?o:e<a.startSN&&n&&n.sn===e?n:null)}(i,a,this.fragCurrent);return s?{frag:s,part:r,level:i}:null},h.bufferFragmentData=function(t,e,n,a){if(t&&this.state===Kt){var o=t.data1,i=t.data2,s=o;if(o&&i&&(s=Object(c.b)(o,i)),s&&s.length){var l={type:t.type,frag:e,part:n,chunkMeta:a,parent:e.type,data:s};this.hls.trigger(r.a.BUFFER_APPENDING,l),t.dropped&&t.independent&&!n&&this.flushBufferGap(e)}}},h.flushBufferGap=function(t){var e=this.media;if(e)if(bt.isBuffered(e,e.currentTime)){var n=e.currentTime,a=bt.bufferInfo(e,n,0),o=t.duration,i=Math.min(2*this.config.maxFragLookUpTolerance,.25*o),r=Math.max(Math.min(t.start-i,a.end-i),n+i);t.start-r>i&&this.flushMainBuffer(r,t.start)}else this.flushMainBuffer(0,t.start)},h.getFwdBufferInfo=function(t,e){var n=this.config,a=this.getLoadPosition();if(!Object(i.a)(a))return null;var o=bt.bufferInfo(t,a,n.maxBufferHole);if(0===o.len&&void 0!==o.nextStart){var r=this.fragmentTracker.getBufferedFrag(a,e);if(r&&o.nextStart<r.end)return bt.bufferInfo(t,a,Math.max(o.nextStart,n.maxBufferHole))}return o},h.getMaxBufferLength=function(t){var e,n=this.config;return e=t?Math.max(8*n.maxBufferSize/t,n.maxBufferLength):n.maxBufferLength,Math.min(e,n.maxMaxBufferLength)},h.reduceMaxBufferLength=function(t){var e=this.config,n=t||e.maxBufferLength;return e.maxMaxBufferLength>=n&&(e.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},h.getNextFragment=function(t,e){var n=e.fragments,a=n.length;if(!a)return null;var o,i=this.config,r=n[0].start;if(e.live){var s=i.initialLiveManifestSize;if(a<s)return this.warn("Not enough fragments to start playback (have: "+a+", need: "+s+")"),null;e.PTSKnown||this.startFragRequested||-1!==this.startPosition||(o=this.getInitialLiveFragment(e,n),this.startPosition=o?this.hls.liveSyncPosition||o.start:t)}else t<=r&&(o=n[0]);if(!o){var l=i.lowLatencyMode?e.partEnd:e.fragmentEnd;o=this.getFragmentAtPosition(t,l,e)}return this.mapToInitFragWhenRequired(o)},h.mapToInitFragWhenRequired=function(t){return null==t||!t.initSegment||null!=t&&t.initSegment.data||this.bitrateTest?t:t.initSegment},h.getNextPart=function(t,e,n){for(var a=-1,o=!1,i=!0,r=0,s=t.length;r<s;r++){var l=t[r];if(i=i&&!l.independent,a>-1&&n<l.start)break;var c=l.loaded;!c&&(o||l.independent||i)&&l.fragment===e&&(a=r),o=c}return a},h.loadedEndOfParts=function(t,e){var n=t[t.length-1];return n&&e>n.start&&n.loaded},h.getInitialLiveFragment=function(t,e){var n=this.fragPrevious,a=null;if(n){if(t.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+n.programDateTime),a=function(t,e,n){if(null===e||!Array.isArray(t)||!t.length||!Object(i.a)(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;n=n||0;for(var a=0;a<t.length;++a){var o=t[a];if(Et(e,n,o))return o}return null}(e,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!a){var o=n.sn+1;if(o>=t.startSN&&o<=t.endSN){var r=e[o-t.startSN];n.cc===r.cc&&(a=r,this.log("Live playlist, switching playlist, load frag with next SN: "+a.sn))}a||(a=function(t,e){return Dt.search(t,(function(t){return t.cc<e?1:t.cc>e?-1:0}))}(e,n.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+a.sn)}}else{var s=this.hls.liveSyncPosition;null!==s&&(a=this.getFragmentAtPosition(s,this.bitrateTest?t.fragmentEnd:t.edge,t))}return a},h.getFragmentAtPosition=function(t,e,n){var a,o=this.config,i=this.fragPrevious,r=n.fragments,s=n.endSN,l=n.fragmentHint,c=o.maxFragLookUpTolerance,d=!!(o.lowLatencyMode&&n.partList&&l);if(d&&l&&!this.bitrateTest&&(r=r.concat(l),s=l.sn),a=t<e?At(i,r,t,t>e-c?0:c):r[r.length-1]){var u=a.sn-n.startSN;if(i&&a.sn===i.sn&&!d&&i&&a.level===i.level){var h=r[u+1];a.sn<s&&this.fragmentTracker.getState(h)!==ct.OK?(this.log("SN "+a.sn+" just loaded, load next one: "+h.sn),a=h):a=null}}return a},h.synchronizeToLiveEdge=function(t){var e=this.config,n=this.media;if(n){var a=this.hls.liveSyncPosition,o=n.currentTime,i=t.fragments[0].start,r=t.edge,s=o>=i-e.maxFragLookUpTolerance&&o<=r;if(null!==a&&n.duration>a&&(o<a||!s)){var l=void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*t.targetduration;(!s&&n.readyState<4||o<r-l)&&(this.loadedmetadata||(this.nextLoadPosition=a),n.readyState&&(this.warn("Playback: "+o.toFixed(3)+" is located too far from the end of live sliding playlist: "+r+", reset currentTime to : "+a.toFixed(3)),n.currentTime=a))}}},h.alignPlaylists=function(t,e){var n=this.levels,a=this.levelLastLoaded,o=this.fragPrevious,r=null!==a?n[a]:null,s=t.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;var l=t.fragments[0].start,c=!e,d=t.alignedSliding&&Object(i.a)(l);if(c||!d&&!l){kt(o,r,t);var u=t.fragments[0].start;return this.log("Live playlist sliding: "+u.toFixed(2)+" start-sn: "+(e?e.startSN:"na")+"->"+t.startSN+" prev-sn: "+(o?o.sn:"na")+" fragments: "+s),u}return l},h.waitForCdnTuneIn=function(t){return t.live&&t.canBlockReload&&t.partTarget&&t.tuneInGoal>Math.max(t.partHoldBack,3*t.partTarget)},h.setStartPosition=function(t,e){var n=this.startPosition;if(n<e&&(n=-1),-1===n||-1===this.lastCurrentTime){var a=t.startTimeOffset;Object(i.a)(a)?(n=e+a,a<0&&(n+=t.totalduration),n=Math.min(Math.max(e,n),e+t.totalduration),this.log("Start time offset "+a+" found in playlist, adjust startPosition to "+n),this.startPosition=n):t.live?n=this.hls.liveSyncPosition||e:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n},h.getLoadPosition=function(){var t=this.media,e=0;return this.loadedmetadata&&t?e=t.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e},h.handleFragLoadAborted=function(t,e){this.transmuxer&&"initSegment"!==t.sn&&t.stats.aborted&&(this.warn("Fragment "+t.sn+(e?" part"+e.index:"")+" of level "+t.level+" was aborted"),this.resetFragmentLoading(t))},h.resetFragmentLoading=function(t){this.fragCurrent&&(this.fragContextChanged(t)||this.state===Wt)||(this.state=Ut)},h.onFragmentOrKeyLoadError=function(t,e){if(!e.fatal){var n=e.frag;if(n&&n.type===t){this.fragCurrent;var a=this.config;if(this.fragLoadError+1<=a.fragLoadingMaxRetry){this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition);var o=Math.min(Math.pow(2,this.fragLoadError)*a.fragLoadingRetryDelay,a.fragLoadingMaxRetryTimeout);this.warn("Fragment "+n.sn+" of "+t+" "+n.level+" failed to load, retrying in "+o+"ms"),this.retryDate=self.performance.now()+o,this.fragLoadError++,this.state=Wt}else e.levelRetry?(t===O.b.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=Ut):(l.b.error(e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.hls.stopLoad(),this.state=Zt)}}},h.afterBufferFlushed=function(t,e,n){if(t){var a=bt.getBuffered(t);this.fragmentTracker.detectEvictedFragments(e,a,n),this.state===Xt&&this.resetLoadingState()}},h.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=Ut},h.resetStartWhenNotLoaded=function(t){if(!this.loadedmetadata){this.startFragRequested=!1;var e=this.levels?this.levels[t].details:null;null!=e&&e.live?(this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},h.updateLevelTiming=function(t,e,n,a){var o=this,i=n.details;Object.keys(t.elementaryStreams).reduce((function(e,s){var l=t.elementaryStreams[s];if(l){var c=l.endPTS-l.startPTS;if(c<=0)return o.warn("Could not parse fragment "+t.sn+" "+s+" duration reliably ("+c+")"),e||!1;var d=a?0:et(i,t,l.startPTS,l.endPTS,l.startDTS,l.endDTS);return o.hls.trigger(r.a.LEVEL_PTS_UPDATED,{details:i,level:n,drift:d,type:s,frag:t,start:l.startPTS,end:l.endPTS}),!0}return e}),!1)||(this.warn("Found no media in fragment "+t.sn+" of level "+n.id+" resetting transmuxer to fallback to playlist timing"),this.resetTransmuxer()),this.state=Yt,this.hls.trigger(r.a.FRAG_PARSED,{frag:t,part:e})},h.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},o=a,(d=[{key:"state",get:function(){return this._state},set:function(t){var e=this._state;e!==t&&(this._state=t,this.log(e+"->"+t))}}])&&Pt(o.prototype,d),u&&Pt(o,u),Object.defineProperty(o,"prototype",{writable:!1}),a}(mt);function ee(){return self.MediaSource||self.WebKitMediaSource}function ne(){return self.SourceBuffer||self.WebKitSourceBuffer}var ae=n(18),oe=n(10),ie=n(15),re=ee()||{isTypeSupported:function(){return!1}},se=function(){function t(t,e,n,a){var o=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=t,this.id=e,this.onTransmuxComplete=n,this.onFlush=a;var i=t.config,c=function(e,n){(n=n||{}).frag=o.frag,n.id=o.id,t.trigger(e,n)};this.observer=new ie.EventEmitter,this.observer.on(r.a.FRAG_DECRYPTED,c),this.observer.on(r.a.ERROR,c);var d={mp4:re.isTypeSupported("video/mp4"),mpeg:re.isTypeSupported("audio/mpeg"),mp3:re.isTypeSupported('audio/mp4; codecs="mp3"')},u=navigator.vendor;if(i.enableWorker&&"undefined"!=typeof Worker){var h;l.b.log("demuxing in webworker");try{h=this.worker=ae(19),this.onwmsg=this.onWorkerMessage.bind(this),h.addEventListener("message",this.onwmsg),h.onerror=function(e){t.trigger(r.a.ERROR,{type:s.b.OTHER_ERROR,details:s.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(e.message+"  ("+e.filename+":"+e.lineno+")")})},h.postMessage({cmd:"init",typeSupported:d,vendor:u,id:e,config:JSON.stringify(i)})}catch(t){l.b.warn("Error in worker:",t),l.b.error("Error while initializing DemuxerWorker, fallback to inline"),h&&self.URL.revokeObjectURL(h.objectURL),this.transmuxer=new oe.c(this.observer,d,i,u,e),this.worker=null}}else this.transmuxer=new oe.c(this.observer,d,i,u,e)}var e=t.prototype;return e.destroy=function(){var t=this.worker;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.worker=null,this.onwmsg=void 0;else{var e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}var n=this.observer;n&&n.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},e.push=function(t,e,n,a,o,i,r,s,c,d){var u,h,f=this;c.transmuxing.start=self.performance.now();var p=this.transmuxer,m=this.worker,g=i?i.start:o.start,b=o.decryptdata,v=this.frag,_=!(v&&o.cc===v.cc),y=!(v&&c.level===v.level),k=v?c.sn-v.sn:-1,w=this.part?c.part-this.part.index:-1,x=0===k&&c.id>1&&c.id===(null==v?void 0:v.stats.chunkCount),D=!y&&(1===k||0===k&&(1===w||x&&w<=0)),A=self.performance.now();(y||k||0===o.stats.parsing.start)&&(o.stats.parsing.start=A),!i||!w&&D||(i.stats.parsing.start=A);var T=!(v&&(null===(u=o.initSegment)||void 0===u?void 0:u.url)===(null===(h=v.initSegment)||void 0===h?void 0:h.url)),E=new oe.b(_,D,s,y,g,T);if(!D||_||T){l.b.log("[transmuxer-interface, "+o.type+"]: Starting new transmux session for sn: "+c.sn+" p: "+c.part+" level: "+c.level+" id: "+c.id+"\n        discontinuity: "+_+"\n        trackSwitch: "+y+"\n        contiguous: "+D+"\n        accurateTimeOffset: "+s+"\n        timeOffset: "+g+"\n        initSegmentChange: "+T);var C=new oe.a(n,a,e,r,d);this.configureTransmuxer(C)}if(this.frag=o,this.part=i,m)m.postMessage({cmd:"demux",data:t,decryptdata:b,chunkMeta:c,state:E},t instanceof ArrayBuffer?[t]:[]);else if(p){var S=p.push(t,b,c,E);Object(oe.d)(S)?S.then((function(t){f.handleTransmuxComplete(t)})):this.handleTransmuxComplete(S)}},e.flush=function(t){var e=this;t.transmuxing.start=self.performance.now();var n=this.transmuxer,a=this.worker;if(a)a.postMessage({cmd:"flush",chunkMeta:t});else if(n){var o=n.flush(t);Object(oe.d)(o)?o.then((function(n){e.handleFlushResult(n,t)})):this.handleFlushResult(o,t)}},e.handleFlushResult=function(t,e){var n=this;t.forEach((function(t){n.handleTransmuxComplete(t)})),this.onFlush(e)},e.onWorkerMessage=function(t){var e=t.data,n=this.hls;switch(e.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":l.b[e.data.logType]&&l.b[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}},e.configureTransmuxer=function(t){var e=this.worker,n=this.transmuxer;e?e.postMessage({cmd:"configure",config:t}):n&&n.configure(t)},e.handleTransmuxComplete=function(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t)},t}(),le=function(){function t(t,e,n,a){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=t,this.media=e,this.fragmentTracker=n,this.hls=a}var e=t.prototype;return e.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},e.poll=function(t,e){var n=this.config,a=this.media,o=this.stalled;if(null!==a){var i=a.currentTime,r=a.seeking,s=this.seeking&&!r,c=!this.seeking&&r;if(this.seeking=r,i===t){if((c||s)&&(this.stalled=null),!(a.paused&&!r||a.ended||0===a.playbackRate)&&bt.getBuffered(a).length){var d=bt.bufferInfo(a,i,0),u=d.len>0,h=d.nextStart||0;if(u||h){if(r){var f=d.len>2,p=!h||e&&e.start<=i||h-i>2&&!this.fragmentTracker.getPartialFragment(i);if(f||p)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var m,g=Math.max(h,d.start||0)-i,b=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,v=(null==b||null===(m=b.details)||void 0===m?void 0:m.live)?2*b.details.targetduration:2;if(g>0&&g<=v)return void this._trySkipBufferHole(null)}var _=self.performance.now();if(null!==o){var y=_-o;if(r||!(y>=250)||(this._reportStall(d),this.media)){var k=bt.bufferInfo(a,i,n.maxBufferHole);this._tryFixBufferStall(k,y)}}else this.stalled=_}}}else if(this.moved=!0,null!==o){if(this.stallReported){var w=self.performance.now()-o;l.b.warn("playback not stuck anymore @"+i+", after "+Math.round(w)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}}},e._tryFixBufferStall=function(t,e){var n=this.config,a=this.fragmentTracker,o=this.media;if(null!==o){var i=o.currentTime,r=a.getPartialFragment(i);if(r&&(this._trySkipBufferHole(r)||!this.media))return;t.len>n.maxBufferHole&&e>1e3*n.highBufferWatchdogPeriod&&(l.b.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}},e._reportStall=function(t){var e=this.hls,n=this.media;!this.stallReported&&n&&(this.stallReported=!0,l.b.warn("Playback stalling at @"+n.currentTime+" due to low buffer ("+JSON.stringify(t)+")"),e.trigger(r.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:t.len}))},e._trySkipBufferHole=function(t){var e=this.config,n=this.hls,a=this.media;if(null===a)return 0;for(var o=a.currentTime,i=0,c=bt.getBuffered(a),d=0;d<c.length;d++){var u=c.start(d);if(o+e.maxBufferHole>=i&&o<u){var h=Math.max(u+.05,a.currentTime+.1);return l.b.warn("skipping hole, adjusting currentTime from "+o+" to "+h),this.moved=!0,this.stalled=null,a.currentTime=h,t&&n.trigger(r.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+o+" to "+h,frag:t}),h}i=c.end(d)}return 0},e._tryNudgeBuffer=function(){var t=this.config,e=this.hls,n=this.media,a=this.nudgeRetry;if(null!==n){var o=n.currentTime;if(this.nudgeRetry++,a<t.nudgeMaxRetry){var i=o+(a+1)*t.nudgeOffset;l.b.warn("Nudging 'currentTime' from "+o+" to "+i),n.currentTime=i,e.trigger(r.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else l.b.error("Playhead still not moving while enough data buffered @"+o+" after "+t.nudgeMaxRetry+" nudges"),e.trigger(r.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_STALLED_ERROR,fatal:!0})}},t}();function ce(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function de(t,e){return(de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var ue=function(t){var e,n;function a(e,n){var a;return(a=t.call(this,e,n,"[stream-controller]")||this).audioCodecSwap=!1,a.gapController=null,a.level=-1,a._forceStartLoad=!1,a.altAudio=!1,a.audioOnly=!1,a.fragPlaying=null,a.onvplaying=null,a.onvseeked=null,a.fragLastKbps=0,a.couldBacktrack=!1,a.backtrackFragment=null,a.audioCodecSwitch=!1,a.videoBuffer=null,a._registerListeners(),a}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,de(e,n);var o,l,c,d=a.prototype;return d._registerListeners=function(){var t=this.hls;t.on(r.a.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(r.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(r.a.MANIFEST_LOADING,this.onManifestLoading,this),t.on(r.a.MANIFEST_PARSED,this.onManifestParsed,this),t.on(r.a.LEVEL_LOADING,this.onLevelLoading,this),t.on(r.a.LEVEL_LOADED,this.onLevelLoaded,this),t.on(r.a.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.on(r.a.ERROR,this.onError,this),t.on(r.a.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(r.a.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(r.a.BUFFER_CREATED,this.onBufferCreated,this),t.on(r.a.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(r.a.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(r.a.FRAG_BUFFERED,this.onFragBuffered,this)},d._unregisterListeners=function(){var t=this.hls;t.off(r.a.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(r.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(r.a.MANIFEST_LOADING,this.onManifestLoading,this),t.off(r.a.MANIFEST_PARSED,this.onManifestParsed,this),t.off(r.a.LEVEL_LOADED,this.onLevelLoaded,this),t.off(r.a.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.off(r.a.ERROR,this.onError,this),t.off(r.a.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(r.a.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(r.a.BUFFER_CREATED,this.onBufferCreated,this),t.off(r.a.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(r.a.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(r.a.FRAG_BUFFERED,this.onFragBuffered,this)},d.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},d.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var a=n.startLevel;-1===a&&(n.config.testBandwidth&&this.levels.length>1?(a=0,this.bitrateTest=!0):a=n.nextAutoLevel),this.level=n.nextLoadLevel=a,this.loadedmetadata=!1}e>0&&-1===t&&(this.log("Override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=Ut,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this._forceStartLoad=!0,this.state=Gt},d.stopLoad=function(){this._forceStartLoad=!1,t.prototype.stopLoad.call(this)},d.doTick=function(){switch(this.state){case Ut:this.doTickIdle();break;case Qt:var t,e=this.levels,n=this.level,a=null==e||null===(t=e[n])||void 0===t?void 0:t.details;if(a&&(!a.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(a))break;this.state=Ut;break}break;case Wt:var o,i=self.performance.now(),r=this.retryDate;(!r||i>=r||null!==(o=this.media)&&void 0!==o&&o.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.level),this.state=Ut)}this.onTickEnd()},d.onTickEnd=function(){t.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},d.doTickIdle=function(){var t,e,n=this.hls,a=this.levelLastLoaded,o=this.levels,i=this.media,s=n.config,l=n.nextLoadLevel;if(null!==a&&(i||!this.startFragRequested&&s.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&o&&o[l]){var c=o[l];this.level=n.nextLoadLevel=l;var d=c.details;if(!d||this.state===Qt||d.live&&this.levelLastLoaded!==l)this.state=Qt;else{var u=this.getMainFwdBufferInfo();if(null!==u&&!(u.len>=this.getMaxBufferLength(c.maxBitrate))){if(this._streamEnded(u,d)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(r.a.BUFFER_EOS,h),void(this.state=Xt)}this.backtrackFragment&&this.backtrackFragment.start>u.end&&(this.backtrackFragment=null);var f=this.backtrackFragment?this.backtrackFragment.start:u.end,p=this.getNextFragment(f,d);if(this.couldBacktrack&&!this.fragPrevious&&p&&"initSegment"!==p.sn&&this.fragmentTracker.getState(p)!==ct.OK){var m,b=(null!=(m=this.backtrackFragment)?m:p).sn-d.startSN,v=d.fragments[b-1];v&&p.cc===v.cc&&(p=v,this.fragmentTracker.removeFragment(v))}else this.backtrackFragment&&u.len&&(this.backtrackFragment=null);if(p&&this.fragmentTracker.getState(p)===ct.OK&&this.nextLoadPosition>f){var _=this.audioOnly&&!this.altAudio?g.a.AUDIO:g.a.VIDEO;i&&this.afterBufferFlushed(i,_,O.b.MAIN),p=this.getNextFragment(this.nextLoadPosition,d)}p&&(!p.initSegment||p.initSegment.data||this.bitrateTest||(p=p.initSegment),"identity"!==(null===(t=p.decryptdata)||void 0===t?void 0:t.keyFormat)||null!==(e=p.decryptdata)&&void 0!==e&&e.key?this.loadFragment(p,d,f):this.loadKey(p,d))}}}},d.loadFragment=function(e,n,a){var o,i=this.fragmentTracker.getState(e);this.fragCurrent=e,i===ct.NOT_LOADED?"initSegment"===e.sn?this._loadInitSegment(e):this.bitrateTest?(this.log("Fragment "+e.sn+" of level "+e.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(e)):(this.startFragRequested=!0,t.prototype.loadFragment.call(this,e,n,a)):i===ct.APPENDING?this.reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e):0===(null===(o=this.media)||void 0===o?void 0:o.buffered.length)&&this.fragmentTracker.removeAllFragments()},d.getAppendedFrag=function(t){var e=this.fragmentTracker.getAppendedFrag(t,O.b.MAIN);return e&&"fragment"in e?e.fragment:e},d.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,O.b.MAIN)},d.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.end+.5):null},d.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},d.nextLevelSwitch=function(){var t=this.levels,e=this.media;if(null!=e&&e.readyState){var n,a=this.getAppendedFrag(e.currentTime);if(a&&a.start>1&&this.flushMainBuffer(0,a.start-1),!e.paused&&t){var o=t[this.hls.nextLoadLevel],i=this.fragLastKbps;n=i&&this.fragCurrent?this.fragCurrent.duration*o.maxBitrate/(1e3*i)+1:0}else n=0;var r=this.getBufferedFrag(e.currentTime+n);if(r){var s=this.followingBufferedFrag(r);if(s){this.abortCurrentFrag();var l=s.maxStartPTS?s.maxStartPTS:s.start,c=s.duration,d=Math.max(r.end,l+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,.5*c),.75*c));this.flushMainBuffer(d,Number.POSITIVE_INFINITY)}}}},d.abortCurrentFrag=function(){var t=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,null!=t&&t.loader&&t.loader.abort(),this.state){case Ht:case qt:case Wt:case Kt:case Yt:this.state=Ut}this.nextLoadPosition=this.getLoadPosition()},d.flushMainBuffer=function(e,n){t.prototype.flushMainBuffer.call(this,e,n,this.altAudio?"video":null)},d.onMediaAttached=function(e,n){t.prototype.onMediaAttached.call(this,e,n);var a=n.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),a.addEventListener("playing",this.onvplaying),a.addEventListener("seeked",this.onvseeked),this.gapController=new le(this.config,a,this.fragmentTracker,this.hls)},d.onMediaDetaching=function(){var e=this.media;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),t.prototype.onMediaDetaching.call(this)},d.onMediaPlaying=function(){this.tick()},d.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:null;Object(i.a)(e)&&this.log("Media seeked to "+e.toFixed(3)),this.tick()},d.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(r.a.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null,this.backtrackFragment=null},d.onManifestParsed=function(t,e){var n,a,o,i=!1,r=!1;e.levels.forEach((function(t){(n=t.audioCodec)&&(-1!==n.indexOf("mp4a.40.2")&&(i=!0),-1!==n.indexOf("mp4a.40.5")&&(r=!0))})),this.audioCodecSwitch=i&&r&&!("function"==typeof(null==(o=ne())||null===(a=o.prototype)||void 0===a?void 0:a.changeType)),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1},d.onLevelLoading=function(t,e){var n=this.levels;if(n&&this.state===Ut){var a=n[e.level];(!a.details||a.details.live&&this.levelLastLoaded!==e.level||this.waitForCdnTuneIn(a.details))&&(this.state=Qt)}},d.onLevelLoaded=function(t,e){var n,a=this.levels,o=e.level,i=e.details,s=i.totalduration;if(a){this.log("Level "+o+" loaded ["+i.startSN+","+i.endSN+"], cc ["+i.startCC+", "+i.endCC+"] duration:"+s);var l=this.fragCurrent;!l||this.state!==qt&&this.state!==Wt||l.level!==e.level&&l.loader&&(this.state=Ut,this.backtrackFragment=null,l.loader.abort());var c=a[o],d=0;if(i.live||null!==(n=c.details)&&void 0!==n&&n.live){if(i.fragments[0]||(i.deltaUpdateFailed=!0),i.deltaUpdateFailed)return;d=this.alignPlaylists(i,c.details)}if(c.details=i,this.levelLastLoaded=o,this.hls.trigger(r.a.LEVEL_UPDATED,{details:i,level:o}),this.state===Qt){if(this.waitForCdnTuneIn(i))return;this.state=Ut}this.startFragRequested?i.live&&this.synchronizeToLiveEdge(i):this.setStartPosition(i,d),this.tick()}else this.warn("Levels were reset while loading level "+o)},d._handleFragmentLoadProgress=function(t){var e,n=t.frag,a=t.part,o=t.payload,i=this.levels;if(i){var r=i[n.level],s=r.details;if(s){var l=r.videoCodec,c=s.PTSKnown||!s.live,d=null===(e=n.initSegment)||void 0===e?void 0:e.data,u=this._getAudioCodec(r),h=this.transmuxer=this.transmuxer||new se(this.hls,O.b.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),f=a?a.index:-1,p=-1!==f,m=new vt(n.level,n.sn,n.stats.chunkCount,o.byteLength,f,p),g=this.initPTS[n.cc];h.push(o,d,u,l,n,a,s.totalduration,c,m,g)}else this.warn("Dropping fragment "+n.sn+" of level "+n.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+n.sn+" of level "+n.level+" will not be buffered")},d.onAudioTrackSwitching=function(t,e){var n=this.altAudio,a=!!e.url,o=e.id;if(!a){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;null!=i&&i.loader&&(this.log("Switching to main audio track, cancel main fragment load"),i.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var s=this.hls;n&&s.trigger(r.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),s.trigger(r.a.AUDIO_TRACK_SWITCHED,{id:o})}},d.onAudioTrackSwitched=function(t,e){var n=e.id,a=!!this.hls.audioTracks[n].url;if(a){var o=this.videoBuffer;o&&this.mediaBuffer!==o&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=o)}this.altAudio=a,this.tick()},d.onBufferCreated=function(t,e){var n,a,o=e.tracks,i=!1;for(var r in o){var s=o[r];if("main"===s.id){if(a=r,n=s,"video"===r){var l=o[r];l&&(this.videoBuffer=l.buffer)}}else i=!0}i&&n?(this.log("Alternate track found, use "+a+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media},d.onFragBuffered=function(t,e){var n=e.frag,a=e.part;if(!n||n.type===O.b.MAIN){if(this.fragContextChanged(n))return this.warn("Fragment "+n.sn+(a?" p: "+a.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===Yt&&(this.state=Ut));var o=a?a.stats:n.stats;this.fragLastKbps=Math.round(8*o.total/(o.buffering.end-o.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,a)}},d.onError=function(t,e){switch(e.details){case s.a.FRAG_LOAD_ERROR:case s.a.FRAG_LOAD_TIMEOUT:case s.a.KEY_LOAD_ERROR:case s.a.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(O.b.MAIN,e);break;case s.a.LEVEL_LOAD_ERROR:case s.a.LEVEL_LOAD_TIMEOUT:this.state!==Zt&&(e.fatal?(this.warn(""+e.details),this.state=Zt):e.levelRetry||this.state!==Qt||(this.state=Ut));break;case s.a.BUFFER_FULL_ERROR:if("main"===e.parent&&(this.state===Kt||this.state===Yt)){var n=!0,a=this.getFwdBufferInfo(this.media,O.b.MAIN);a&&a.len>.5&&(n=!this.reduceMaxBufferLength(a.len)),n&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},d.checkBuffer=function(){var t=this.media,e=this.gapController;if(t&&e&&t.readyState){if(this.loadedmetadata||!bt.getBuffered(t).length){var n=this.state!==Ut?this.fragCurrent:null;e.poll(this.lastCurrentTime,n)}this.lastCurrentTime=t.currentTime}},d.onFragLoadEmergencyAborted=function(){this.state=Ut,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},d.onBufferFlushed=function(t,e){var n=e.type;if(n!==g.a.AUDIO||this.audioOnly&&!this.altAudio){var a=(n===g.a.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(a,n,O.b.MAIN)}},d.onLevelsUpdated=function(t,e){this.levels=e.levels},d.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},d.seekToStartPos=function(){var t=this.media;if(t){var e=t.currentTime,n=this.startPosition;if(n>=0&&e<n){if(t.seeking)return void this.log("could not seek to "+n+", already seeking at "+e);var a=bt.getBuffered(t),o=(a.length?a.start(0):0)-n;o>0&&(o<this.config.maxBufferHole||o<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+o+" to match buffer start"),n+=o,this.startPosition=n),this.log("seek to target start position "+n+" from current time "+e),t.currentTime=n}}},d._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e},d._loadBitrateTestFrag=function(t){var e=this;t.bitrateTest=!0,this._doFragLoad(t).then((function(n){var a=e.hls;if(n&&!a.nextLoadLevel&&!e.fragContextChanged(t)){e.fragLoadError=0,e.state=Ut,e.startFragRequested=!1,e.bitrateTest=!1;var o=t.stats;o.parsing.start=o.parsing.end=o.buffering.start=o.buffering.end=self.performance.now(),a.trigger(r.a.FRAG_LOADED,n),t.bitrateTest=!1}}))},d._handleTransmuxComplete=function(t){var e,n="main",a=this.hls,o=t.remuxResult,s=t.chunkMeta,l=this.getCurrentContext(s);if(!l)return this.warn("The loading context changed while buffering fragment "+s.sn+" of level "+s.level+". This chunk will not be buffered."),void this.resetStartWhenNotLoaded(s.level);var c=l.frag,d=l.part,u=l.level,h=o.video,f=o.text,p=o.id3,m=o.initSegment,b=u.details,v=this.altAudio?void 0:o.audio;if(!this.fragContextChanged(c)){if(this.state=Kt,m){m.tracks&&(this._bufferInitSegment(u,m.tracks,c,s),a.trigger(r.a.FRAG_PARSING_INIT_SEGMENT,{frag:c,id:n,tracks:m.tracks}));var _=m.initPTS,y=m.timescale;Object(i.a)(_)&&(this.initPTS[c.cc]=_,a.trigger(r.a.INIT_PTS_FOUND,{frag:c,id:n,initPTS:_,timescale:y}))}if(h&&!1!==o.independent){if(b){var k=h.startPTS,w=h.endPTS,x=h.startDTS,D=h.endDTS;if(d)d.elementaryStreams[h.type]={startPTS:k,endPTS:w,startDTS:x,endDTS:D};else if(h.firstKeyFrame&&h.independent&&(this.couldBacktrack=!0),h.dropped&&h.independent){var A=this.getMainFwdBufferInfo();if((A?A.end:this.getLoadPosition())+this.config.maxBufferHole<(h.firstKeyFramePTS?h.firstKeyFramePTS:k)-this.config.maxBufferHole)return void this.backtrack(c);c.setElementaryStreamInfo(h.type,c.start,w,c.start,D,!0)}c.setElementaryStreamInfo(h.type,k,w,x,D),this.backtrackFragment&&(this.backtrackFragment=c),this.bufferFragmentData(h,c,d,s)}}else if(!1===o.independent)return void this.backtrack(c);if(v){var T=v.startPTS,E=v.endPTS,C=v.startDTS,S=v.endDTS;d&&(d.elementaryStreams[g.a.AUDIO]={startPTS:T,endPTS:E,startDTS:C,endDTS:S}),c.setElementaryStreamInfo(g.a.AUDIO,T,E,C,S),this.bufferFragmentData(v,c,d,s)}if(b&&null!=p&&null!==(e=p.samples)&&void 0!==e&&e.length){var L={id:n,frag:c,details:b,samples:p.samples};a.trigger(r.a.FRAG_PARSING_METADATA,L)}if(b&&f){var I={id:n,frag:c,details:b,samples:f.samples};a.trigger(r.a.FRAG_PARSING_USERDATA,I)}}},d._bufferInitSegment=function(t,e,n,a){var o=this;if(this.state===Kt){this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;var i=e.audio,s=e.video,l=e.audiovideo;if(i){var c=t.audioCodec,d=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(c&&(c=-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==i.metadata.channelCount&&-1===d.indexOf("firefox")&&(c="mp4a.40.5")),-1!==d.indexOf("android")&&"audio/mpeg"!==i.container&&(c="mp4a.40.2",this.log("Android: force audio codec to "+c)),t.audioCodec&&t.audioCodec!==c&&this.log('Swapping manifest audio codec "'+t.audioCodec+'" for "'+c+'"'),i.levelCodec=c,i.id="main",this.log("Init audio buffer, container:"+i.container+", codecs[selected/level/parsed]=["+(c||"")+"/"+(t.audioCodec||"")+"/"+i.codec+"]")}s&&(s.levelCodec=t.videoCodec,s.id="main",this.log("Init video buffer, container:"+s.container+", codecs[level/parsed]=["+(t.videoCodec||"")+"/"+s.codec+"]")),l&&this.log("Init audiovideo buffer, container:"+l.container+", codecs[level/parsed]=["+(t.attrs.CODECS||"")+"/"+l.codec+"]"),this.hls.trigger(r.a.BUFFER_CODECS,e),Object.keys(e).forEach((function(t){var i=e[t].initSegment;null!=i&&i.byteLength&&o.hls.trigger(r.a.BUFFER_APPENDING,{type:t,data:i,frag:n,part:null,chunkMeta:a,parent:n.type})})),this.tick()}},d.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,O.b.MAIN)},d.backtrack=function(t){this.couldBacktrack=!0,this.backtrackFragment=t,this.resetTransmuxer(),this.flushBufferGap(t),this.fragmentTracker.removeFragment(t),this.fragPrevious=null,this.nextLoadPosition=t.start,this.state=Ut},d.checkFragmentChanged=function(){var t=this.media,e=null;if(t&&t.readyState>1&&!1===t.seeking){var n=t.currentTime;if(bt.isBuffered(t,n)?e=this.getAppendedFrag(n):bt.isBuffered(t,n+.1)&&(e=this.getAppendedFrag(n+.1)),e){this.backtrackFragment=null;var a=this.fragPlaying,o=e.level;a&&e.sn===a.sn&&a.level===o&&e.urlId===a.urlId||(this.hls.trigger(r.a.FRAG_CHANGED,{frag:e}),a&&a.level===o||this.hls.trigger(r.a.LEVEL_SWITCHED,{level:o}),this.fragPlaying=e)}}},o=a,(l=[{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"currentFrag",get:function(){var t=this.media;return t?this.fragPlaying||this.getAppendedFrag(t.currentTime):null}},{key:"currentProgramDateTime",get:function(){var t=this.media;if(t){var e=t.currentTime,n=this.currentFrag;if(n&&Object(i.a)(e)&&Object(i.a)(n.programDateTime)){var a=n.programDateTime+1e3*(e-n.start);return new Date(a)}}return null}},{key:"currentLevel",get:function(){var t=this.currentFrag;return t?t.level:-1}},{key:"nextBufferedFrag",get:function(){var t=this.currentFrag;return t?this.followingBufferedFrag(t):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&ce(o.prototype,l),c&&ce(o,c),Object.defineProperty(o,"prototype",{writable:!1}),a}(te),he=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=e,this.totalWeight_=n}var e=t.prototype;return e.sample=function(t,e){var n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t},e.getTotalWeight=function(){return this.totalWeight_},e.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_},t}(),fe=function(){function t(t,e,n){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new he(t),this.fast_=new he(e)}var e=t.prototype;return e.update=function(t,e){var n=this.slow_,a=this.fast_;this.slow_.halfLife!==t&&(this.slow_=new he(t,n.getEstimate(),n.getTotalWeight())),this.fast_.halfLife!==e&&(this.fast_=new he(e,a.getEstimate(),a.getTotalWeight()))},e.sample=function(t,e){var n=(t=Math.max(t,this.minDelayMs_))/1e3,a=8*e/n;this.fast_.sample(n,a),this.slow_.sample(n,a)},e.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},e.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.destroy=function(){},t}();function pe(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var me=function(){function t(t){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=t;var e=t.config;this.bwEstimator=new fe(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate),this.registerListeners()}var e,n,a,o=t.prototype;return o.registerListeners=function(){var t=this.hls;t.on(r.a.FRAG_LOADING,this.onFragLoading,this),t.on(r.a.FRAG_LOADED,this.onFragLoaded,this),t.on(r.a.FRAG_BUFFERED,this.onFragBuffered,this),t.on(r.a.LEVEL_LOADED,this.onLevelLoaded,this),t.on(r.a.ERROR,this.onError,this)},o.unregisterListeners=function(){var t=this.hls;t.off(r.a.FRAG_LOADING,this.onFragLoading,this),t.off(r.a.FRAG_LOADED,this.onFragLoaded,this),t.off(r.a.FRAG_BUFFERED,this.onFragBuffered,this),t.off(r.a.LEVEL_LOADED,this.onLevelLoaded,this),t.off(r.a.ERROR,this.onError,this)},o.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},o.onFragLoading=function(t,e){var n,a=e.frag;a.type===O.b.MAIN&&(this.timer||(this.fragCurrent=a,this.partCurrent=null!=(n=e.part)?n:null,this.timer=self.setInterval(this.onCheck,100)))},o.onLevelLoaded=function(t,e){var n=this.hls.config;e.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)},o._abandonRulesCheck=function(){var t=this.fragCurrent,e=this.partCurrent,n=this.hls,a=n.autoLevelEnabled,o=(n.config,n.media);if(t&&o){var s=e?e.stats:t.stats,c=e?e.duration:t.duration;if(s.aborted||s.loaded&&s.loaded===s.total||0===t.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(a&&!o.paused&&o.playbackRate&&o.readyState){var d=n.mainForwardBufferInfo;if(null!==d){var u=performance.now()-s.loading.start,h=Math.abs(o.playbackRate);if(!(u<=500*c/h)){var f=s.loaded&&s.loading.first,p=this.bwEstimator.getEstimate(),m=n.levels,g=n.minAutoLevel,b=m[t.level],v=s.total||Math.max(s.loaded,Math.round(c*b.maxBitrate/8)),_=f?1e3*s.loaded/u:0,y=_?(v-s.loaded)/_:8*v/p,k=d.len/h;if(!(y<=k)){var w,x=Number.POSITIVE_INFINITY;for(w=t.level-1;w>g;w--){var D=m[w].maxBitrate;if((x=_?c*D/(6.4*_):c*D/p)<k)break}x>=y||(l.b.warn("Fragment "+t.sn+(e?" part "+e.index:"")+" of level "+t.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+w+"\n      Current BW estimate: "+(Object(i.a)(p)?(p/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+y.toFixed(3)+" s\n      Estimated load time for the next fragment: "+x.toFixed(3)+" s\n      Time to underbuffer: "+k.toFixed(3)+" s"),n.nextLoadLevel=w,f&&this.bwEstimator.sample(u,s.loaded),this.clearTimer(),t.loader&&(this.fragCurrent=this.partCurrent=null,t.loader.abort()),n.trigger(r.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:t,part:e,stats:s}))}}}}}},o.onFragLoaded=function(t,e){var n=e.frag,a=e.part;if(n.type===O.b.MAIN&&Object(i.a)(n.sn)){var o=a?a.stats:n.stats,s=a?a.duration:n.duration;if(this.clearTimer(),this.lastLoadedFragLevel=n.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var l=this.hls.levels[n.level],c=(l.loaded?l.loaded.bytes:0)+o.loaded,d=(l.loaded?l.loaded.duration:0)+s;l.loaded={bytes:c,duration:d},l.realBitrate=Math.round(8*c/d)}if(n.bitrateTest){var u={stats:o,frag:n,part:a,id:n.type};this.onFragBuffered(r.a.FRAG_BUFFERED,u)}}},o.onFragBuffered=function(t,e){var n=e.frag,a=e.part,o=a?a.stats:n.stats;if(!o.aborted&&n.type===O.b.MAIN&&"initSegment"!==n.sn){var i=o.parsing.end-o.loading.start;this.bwEstimator.sample(i,o.loaded),o.bwEstimate=this.bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},o.onError=function(t,e){switch(e.details){case s.a.FRAG_LOAD_ERROR:case s.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},o.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},o.getNextABRAutoLevel=function(){var t=this.fragCurrent,e=this.partCurrent,n=this.hls,a=n.maxAutoLevel,o=n.config,i=n.minAutoLevel,r=n.media,s=e?e.duration:t?t.duration:0,c=(r&&r.currentTime,r&&0!==r.playbackRate?Math.abs(r.playbackRate):1),d=this.bwEstimator?this.bwEstimator.getEstimate():o.abrEwmaDefaultEstimate,u=n.mainForwardBufferInfo,h=(u?u.len:0)/c,f=this.findBestLevel(d,i,a,h,o.abrBandWidthFactor,o.abrBandWidthUpFactor);if(f>=0)return f;l.b.trace((h?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var p=s?Math.min(s,o.maxStarvationDelay):o.maxStarvationDelay,m=o.abrBandWidthFactor,g=o.abrBandWidthUpFactor;if(!h){var b=this.bitrateTestDelay;b&&(p=(s?Math.min(s,o.maxLoadingDelay):o.maxLoadingDelay)-b,l.b.trace("bitrate test took "+Math.round(1e3*b)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),m=g=1)}return f=this.findBestLevel(d,i,a,h+p,m,g),Math.max(f,0)},o.findBestLevel=function(t,e,n,a,o,r){for(var s,c=this.fragCurrent,d=this.partCurrent,u=this.lastLoadedFragLevel,h=this.hls.levels,f=h[u],p=!(null==f||null===(s=f.details)||void 0===s||!s.live),m=null==f?void 0:f.codecSet,g=d?d.duration:c?c.duration:0,b=n;b>=e;b--){var v=h[b];if(v&&(!m||v.codecSet===m)){var _=v.details,y=(d?null==_?void 0:_.partTarget:null==_?void 0:_.averagetargetduration)||g,k=void 0;k=b<=u?o*t:r*t;var w=h[b].maxBitrate,x=w*y/k;if(l.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+b+"/"+Math.round(k)+"/"+w+"/"+y+"/"+a+"/"+x),k>w&&(0===x||!Object(i.a)(x)||p&&!this.bitrateTestDelay||x<a))return b}}return-1},e=t,(n=[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this.bwEstimator;if(-1!==t&&!e.canEstimate())return t;var n=this.getNextABRAutoLevel();return-1!==t&&this.hls.levels[n].loadError?t:(-1!==t&&(n=Math.min(t,n)),n)},set:function(t){this._nextAutoLevel=t}}])&&pe(e.prototype,n),a&&pe(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}(),ge=function(){function t(){this.chunks=[],this.dataLength=0}var e=t.prototype;return e.push=function(t){this.chunks.push(t),this.dataLength+=t.length},e.flush=function(){var t,e=this.chunks,n=this.dataLength;return e.length?(t=1===e.length?e[0]:function(t,e){for(var n=new Uint8Array(e),a=0,o=0;o<t.length;o++){var i=t[o];n.set(i,a),a+=i.length}return n}(e,n),this.reset(),t):new Uint8Array(0)},e.reset=function(){this.chunks.length=0,this.dataLength=0},t}();function be(){return(be=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function ve(t,e){return(ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var _e=function(t){var e,n;function a(e,n){var a;return(a=t.call(this,e,n,"[audio-stream-controller]")||this).videoBuffer=null,a.videoTrackCC=-1,a.waitingVideoCC=-1,a.audioSwitch=!1,a.trackId=-1,a.waitingData=null,a.mainDetails=null,a.bufferFlushed=!1,a.cachedTrackLoadedData=null,a._registerListeners(),a}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,ve(e,n);var o=a.prototype;return o.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},o._registerListeners=function(){var t=this.hls;t.on(r.a.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(r.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(r.a.MANIFEST_LOADING,this.onManifestLoading,this),t.on(r.a.LEVEL_LOADED,this.onLevelLoaded,this),t.on(r.a.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(r.a.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(r.a.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(r.a.ERROR,this.onError,this),t.on(r.a.BUFFER_RESET,this.onBufferReset,this),t.on(r.a.BUFFER_CREATED,this.onBufferCreated,this),t.on(r.a.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(r.a.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(r.a.FRAG_BUFFERED,this.onFragBuffered,this)},o._unregisterListeners=function(){var t=this.hls;t.off(r.a.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(r.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(r.a.MANIFEST_LOADING,this.onManifestLoading,this),t.off(r.a.LEVEL_LOADED,this.onLevelLoaded,this),t.off(r.a.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(r.a.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(r.a.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(r.a.ERROR,this.onError,this),t.off(r.a.BUFFER_RESET,this.onBufferReset,this),t.off(r.a.BUFFER_CREATED,this.onBufferCreated,this),t.off(r.a.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(r.a.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(r.a.FRAG_BUFFERED,this.onFragBuffered,this)},o.onInitPtsFound=function(t,e){var n=e.frag,a=e.id,o=e.initPTS;if("main"===a){var i=n.cc;this.initPTS[n.cc]=o,this.log("InitPTS for cc: "+i+" found from main: "+o),this.videoTrackCC=i,this.state===Jt&&this.tick()}},o.startLoad=function(t){if(!this.levels)return this.startPosition=t,void(this.state=Gt);var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,e>0&&-1===t?(this.log("Override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e,this.state=Ut):(this.loadedmetadata=!1,this.state=Vt),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()},o.doTick=function(){switch(this.state){case Ut:this.doTickIdle();break;case Vt:var e,n=this.levels,a=this.trackId,o=null==n||null===(e=n[a])||void 0===e?void 0:e.details;if(o){if(this.waitForCdnTuneIn(o))break;this.state=Jt}break;case Wt:var i,r=performance.now(),s=this.retryDate;(!s||r>=s||null!==(i=this.media)&&void 0!==i&&i.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=Ut);break;case Jt:var l=this.waitingData;if(l){var c=l.frag,d=l.part,u=l.cache,h=l.complete;if(void 0!==this.initPTS[c.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=qt;var f={frag:c,part:d,payload:u.flush(),networkDetails:null};this._handleFragmentLoadProgress(f),h&&t.prototype._handleFragmentLoadComplete.call(this,f)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc ("+c.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var p=this.getLoadPosition(),m=bt.bufferInfo(this.mediaBuffer,p,this.config.maxBufferHole);Tt(m.end,this.config.maxFragLookUpTolerance,c)<0&&(this.log("Waiting fragment cc ("+c.cc+") @ "+c.start+" cancelled because another fragment at "+m.end+" is needed"),this.clearWaitingFragment())}}else this.state=Ut}this.onTickEnd()},o.clearWaitingFragment=function(){var t=this.waitingData;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=Ut)},o.resetLoadingState=function(){this.clearWaitingFragment(),t.prototype.resetLoadingState.call(this)},o.onTickEnd=function(){var t=this.media;if(t&&t.readyState){var e=(this.mediaBuffer?this.mediaBuffer:t).buffered;!this.loadedmetadata&&e.length&&(this.loadedmetadata=!0),this.lastCurrentTime=t.currentTime}},o.doTickIdle=function(){var t,e,n=this.hls,a=this.levels,o=this.media,i=this.trackId,s=n.config;if(a&&a[i]&&(o||!this.startFragRequested&&s.startFragPrefetch)){var l=a[i].details;if(!l||l.live&&this.levelLastLoaded!==i||this.waitForCdnTuneIn(l))this.state=Vt;else{var c=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&c&&(this.bufferFlushed=!1,this.afterBufferFlushed(c,g.a.AUDIO,O.b.AUDIO));var d=this.getFwdBufferInfo(c,O.b.AUDIO);if(null!==d){var u=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,O.b.MAIN),h=d.len,f=this.getMaxBufferLength(null==u?void 0:u.len),p=this.audioSwitch;if(!(h>=f)||p){if(!p&&this._streamEnded(d,l))return n.trigger(r.a.BUFFER_EOS,{type:"audio"}),void(this.state=Xt);var m=l.fragments[0].start,b=d.end;if(p&&o){var v=this.getLoadPosition();b=v,l.PTSKnown&&v<m&&(d.end>m||d.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),o.currentTime=m+.05)}if(!(u&&b>u.end+l.targetduration)&&(u&&u.len||!d.len)){var _=this.getNextFragment(b,l);_?"identity"!==(null===(t=_.decryptdata)||void 0===t?void 0:t.keyFormat)||null!==(e=_.decryptdata)&&void 0!==e&&e.key?this.loadFragment(_,l,b):this.loadKey(_,l):this.bufferFlushed=!0}}}}}},o.getMaxBufferLength=function(e){var n=t.prototype.getMaxBufferLength.call(this);return e?Math.max(n,e):n},o.onMediaDetaching=function(){this.videoBuffer=null,t.prototype.onMediaDetaching.call(this)},o.onAudioTracksUpdated=function(t,e){var n=e.audioTracks;this.resetTransmuxer(),this.levels=n.map((function(t){return new X(t)}))},o.onAudioTrackSwitching=function(t,e){var n=!!e.url;this.trackId=e.id;var a=this.fragCurrent;null!=a&&a.loader&&a.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.audioSwitch=!0,this.state=Ut):this.state=Gt,this.tick()},o.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},o.onLevelLoaded=function(t,e){this.mainDetails=e.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(r.a.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},o.onAudioTrackLoaded=function(t,e){var n;if(null!=this.mainDetails){var a=this.levels,o=e.details,i=e.id;if(a){this.log("Track "+i+" loaded ["+o.startSN+","+o.endSN+"],duration:"+o.totalduration);var r=a[i],s=0;if(o.live||null!==(n=r.details)&&void 0!==n&&n.live){var l=this.mainDetails;if(o.fragments[0]||(o.deltaUpdateFailed=!0),o.deltaUpdateFailed||!l)return;!r.details&&o.hasProgramDateTime&&l.hasProgramDateTime?(xt(o,l),s=o.fragments[0].start):s=this.alignPlaylists(o,r.details)}r.details=o,this.levelLastLoaded=i,this.startFragRequested||!this.mainDetails&&o.live||this.setStartPosition(r.details,s),this.state!==Vt||this.waitForCdnTuneIn(o)||(this.state=Ut),this.tick()}else this.warn("Audio tracks were reset while loading level "+i)}else this.cachedTrackLoadedData=e},o._handleFragmentLoadProgress=function(t){var e,n=t.frag,a=t.part,o=t.payload,i=this.config,r=this.trackId,s=this.levels;if(s){var l=s[r],c=l.details,d=i.defaultAudioCodec||l.audioCodec||"mp4a.40.2",u=this.transmuxer;u||(u=this.transmuxer=new se(this.hls,O.b.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var h=this.initPTS[n.cc],f=null===(e=n.initSegment)||void 0===e?void 0:e.data;if(void 0!==h){var p=a?a.index:-1,m=-1!==p,g=new vt(n.level,n.sn,n.stats.chunkCount,o.byteLength,p,m);u.push(o,f,d,"",n,a,c.totalduration,!1,g,h)}else this.log("Unknown video PTS for cc "+n.cc+", waiting for video PTS before demuxing audio frag "+n.sn+" of ["+c.startSN+" ,"+c.endSN+"],track "+r),(this.waitingData=this.waitingData||{frag:n,part:a,cache:new ge,complete:!1}).cache.push(new Uint8Array(o)),this.waitingVideoCC=this.videoTrackCC,this.state=Jt}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+n.sn+" of level "+n.level+" will not be buffered")},o._handleFragmentLoadComplete=function(e){this.waitingData?this.waitingData.complete=!0:t.prototype._handleFragmentLoadComplete.call(this,e)},o.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},o.onBufferCreated=function(t,e){var n=e.tracks.audio;n&&(this.mediaBuffer=n.buffer||null),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer||null)},o.onFragBuffered=function(t,e){var n=e.frag,a=e.part;n.type===O.b.AUDIO&&(this.fragContextChanged(n)?this.warn("Fragment "+n.sn+(a?" p: "+a.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):("initSegment"!==n.sn&&(this.fragPrevious=n,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(r.a.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(n,a)))},o.onError=function(e,n){switch(n.details){case s.a.FRAG_LOAD_ERROR:case s.a.FRAG_LOAD_TIMEOUT:case s.a.KEY_LOAD_ERROR:case s.a.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(O.b.AUDIO,n);break;case s.a.AUDIO_TRACK_LOAD_ERROR:case s.a.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==Zt&&this.state!==Gt&&(this.state=n.fatal?Zt:Ut,this.warn(n.details+" while loading frag, switching to "+this.state+" state"));break;case s.a.BUFFER_FULL_ERROR:if("audio"===n.parent&&(this.state===Kt||this.state===Yt)){var a=!0,o=this.getFwdBufferInfo(this.mediaBuffer,O.b.AUDIO);o&&o.len>.5&&(a=!this.reduceMaxBufferLength(o.len)),a&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,t.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},o.onBufferFlushed=function(t,e){e.type===g.a.AUDIO&&(this.bufferFlushed=!0)},o._handleTransmuxComplete=function(t){var e,n="audio",a=this.hls,o=t.remuxResult,i=t.chunkMeta,s=this.getCurrentContext(i);if(!s)return this.warn("The loading context changed while buffering fragment "+i.sn+" of level "+i.level+". This chunk will not be buffered."),void this.resetStartWhenNotLoaded(i.level);var l=s.frag,c=s.part,d=s.level.details,u=o.audio,h=o.text,f=o.id3,p=o.initSegment;if(!this.fragContextChanged(l)&&d){if(this.state=Kt,this.audioSwitch&&u&&this.completeAudioSwitch(),null!=p&&p.tracks&&(this._bufferInitSegment(p.tracks,l,i),a.trigger(r.a.FRAG_PARSING_INIT_SEGMENT,{frag:l,id:n,tracks:p.tracks})),u){var m=u.startPTS,b=u.endPTS,v=u.startDTS,_=u.endDTS;c&&(c.elementaryStreams[g.a.AUDIO]={startPTS:m,endPTS:b,startDTS:v,endDTS:_}),l.setElementaryStreamInfo(g.a.AUDIO,m,b,v,_),this.bufferFragmentData(u,l,c,i)}if(null!=f&&null!==(e=f.samples)&&void 0!==e&&e.length){var y=be({id:n,frag:l,details:d},f);a.trigger(r.a.FRAG_PARSING_METADATA,y)}if(h){var k=be({id:n,frag:l,details:d},h);a.trigger(r.a.FRAG_PARSING_USERDATA,k)}}},o._bufferInitSegment=function(t,e,n){if(this.state===Kt){t.video&&delete t.video;var a=t.audio;if(a){a.levelCodec=a.codec,a.id="audio",this.log("Init audio buffer, container:"+a.container+", codecs[parsed]=["+a.codec+"]"),this.hls.trigger(r.a.BUFFER_CODECS,t);var o=a.initSegment;if(null!=o&&o.byteLength){var i={type:"audio",frag:e,part:null,chunkMeta:n,parent:e.type,data:o};this.hls.trigger(r.a.BUFFER_APPENDING,i)}this.tick()}}},o.loadFragment=function(e,n,a){var o=this.fragmentTracker.getState(e);this.fragCurrent=e,(this.audioSwitch||o===ct.NOT_LOADED||o===ct.PARTIAL)&&("initSegment"===e.sn?this._loadInitSegment(e):n.live&&!Object(i.a)(this.initPTS[e.cc])?(this.log("Waiting for video PTS in continuity counter "+e.cc+" of live stream before loading audio fragment "+e.sn+" of level "+this.trackId),this.state=Jt):(this.startFragRequested=!0,t.prototype.loadFragment.call(this,e,n,a)))},o.completeAudioSwitch=function(){var e=this.hls,n=this.media,a=this.trackId;n&&(this.log("Switching audio track : flushing all audio"),t.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,e.trigger(r.a.AUDIO_TRACK_SWITCHED,{id:a})},a}(te);function ye(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function ke(t,e){return(ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var we=function(t){var e,n;function a(e){var n;return(n=t.call(this,e,"[audio-track-controller]")||this).tracks=[],n.groupId=null,n.tracksInGroup=[],n.trackId=-1,n.trackName="",n.selectDefaultTrack=!0,n.registerListeners(),n}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,ke(e,n);var o,i,l,c=a.prototype;return c.registerListeners=function(){var t=this.hls;t.on(r.a.MANIFEST_LOADING,this.onManifestLoading,this),t.on(r.a.MANIFEST_PARSED,this.onManifestParsed,this),t.on(r.a.LEVEL_LOADING,this.onLevelLoading,this),t.on(r.a.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(r.a.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(r.a.ERROR,this.onError,this)},c.unregisterListeners=function(){var t=this.hls;t.off(r.a.MANIFEST_LOADING,this.onManifestLoading,this),t.off(r.a.MANIFEST_PARSED,this.onManifestParsed,this),t.off(r.a.LEVEL_LOADING,this.onLevelLoading,this),t.off(r.a.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(r.a.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(r.a.ERROR,this.onError,this)},c.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,t.prototype.destroy.call(this)},c.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},c.onManifestParsed=function(t,e){this.tracks=e.audioTracks||[]},c.onAudioTrackLoaded=function(t,e){var n=e.id,a=e.details,o=this.tracksInGroup[n];if(o){var i=o.details;o.details=e.details,this.log("audioTrack "+n+" loaded ["+a.startSN+"-"+a.endSN+"]"),n===this.trackId&&(this.retryCount=0,this.playlistLoaded(n,e,i))}else this.warn("Invalid audio track id "+n)},c.onLevelLoading=function(t,e){this.switchLevel(e.level)},c.onLevelSwitching=function(t,e){this.switchLevel(e.level)},c.switchLevel=function(t){var e=this.hls.levels[t];if(null!=e&&e.audioGroupIds){var n=e.audioGroupIds[e.urlId];if(this.groupId!==n){this.groupId=n;var a=this.tracks.filter((function(t){return!n||t.groupId===n}));this.selectDefaultTrack&&!a.some((function(t){return t.default}))&&(this.selectDefaultTrack=!1),this.tracksInGroup=a;var o={audioTracks:a};this.log("Updating audio tracks, "+a.length+' track(s) found in "'+n+'" group-id'),this.hls.trigger(r.a.AUDIO_TRACKS_UPDATED,o),this.selectInitialTrack()}}},c.onError=function(e,n){t.prototype.onError.call(this,e,n),!n.fatal&&n.context&&n.context.type===O.a.AUDIO_TRACK&&n.context.id===this.trackId&&n.context.groupId===this.groupId&&this.retryLoadingOrFail(n)},c.setAudioTrack=function(t){var e=this.tracksInGroup;if(t<0||t>=e.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var n=e[this.trackId];this.log("Now switching to audio-track index "+t);var a=e[t],o=a.id,i=a.groupId,s=void 0===i?"":i,l=a.name,c=a.type,d=a.url;if(this.trackId=t,this.trackName=l,this.selectDefaultTrack=!1,this.hls.trigger(r.a.AUDIO_TRACK_SWITCHING,{id:o,groupId:s,name:l,type:c,url:d}),!a.details||a.details.live){var u=this.switchParams(a.url,null==n?void 0:n.details);this.loadPlaylist(u)}}},c.selectInitialTrack=function(){this.tracksInGroup;var t=this.trackName,e=this.findTrackId(t)||this.findTrackId();-1!==e?this.setAudioTrack(e):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(r.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},c.findTrackId=function(t){for(var e=this.tracksInGroup,n=0;n<e.length;n++){var a=e[n];if((!this.selectDefaultTrack||a.default)&&(!t||t===a.name))return a.id}return-1},c.loadPlaylist=function(t){var e=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(e)){var n=e.id,a=e.groupId,o=e.url;if(t)try{o=t.addDirectives(o)}catch(t){this.warn("Could not construct new URL with HLS Delivery Directives: "+t)}this.log("loading audio-track playlist for id: "+n),this.clearTimer(),this.hls.trigger(r.a.AUDIO_TRACK_LOADING,{url:o,id:n,groupId:a,deliveryDirectives:t||null})}},o=a,(i=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.selectDefaultTrack=!1,this.setAudioTrack(t)}}])&&ye(o.prototype,i),l&&ye(o,l),Object.defineProperty(o,"prototype",{writable:!1}),a}(it);function xe(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function De(t,e){return(De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Ae=function(t){var e,n;function a(e,n){var a;return(a=t.call(this,e,n,"[subtitle-stream-controller]")||this).levels=[],a.currentTrackId=-1,a.tracksBuffered=[],a.mainDetails=null,a._registerListeners(),a}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,De(e,n);var o,i,s,l=a.prototype;return l.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},l._registerListeners=function(){var t=this.hls;t.on(r.a.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(r.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(r.a.MANIFEST_LOADING,this.onManifestLoading,this),t.on(r.a.LEVEL_LOADED,this.onLevelLoaded,this),t.on(r.a.ERROR,this.onError,this),t.on(r.a.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(r.a.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(r.a.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(r.a.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(r.a.BUFFER_FLUSHING,this.onBufferFlushing,this)},l._unregisterListeners=function(){var t=this.hls;t.off(r.a.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(r.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(r.a.MANIFEST_LOADING,this.onManifestLoading,this),t.off(r.a.LEVEL_LOADED,this.onLevelLoaded,this),t.off(r.a.ERROR,this.onError,this),t.off(r.a.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(r.a.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(r.a.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(r.a.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.off(r.a.BUFFER_FLUSHING,this.onBufferFlushing,this)},l.startLoad=function(){this.stopLoad(),this.state=Ut,this.setInterval(500),this.tick()},l.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},l.onLevelLoaded=function(t,e){this.mainDetails=e.details},l.onSubtitleFragProcessed=function(t,e){var n=e.frag,a=e.success;if(this.fragPrevious=n,this.state=Ut,a){var o=this.tracksBuffered[this.currentTrackId];if(o){for(var i,r=n.start,s=0;s<o.length;s++)if(r>=o[s].start&&r<=o[s].end){i=o[s];break}var l=n.start+n.duration;i?i.end=l:(i={start:r,end:l},o.push(i)),this.fragmentTracker.fragBuffered(n)}}},l.onBufferFlushing=function(t,e){var n=e.startOffset,a=e.endOffset;if(0===n&&a!==Number.POSITIVE_INFINITY){var o=this.currentTrackId,i=this.levels;if(!i.length||!i[o]||!i[o].details)return;var r=a-i[o].details.targetduration;if(r<=0)return;e.endOffsetSubtitles=Math.max(0,r),this.tracksBuffered.forEach((function(t){for(var e=0;e<t.length;)if(t[e].end<=r)t.shift();else{if(!(t[e].start<r))break;t[e].start=r,e++}})),this.fragmentTracker.removeFragmentsInRange(n,r,O.b.SUBTITLE)}},l.onError=function(t,e){var n,a=e.frag;a&&a.type===O.b.SUBTITLE&&(null!==(n=this.fragCurrent)&&void 0!==n&&n.loader&&this.fragCurrent.loader.abort(),this.state=Ut)},l.onSubtitleTracksUpdated=function(t,e){var n=this,a=e.subtitleTracks;this.tracksBuffered=[],this.levels=a.map((function(t){return new X(t)})),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach((function(t){n.tracksBuffered[t.id]=[]})),this.mediaBuffer=null},l.onSubtitleTrackSwitch=function(t,e){if(this.currentTrackId=e.id,this.levels.length&&-1!==this.currentTrackId){var n=this.levels[this.currentTrackId];null!=n&&n.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,n&&this.setInterval(500)}else this.clearInterval()},l.onSubtitleTrackLoaded=function(t,e){var n,a=e.details,o=e.id,i=this.currentTrackId,r=this.levels;if(r.length){var s=r[i];if(!(o>=r.length||o!==i)&&s){if(this.mediaBuffer=this.mediaBufferTimeRanges,a.live||null!==(n=s.details)&&void 0!==n&&n.live){var l=this.mainDetails;if(a.deltaUpdateFailed||!l)return;var c=l.fragments[0];s.details?0===this.alignPlaylists(a,s.details)&&c&&ot(a,c.start):a.hasProgramDateTime&&l.hasProgramDateTime?xt(a,l):c&&ot(a,c.start)}s.details=a,this.levelLastLoaded=o,this.tick(),a.live&&!this.fragCurrent&&this.media&&this.state===Ut&&(At(null,a.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),s.details=void 0))}}},l._handleFragmentLoadComplete=function(t){var e=t.frag,n=t.payload,a=e.decryptdata,o=this.hls;if(!this.fragContextChanged(e)&&n&&n.byteLength>0&&a&&a.key&&a.iv&&"AES-128"===a.method){var i=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(n),a.key.buffer,a.iv.buffer).then((function(t){var n=performance.now();o.trigger(r.a.FRAG_DECRYPTED,{frag:e,payload:t,stats:{tstart:i,tdecrypt:n}})}))}},l.doTick=function(){if(this.media){if(this.state===Ut){var t=this.currentTrackId,e=this.levels;if(!e.length||!e[t]||!e[t].details)return;var n=e[t].details,a=n.targetduration,o=this.config,i=this.media,r=bt.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],i.currentTime-a,o.maxBufferHole),s=r.end;if(r.len>this.getMaxBufferLength()+a)return;var l,c=n.fragments,d=c.length,u=n.edge,h=this.fragPrevious;if(s<u){var f=o.maxFragLookUpTolerance;!(l=At(h,c,Math.max(c[0].start,s),f))&&h&&h.start<c[0].start&&(l=c[0])}else l=c[d-1];if(!(l=this.mapToInitFragWhenRequired(l)))return;if(this.fragmentTracker.getState(l)!==ct.NOT_LOADED)return;l.encrypted?this.loadKey(l,n):this.loadFragment(l,n,s)}}else this.state=Ut},l.loadFragment=function(e,n,a){this.fragCurrent=e,"initSegment"===e.sn?this._loadInitSegment(e):t.prototype.loadFragment.call(this,e,n,a)},o=a,(i=[{key:"mediaBufferTimeRanges",get:function(){return new Te(this.tracksBuffered[this.currentTrackId]||[])}}])&&xe(o.prototype,i),s&&xe(o,s),Object.defineProperty(o,"prototype",{writable:!1}),a}(te),Te=function(t){this.buffered=void 0;var e=function(e,n,a){if((n>>>=0)>a-1)throw new DOMException("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+n+") is greater than the maximum bound ("+a+")");return t[n][e]};this.buffered={get length(){return t.length},end:function(n){return e("end",n,t.length)},start:function(n){return e("start",n,t.length)}}};function Ee(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function Ce(t,e){return(Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Se(t){for(var e=[],n=0;n<t.length;n++){var a=t[n];"subtitles"===a.kind&&a.label&&e.push(t[n])}return e}var Le,Ie=function(t){var e,n;function a(e){var n;return(n=t.call(this,e,"[subtitle-track-controller]")||this).media=null,n.tracks=[],n.groupId=null,n.tracksInGroup=[],n.trackId=-1,n.selectDefaultTrack=!0,n.queuedDefaultTrack=-1,n.trackChangeListener=function(){return n.onTextTracksChanged()},n.asyncPollTrackChange=function(){return n.pollTrackChange(0)},n.useTextTrackPolling=!1,n.subtitlePollingInterval=-1,n._subtitleDisplay=!0,n.registerListeners(),n}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,Ce(e,n);var o,i,s,l=a.prototype;return l.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,t.prototype.destroy.call(this)},l.registerListeners=function(){var t=this.hls;t.on(r.a.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(r.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(r.a.MANIFEST_LOADING,this.onManifestLoading,this),t.on(r.a.MANIFEST_PARSED,this.onManifestParsed,this),t.on(r.a.LEVEL_LOADING,this.onLevelLoading,this),t.on(r.a.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(r.a.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(r.a.ERROR,this.onError,this)},l.unregisterListeners=function(){var t=this.hls;t.off(r.a.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(r.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(r.a.MANIFEST_LOADING,this.onManifestLoading,this),t.off(r.a.MANIFEST_PARSED,this.onManifestParsed,this),t.off(r.a.LEVEL_LOADING,this.onLevelLoading,this),t.off(r.a.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(r.a.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(r.a.ERROR,this.onError,this)},l.onMediaAttached=function(t,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},l.pollTrackChange=function(t){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,t)},l.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),Se(this.media.textTracks).forEach((function(t){$(t)})),this.subtitleTrack=-1,this.media=null)},l.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},l.onManifestParsed=function(t,e){this.tracks=e.subtitleTracks},l.onSubtitleTrackLoaded=function(t,e){var n=e.id,a=e.details,o=this.trackId,i=this.tracksInGroup[o];if(i){var r=i.details;i.details=e.details,this.log("subtitle track "+n+" loaded ["+a.startSN+"-"+a.endSN+"]"),n===this.trackId&&(this.retryCount=0,this.playlistLoaded(n,e,r))}else this.warn("Invalid subtitle track id "+n)},l.onLevelLoading=function(t,e){this.switchLevel(e.level)},l.onLevelSwitching=function(t,e){this.switchLevel(e.level)},l.switchLevel=function(t){var e=this.hls.levels[t];if(null!=e&&e.textGroupIds){var n=e.textGroupIds[e.urlId];if(this.groupId!==n){var a=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,o=this.tracks.filter((function(t){return!n||t.groupId===n}));this.tracksInGroup=o;var i=this.findTrackId(null==a?void 0:a.name)||this.findTrackId();this.groupId=n;var s={subtitleTracks:o};this.log("Updating subtitle tracks, "+o.length+' track(s) found in "'+n+'" group-id'),this.hls.trigger(r.a.SUBTITLE_TRACKS_UPDATED,s),-1!==i&&this.setSubtitleTrack(i,a)}}},l.findTrackId=function(t){for(var e=this.tracksInGroup,n=0;n<e.length;n++){var a=e[n];if((!this.selectDefaultTrack||a.default)&&(!t||t===a.name))return a.id}return-1},l.onError=function(e,n){t.prototype.onError.call(this,e,n),!n.fatal&&n.context&&n.context.type===O.a.SUBTITLE_TRACK&&n.context.id===this.trackId&&n.context.groupId===this.groupId&&this.retryLoadingOrFail(n)},l.loadPlaylist=function(t){var e=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(e)){var n=e.id,a=e.groupId,o=e.url;if(t)try{o=t.addDirectives(o)}catch(t){this.warn("Could not construct new URL with HLS Delivery Directives: "+t)}this.log("Loading subtitle playlist for id "+n),this.hls.trigger(r.a.SUBTITLE_TRACK_LOADING,{url:o,id:n,groupId:a,deliveryDirectives:t||null})}},l.toggleTrackModes=function(t){var e=this,n=this.media,a=this.trackId;if(n){var o=Se(n.textTracks),i=o.filter((function(t){return t.groupId===e.groupId}));if(-1===t)[].slice.call(o).forEach((function(t){t.mode="disabled"}));else{var r=i[a];r&&(r.mode="disabled")}var s=i[t];s&&(s.mode=this.subtitleDisplay?"showing":"hidden")}},l.setSubtitleTrack=function(t,e){var n,a=this.tracksInGroup;if(this.media){if(this.trackId!==t&&this.toggleTrackModes(t),!(this.trackId===t&&(-1===t||null!==(n=a[t])&&void 0!==n&&n.details)||t<-1||t>=a.length)){this.clearTimer();var o=a[t];if(this.log("Switching to subtitle track "+t),this.trackId=t,o){var i=o.id,s=o.groupId,l=void 0===s?"":s,c=o.name,d=o.type,u=o.url;this.hls.trigger(r.a.SUBTITLE_TRACK_SWITCH,{id:i,groupId:l,name:c,type:d,url:u});var h=this.switchParams(o.url,null==e?void 0:e.details);this.loadPlaylist(h)}else this.hls.trigger(r.a.SUBTITLE_TRACK_SWITCH,{id:t})}}else this.queuedDefaultTrack=t},l.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var t=-1,e=Se(this.media.textTracks),n=0;n<e.length;n++)if("hidden"===e[n].mode)t=n;else if("showing"===e[n].mode){t=n;break}this.subtitleTrack!==t&&(this.subtitleTrack=t)}},o=a,(i=[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(t){this._subtitleDisplay=t,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.selectDefaultTrack=!1;var e=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(t,e)}}])&&Ee(o.prototype,i),s&&Ee(o,s),Object.defineProperty(o,"prototype",{writable:!1}),a}(it),Oe=function(){function t(t){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=t}var e=t.prototype;return e.append=function(t,e){var n=this.queues[e];n.push(t),1===n.length&&this.buffers[e]&&this.executeNext(e)},e.insertAbort=function(t,e){this.queues[e].unshift(t),this.executeNext(e)},e.appendBlocker=function(t){var e,n=new Promise((function(t){e=t})),a={execute:e,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(a,t),n},e.executeNext=function(t){var e=this.buffers,n=this.queues,a=e[t],o=n[t];if(o.length){var i=o[0];try{i.execute()}catch(e){l.b.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),i.onError(e),a&&a.updating||(o.shift(),this.executeNext(t))}}},e.shiftAndExecuteNext=function(t){this.queues[t].shift(),this.executeNext(t)},e.current=function(t){return this.queues[t][0]},t}(),Fe=ee(),Re=/([ha]vc.)(?:\.[^.,]+)+/,Me=function(){function t(t){var e=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var t=e.hls,n=e.media,a=e.mediaSource;l.b.log("[buffer-controller]: Media source opened"),n&&(e.updateMediaElementDuration(),t.trigger(r.a.MEDIA_ATTACHED,{media:n})),a&&a.removeEventListener("sourceopen",e._onMediaSourceOpen),e.checkPendingTracks()},this._onMediaSourceClose=function(){l.b.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){l.b.log("[buffer-controller]: Media source ended")},this.hls=t,this._initSourceBuffer(),this.registerListeners()}var e=t.prototype;return e.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},e.destroy=function(){this.unregisterListeners(),this.details=null},e.registerListeners=function(){var t=this.hls;t.on(r.a.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(r.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(r.a.MANIFEST_PARSED,this.onManifestParsed,this),t.on(r.a.BUFFER_RESET,this.onBufferReset,this),t.on(r.a.BUFFER_APPENDING,this.onBufferAppending,this),t.on(r.a.BUFFER_CODECS,this.onBufferCodecs,this),t.on(r.a.BUFFER_EOS,this.onBufferEos,this),t.on(r.a.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(r.a.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(r.a.FRAG_PARSED,this.onFragParsed,this),t.on(r.a.FRAG_CHANGED,this.onFragChanged,this)},e.unregisterListeners=function(){var t=this.hls;t.off(r.a.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(r.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(r.a.MANIFEST_PARSED,this.onManifestParsed,this),t.off(r.a.BUFFER_RESET,this.onBufferReset,this),t.off(r.a.BUFFER_APPENDING,this.onBufferAppending,this),t.off(r.a.BUFFER_CODECS,this.onBufferCodecs,this),t.off(r.a.BUFFER_EOS,this.onBufferEos,this),t.off(r.a.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(r.a.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(r.a.FRAG_PARSED,this.onFragParsed,this),t.off(r.a.FRAG_CHANGED,this.onFragChanged,this)},e._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new Oe(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},e.onManifestParsed=function(t,e){var n=2;(e.audio&&!e.video||!e.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,this.details=null,l.b.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},e.onMediaAttaching=function(t,e){var n=this.media=e.media;if(n&&Fe){var a=this.mediaSource=new Fe;a.addEventListener("sourceopen",this._onMediaSourceOpen),a.addEventListener("sourceended",this._onMediaSourceEnded),a.addEventListener("sourceclose",this._onMediaSourceClose),n.src=self.URL.createObjectURL(a),this._objectUrl=n.src}},e.onMediaDetaching=function(){var t=this.media,e=this.mediaSource,n=this._objectUrl;if(e){if(l.b.log("[buffer-controller]: media source detaching"),"open"===e.readyState)try{e.endOfStream()}catch(t){l.b.warn("[buffer-controller]: onMediaDetaching: "+t.message+" while calling endOfStream")}this.onBufferReset(),e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),t&&(n&&self.URL.revokeObjectURL(n),t.src===n?(t.removeAttribute("src"),t.load()):l.b.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(r.a.MEDIA_DETACHED,void 0)},e.onBufferReset=function(){var t=this;this.getSourceBufferTypes().forEach((function(e){var n=t.sourceBuffer[e];try{n&&(t.removeBufferListeners(e),t.mediaSource&&t.mediaSource.removeSourceBuffer(n),t.sourceBuffer[e]=void 0)}catch(t){l.b.warn("[buffer-controller]: Failed to reset the "+e+" buffer",t)}})),this._initSourceBuffer()},e.onBufferCodecs=function(t,e){var n=this,a=this.getSourceBufferTypes().length;Object.keys(e).forEach((function(t){if(a){var o=n.tracks[t];if(o&&"function"==typeof o.buffer.changeType){var i=e[t],r=i.id,s=i.codec,c=i.levelCodec,d=i.container,u=i.metadata,h=(o.levelCodec||o.codec).replace(Re,"$1"),f=(c||s).replace(Re,"$1");if(h!==f){var p=d+";codecs="+(c||s);n.appendChangeType(t,p),l.b.log("[buffer-controller]: switching codec "+h+" to "+f),n.tracks[t]={buffer:o.buffer,codec:s,container:d,levelCodec:c,metadata:u,id:r}}}}else n.pendingTracks[t]=e[t]})),a||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},e.appendChangeType=function(t,e){var n=this,a=this.operationQueue,o={execute:function(){var o=n.sourceBuffer[t];o&&(l.b.log("[buffer-controller]: changing "+t+" sourceBuffer type to "+e),o.changeType(e)),a.shiftAndExecuteNext(t)},onStart:function(){},onComplete:function(){},onError:function(e){l.b.warn("[buffer-controller]: Failed to change "+t+" SourceBuffer type",e)}};a.append(o,t)},e.onBufferAppending=function(t,e){var n=this,a=this.hls,o=this.operationQueue,i=this.tracks,c=e.data,d=e.type,u=e.frag,h=e.part,f=e.chunkMeta,p=f.buffering[d],m=self.performance.now();p.start=m;var g=u.stats.buffering,b=h?h.stats.buffering:null;0===g.start&&(g.start=m),b&&0===b.start&&(b.start=m);var v=i.audio,_="audio"===d&&1===f.id&&"audio/mpeg"===(null==v?void 0:v.container),y={execute:function(){if(p.executeStart=self.performance.now(),_){var t=n.sourceBuffer[d];if(t){var e=u.start-t.timestampOffset;Math.abs(e)>=.1&&(l.b.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+u.start+" (delta: "+e+") sn: "+u.sn+")"),t.timestampOffset=u.start)}}n.appendExecutor(c,d)},onStart:function(){},onComplete:function(){var t=self.performance.now();p.executeEnd=p.end=t,0===g.first&&(g.first=t),b&&0===b.first&&(b.first=t);var e=n.sourceBuffer,a={};for(var o in e)a[o]=bt.getBuffered(e[o]);n.appendError=0,n.hls.trigger(r.a.BUFFER_APPENDED,{type:d,frag:u,part:h,chunkMeta:f,parent:u.type,timeRanges:a})},onError:function(t){l.b.error("[buffer-controller]: Error encountered while trying to append to the "+d+" SourceBuffer",t);var e={type:s.b.MEDIA_ERROR,parent:u.type,details:s.a.BUFFER_APPEND_ERROR,err:t,fatal:!1};t.code===DOMException.QUOTA_EXCEEDED_ERR?e.details=s.a.BUFFER_FULL_ERROR:(n.appendError++,e.details=s.a.BUFFER_APPEND_ERROR,n.appendError>a.config.appendErrorMaxRetry&&(l.b.error("[buffer-controller]: Failed "+a.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),e.fatal=!0,a.stopLoad())),a.trigger(r.a.ERROR,e)}};o.append(y,d)},e.onBufferFlushing=function(t,e){var n=this,a=this.operationQueue,o=function(t){return{execute:n.removeExecutor.bind(n,t,e.startOffset,e.endOffset),onStart:function(){},onComplete:function(){n.hls.trigger(r.a.BUFFER_FLUSHED,{type:t})},onError:function(e){l.b.warn("[buffer-controller]: Failed to remove from "+t+" SourceBuffer",e)}}};e.type?a.append(o(e.type),e.type):this.getSourceBufferTypes().forEach((function(t){a.append(o(t),t)}))},e.onFragParsed=function(t,e){var n=this,a=e.frag,o=e.part,i=[],s=o?o.elementaryStreams:a.elementaryStreams;s[g.a.AUDIOVIDEO]?i.push("audiovideo"):(s[g.a.AUDIO]&&i.push("audio"),s[g.a.VIDEO]&&i.push("video")),0===i.length&&l.b.warn("Fragments must have at least one ElementaryStreamType set. type: "+a.type+" level: "+a.level+" sn: "+a.sn),this.blockBuffers((function(){var t=self.performance.now();a.stats.buffering.end=t,o&&(o.stats.buffering.end=t);var e=o?o.stats:a.stats;n.hls.trigger(r.a.FRAG_BUFFERED,{frag:a,part:o,stats:e,id:a.type})}),i)},e.onFragChanged=function(t,e){this.flushBackBuffer()},e.onBufferEos=function(t,e){var n=this;this.getSourceBufferTypes().reduce((function(t,a){var o=n.sourceBuffer[a];return e.type&&e.type!==a||o&&!o.ended&&(o.ended=!0,l.b.log("[buffer-controller]: "+a+" sourceBuffer now EOS")),t&&!(o&&!o.ended)}),!0)&&this.blockBuffers((function(){var t=n.mediaSource;t&&"open"===t.readyState&&t.endOfStream()}))},e.onLevelUpdated=function(t,e){var n=e.details;n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},e.flushBackBuffer=function(){var t=this.hls,e=this.details,n=this.media,a=this.sourceBuffer;if(n&&null!==e){var o=this.getSourceBufferTypes();if(o.length){var s=e.live&&null!==t.config.liveBackBufferLength?t.config.liveBackBufferLength:t.config.backBufferLength;if(Object(i.a)(s)&&!(s<0)){var l=n.currentTime,c=e.levelTargetDuration,d=Math.max(s,c),u=Math.floor(l/c)*c-d;o.forEach((function(n){var o=a[n];if(o){var i=bt.getBuffered(o);i.length>0&&u>i.start(0)&&(t.trigger(r.a.BACK_BUFFER_REACHED,{bufferEnd:u}),e.live&&t.trigger(r.a.LIVE_BACK_BUFFER_REACHED,{bufferEnd:u}),t.trigger(r.a.BUFFER_FLUSHING,{startOffset:0,endOffset:u,type:n}))}}))}}}},e.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var t=this.details,e=this.hls,n=this.media,a=this.mediaSource,o=t.fragments[0].start+t.totalduration,r=n.duration,s=Object(i.a)(a.duration)?a.duration:0;t.live&&e.config.liveDurationInfinity?(l.b.log("[buffer-controller]: Media Source duration is set to Infinity"),a.duration=1/0,this.updateSeekableRange(t)):(o>s&&o>r||!Object(i.a)(r))&&(l.b.log("[buffer-controller]: Updating Media Source duration to "+o.toFixed(3)),a.duration=o)}},e.updateSeekableRange=function(t){var e=this.mediaSource,n=t.fragments;if(n.length&&t.live&&null!=e&&e.setLiveSeekableRange){var a=Math.max(0,n[0].start),o=Math.max(a,a+t.totalduration);e.setLiveSeekableRange(a,o)}},e.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,e=this.operationQueue,n=this.pendingTracks,a=Object.keys(n).length;if(a&&!t||2===a){this.createSourceBuffers(n),this.pendingTracks={};var o=this.getSourceBufferTypes();if(0===o.length)return void this.hls.trigger(r.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});o.forEach((function(t){e.executeNext(t)}))}},e.createSourceBuffers=function(t){var e=this.sourceBuffer,n=this.mediaSource;if(!n)throw Error("createSourceBuffers called when mediaSource was null");var a=0;for(var o in t)if(!e[o]){var i=t[o];if(!i)throw Error("source buffer exists for track "+o+", however track does not");var c=i.levelCodec||i.codec,d=i.container+";codecs="+c;l.b.log("[buffer-controller]: creating sourceBuffer("+d+")");try{var u=e[o]=n.addSourceBuffer(d),h=o;this.addBufferListener(h,"updatestart",this._onSBUpdateStart),this.addBufferListener(h,"updateend",this._onSBUpdateEnd),this.addBufferListener(h,"error",this._onSBUpdateError),this.tracks[o]={buffer:u,codec:c,container:i.container,levelCodec:i.levelCodec,metadata:i.metadata,id:i.id},a++}catch(t){l.b.error("[buffer-controller]: error while trying to add sourceBuffer: "+t.message),this.hls.trigger(r.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:t,mimeType:d})}}a&&this.hls.trigger(r.a.BUFFER_CREATED,{tracks:this.tracks})},e._onSBUpdateStart=function(t){this.operationQueue.current(t).onStart()},e._onSBUpdateEnd=function(t){var e=this.operationQueue;e.current(t).onComplete(),e.shiftAndExecuteNext(t)},e._onSBUpdateError=function(t,e){l.b.error("[buffer-controller]: "+t+" SourceBuffer error",e),this.hls.trigger(r.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_APPENDING_ERROR,fatal:!1});var n=this.operationQueue.current(t);n&&n.onError(e)},e.removeExecutor=function(t,e,n){var a=this.media,o=this.mediaSource,r=this.operationQueue,s=this.sourceBuffer[t];if(!a||!o||!s)return l.b.warn("[buffer-controller]: Attempting to remove from the "+t+" SourceBuffer, but it does not exist"),void r.shiftAndExecuteNext(t);var c=Object(i.a)(a.duration)?a.duration:1/0,d=Object(i.a)(o.duration)?o.duration:1/0,u=Math.max(0,e),h=Math.min(n,c,d);h>u?(l.b.log("[buffer-controller]: Removing ["+u+","+h+"] from the "+t+" SourceBuffer"),s.remove(u,h)):r.shiftAndExecuteNext(t)},e.appendExecutor=function(t,e){var n=this.operationQueue,a=this.sourceBuffer[e];if(!a)return l.b.warn("[buffer-controller]: Attempting to append to the "+e+" SourceBuffer, but it does not exist"),void n.shiftAndExecuteNext(e);a.ended=!1,a.appendBuffer(t)},e.blockBuffers=function(t,e){var n=this;if(void 0===e&&(e=this.getSourceBufferTypes()),!e.length)return l.b.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(t);var a=this.operationQueue,o=e.map((function(t){return a.appendBlocker(t)}));Promise.all(o).then((function(){t(),e.forEach((function(t){var e=n.sourceBuffer[t];e&&e.updating||a.shiftAndExecuteNext(t)}))}))},e.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},e.addBufferListener=function(t,e,n){var a=this.sourceBuffer[t];if(a){var o=n.bind(this,t);this.listeners[t].push({event:e,listener:o}),a.addEventListener(e,o)}},e.removeBufferListeners=function(t){var e=this.sourceBuffer[t];e&&this.listeners[t].forEach((function(t){e.removeEventListener(t.event,t.listener)}))},t}(),Ne={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Be=function(t){var e=t;return Ne.hasOwnProperty(t)&&(e=Ne[t]),String.fromCharCode(e)},$e={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Pe={17:2,18:4,21:6,22:8,23:10,19:13,20:15},je={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},ze={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Ge=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];!function(t){t[t.ERROR=0]="ERROR",t[t.TEXT=1]="TEXT",t[t.WARNING=2]="WARNING",t[t.INFO=2]="INFO",t[t.DEBUG=3]="DEBUG",t[t.DATA=3]="DATA"}(Le||(Le={}));var Ue=function(){function t(){this.time=null,this.verboseLevel=Le.ERROR}return t.prototype.log=function(t,e){this.verboseLevel>=t&&l.b.log(this.time+" ["+t+"] "+e)},t}(),He=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toString(16));return e},qe=function(){function t(t,e,n,a,o){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=t||"white",this.underline=e||!1,this.italics=n||!1,this.background=a||"black",this.flash=o||!1}var e=t.prototype;return e.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],n=0;n<e.length;n++){var a=e[n];t.hasOwnProperty(a)&&(this[a]=t[a])}},e.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},e.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},e.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),We=function(){function t(t,e,n,a,o,i){this.uchar=void 0,this.penState=void 0,this.uchar=t||" ",this.penState=new qe(e,n,a,o,i)}var e=t.prototype;return e.reset=function(){this.uchar=" ",this.penState.reset()},e.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},e.setPenState=function(t){this.penState.copy(t)},e.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},e.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},e.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),Ve=function(){function t(t){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var e=0;e<100;e++)this.chars.push(new We);this.logger=t,this.pos=0,this.currPenState=new qe}var e=t.prototype;return e.equals=function(t){for(var e=!0,n=0;n<100;n++)if(!this.chars[n].equals(t.chars[n])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<100;e++)this.chars[e].copy(t.chars[e])},e.isEmpty=function(){for(var t=!0,e=0;e<100;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},e.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(Le.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(this.logger.log(Le.DEBUG,"Too large cursor position "+this.pos),this.pos=100)},e.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)},e.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.insertChar=function(t){t>=144&&this.backSpace();var e=Be(t);this.pos>=100?this.logger.log(Le.ERROR,"Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},e.clearFromPos=function(t){var e;for(e=t;e<100;e++)this.chars[e].reset()},e.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.getTextString=function(){for(var t=[],e=!0,n=0;n<100;n++){var a=this.chars[n].uchar;" "!==a&&(e=!1),t.push(a)}return e?"":t.join("")},e.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),Ke=function(){function t(t){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var e=0;e<15;e++)this.rows.push(new Ve(t));this.logger=t,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var e=t.prototype;return e.reset=function(){for(var t=0;t<15;t++)this.rows[t].clear();this.currRow=14},e.equals=function(t){for(var e=!0,n=0;n<15;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<15;e++)this.rows[e].copy(t.rows[e])},e.isEmpty=function(){for(var t=!0,e=0;e<15;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},e.backSpace=function(){this.rows[this.currRow].backSpace()},e.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.insertChar=function(t){this.rows[this.currRow].insertChar(t)},e.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},e.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},e.setCursor=function(t){this.logger.log(Le.INFO,"setCursor: "+t),this.rows[this.currRow].setCursor(t)},e.setPAC=function(t){this.logger.log(Le.INFO,"pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var n=0;n<15;n++)this.rows[n].clear();var a=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){var i=o.rows[a].cueStartTime,r=this.logger.time;if(i&&null!==r&&i<r)for(var s=0;s<this.nrRollUpRows;s++)this.rows[e-this.nrRollUpRows+s+1].copy(o.rows[a+s])}}this.currRow=e;var l=this.rows[this.currRow];if(null!==t.indent){var c=t.indent,d=Math.max(c-1,0);l.setCursor(t.indent),t.color=l.chars[d].penState.foreground}var u={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(u)},e.setBkgData=function(t){this.logger.log(Le.INFO,"bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},e.setRollUpRows=function(t){this.nrRollUpRows=t},e.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(Le.TEXT,this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(Le.INFO,"Rolling up")}else this.logger.log(Le.DEBUG,"roll_up but nrRollUpRows not set yet")},e.getDisplayText=function(t){t=t||!1;for(var e=[],n="",a=-1,o=0;o<15;o++){var i=this.rows[o].getTextString();i&&(a=o+1,t?e.push("Row "+a+": '"+i+"'"):e.push(i.trim()))}return e.length>0&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n},e.getTextAndFormat=function(){return this.rows},t}(),Ye=function(){function t(t,e,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new Ke(n),this.nonDisplayedMemory=new Ke(n),this.lastOutputScreen=new Ke(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}var e=t.prototype;return e.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},e.getHandler=function(){return this.outputFilter},e.setHandler=function(t){this.outputFilter=t},e.setPAC=function(t){this.writeScreen.setPAC(t)},e.setBkgData=function(t){this.writeScreen.setBkgData(t)},e.setMode=function(t){t!==this.mode&&(this.mode=t,this.logger.log(Le.INFO,"MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},e.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(Le.INFO,n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(Le.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.ccRCL=function(){this.logger.log(Le.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.ccBS=function(){this.logger.log(Le.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.ccAOF=function(){},e.ccAON=function(){},e.ccDER=function(){this.logger.log(Le.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.ccRU=function(t){this.logger.log(Le.INFO,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},e.ccFON=function(){this.logger.log(Le.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.ccRDC=function(){this.logger.log(Le.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.ccTR=function(){this.logger.log(Le.INFO,"TR"),this.setMode("MODE_TEXT")},e.ccRTD=function(){this.logger.log(Le.INFO,"RTD"),this.setMode("MODE_TEXT")},e.ccEDM=function(){this.logger.log(Le.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.ccCR=function(){this.logger.log(Le.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.ccENM=function(){this.logger.log(Le.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.ccEOC=function(){if(this.logger.log(Le.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(Le.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.ccTO=function(t){this.logger.log(Le.INFO,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},e.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{var n=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}this.logger.log(Le.INFO,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},e.outputDataUpdate=function(t){void 0===t&&(t=!1);var e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},e.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}();function Xe(t,e,n){n.a=t,n.b=e}function Ze(t,e,n){return n.a===t&&n.b===e}var Je=function(){function t(t,e,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var a=new Ue;this.channels=[null,new Ye(t,e,a),new Ye(t+1,n,a)],this.cmdHistory={a:null,b:null},this.logger=a}var e=t.prototype;return e.getHandler=function(t){return this.channels[t].getHandler()},e.setHandler=function(t,e){this.channels[t].setHandler(e)},e.addData=function(t,e){var n,a,o,i=!1;this.logger.time=t;for(var r=0;r<e.length;r+=2)if(a=127&e[r],o=127&e[r+1],0!==a||0!==o){if(this.logger.log(Le.DATA,"["+He([e[r],e[r+1]])+"] -> ("+He([a,o])+")"),(n=this.parseCmd(a,o))||(n=this.parseMidrow(a,o)),n||(n=this.parsePAC(a,o)),n||(n=this.parseBackgroundAttributes(a,o)),!n&&(i=this.parseChars(a,o))){var s=this.currentChannel;s&&s>0?this.channels[s].insertChars(i):this.logger.log(Le.WARNING,"No channel found yet. TEXT-MODE?")}n||i||this.logger.log(Le.WARNING,"Couldn't parse cleaned data "+He([a,o])+" orig: "+He([e[r],e[r+1]]))}},e.parseCmd=function(t,e){var n=this.cmdHistory;if(!((20===t||28===t||21===t||29===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=33&&e<=35))return!1;if(Ze(t,e,n))return Xe(null,null,n),this.logger.log(Le.DEBUG,"Repeated command ("+He([t,e])+") is dropped"),!0;var a=20===t||21===t||23===t?1:2,o=this.channels[a];return 20===t||21===t||28===t||29===t?32===e?o.ccRCL():33===e?o.ccBS():34===e?o.ccAOF():35===e?o.ccAON():36===e?o.ccDER():37===e?o.ccRU(2):38===e?o.ccRU(3):39===e?o.ccRU(4):40===e?o.ccFON():41===e?o.ccRDC():42===e?o.ccTR():43===e?o.ccRTD():44===e?o.ccEDM():45===e?o.ccCR():46===e?o.ccENM():47===e&&o.ccEOC():o.ccTO(e-32),Xe(t,e,n),this.currentChannel=a,!0},e.parseMidrow=function(t,e){var n=0;if((17===t||25===t)&&e>=32&&e<=47){if((n=17===t?1:2)!==this.currentChannel)return this.logger.log(Le.ERROR,"Mismatch channel in midrow parsing"),!1;var a=this.channels[n];return!!a&&(a.ccMIDROW(e),this.logger.log(Le.DEBUG,"MIDROW ("+He([t,e])+")"),!0)}return!1},e.parsePAC=function(t,e){var n,a=this.cmdHistory;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127||(16===t||24===t)&&e>=64&&e<=95))return!1;if(Ze(t,e,a))return Xe(null,null,a),!0;var o=t<=23?1:2;n=e>=64&&e<=95?1===o?$e[t]:je[t]:1===o?Pe[t]:ze[t];var i=this.channels[o];return!!i&&(i.setPAC(this.interpretPAC(n,e)),Xe(t,e,a),this.currentChannel=o,!0)},e.interpretPAC=function(t,e){var n,a={color:null,italics:!1,indent:null,underline:!1,row:t};return n=e>95?e-96:e-64,a.underline=1==(1&n),n<=13?a.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(a.italics=!0,a.color="white"):a.indent=4*Math.floor((n-16)/2),a},e.parseChars=function(t,e){var n,a,o=null,i=null;if(t>=25?(n=2,i=t-8):(n=1,i=t),i>=17&&i<=19?(a=17===i?e+80:18===i?e+112:e+144,this.logger.log(Le.INFO,"Special char '"+Be(a)+"' in channel "+n),o=[a]):t>=32&&t<=127&&(o=0===e?[t]:[t,e]),o){var r=He(o);this.logger.log(Le.DEBUG,"Char codes =  "+r.join(",")),Xe(t,e,this.cmdHistory)}return o},e.parseBackgroundAttributes=function(t,e){var n;if(!((16===t||24===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=45&&e<=47))return!1;var a={};16===t||24===t?(n=Math.floor((e-32)/2),a.background=Ge[n],e%2==1&&(a.background=a.background+"_semi")):45===e?a.background="transparent":(a.foreground="black",47===e&&(a.underline=!0));var o=t<=23?1:2;return this.channels[o].setBkgData(a),Xe(t,e,this.cmdHistory),!0},e.reset=function(){for(var t=0;t<Object.keys(this.channels).length;t++){var e=this.channels[t];e&&e.reset()}this.cmdHistory={a:null,b:null}},e.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++){var n=this.channels[e];n&&n.cueSplitAtTime(t)}},t}(),Qe=function(){function t(t,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=e}var e=t.prototype;return e.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},e.newCue=function(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},e.reset=function(){this.cueRanges=[],this.startTime=null},t}(),tn=function(){if("undefined"!=typeof self&&self.VTTCue)return self.VTTCue;var t=["","lr","rl"],e=["start","middle","end","left","right"];function n(t,e){if("string"!=typeof e)return!1;if(!Array.isArray(t))return!1;var n=e.toLowerCase();return!!~t.indexOf(n)&&n}function a(t){return n(e,t)}function o(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var r in i)t[r]=i[r]}return t}function i(e,i,r){var s=this,l={enumerable:!0};s.hasBeenReset=!1;var c="",d=!1,u=e,h=i,f=r,p=null,m="",g=!0,b="auto",v="start",_=50,y="middle",k=50,w="middle";Object.defineProperty(s,"id",o({},l,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(s,"pauseOnExit",o({},l,{get:function(){return d},set:function(t){d=!!t}})),Object.defineProperty(s,"startTime",o({},l,{get:function(){return u},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");u=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",o({},l,{get:function(){return h},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",o({},l,{get:function(){return f},set:function(t){f=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",o({},l,{get:function(){return p},set:function(t){p=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",o({},l,{get:function(){return m},set:function(e){var a=function(e){return n(t,e)}(e);if(!1===a)throw new SyntaxError("An invalid or illegal string was specified.");m=a,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",o({},l,{get:function(){return g},set:function(t){g=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",o({},l,{get:function(){return b},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",o({},l,{get:function(){return v},set:function(t){var e=a(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",o({},l,{get:function(){return _},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",o({},l,{get:function(){return y},set:function(t){var e=a(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",o({},l,{get:function(){return k},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");k=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",o({},l,{get:function(){return w},set:function(t){var e=a(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");w=e,this.hasBeenReset=!0}})),s.displayState=void 0}return i.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},i}(),en=function(){function t(){}return t.prototype.decode=function(t,e){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))},t}();function nn(t){function e(t,e,n,a){return 3600*(0|t)+60*(0|e)+(0|n)+parseFloat(a||0)}var n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}var an=function(){function t(){this.values=Object.create(null)}var e=t.prototype;return e.set=function(t,e){this.get(t)||""===e||(this.values[t]=e)},e.get=function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},e.has=function(t){return t in this.values},e.alt=function(t,e,n){for(var a=0;a<n.length;++a)if(e===n[a]){this.set(t,e);break}},e.integer=function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},e.percent=function(t,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){var n=parseFloat(e);if(n>=0&&n<=100)return this.set(t,n),!0}return!1},t}();function on(t,e,n,a){var o=a?t.split(a):[t];for(var i in o)if("string"==typeof o[i]){var r=o[i].split(n);2===r.length&&e(r[0],r[1])}}var rn=new tn(0,0,""),sn="middle"===rn.align?"middle":"center";function ln(t,e,n){var a=t;function o(){var e=nn(t);if(null===e)throw new Error("Malformed timestamp: "+a);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function i(){t=t.replace(/^\s+/,"")}if(i(),e.startTime=o(),i(),"--\x3e"!==t.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+a);t=t.slice(3),i(),e.endTime=o(),i(),function(t,e){var a=new an;on(t,(function(t,e){var o;switch(t){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===e){a.set(t,n[i].region);break}break;case"vertical":a.alt(t,e,["rl","lr"]);break;case"line":o=e.split(","),a.integer(t,o[0]),a.percent(t,o[0])&&a.set("snapToLines",!1),a.alt(t,o[0],["auto"]),2===o.length&&a.alt("lineAlign",o[1],["start",sn,"end"]);break;case"position":o=e.split(","),a.percent(t,o[0]),2===o.length&&a.alt("positionAlign",o[1],["start",sn,"end","line-left","line-right","auto"]);break;case"size":a.percent(t,e);break;case"align":a.alt(t,e,["start",sn,"end","left","right"])}}),/:/,/\s/),e.region=a.get("region",null),e.vertical=a.get("vertical","");var o=a.get("line","auto");"auto"===o&&-1===rn.line&&(o=-1),e.line=o,e.lineAlign=a.get("lineAlign","start"),e.snapToLines=a.get("snapToLines",!0),e.size=a.get("size",100),e.align=a.get("align",sn);var i=a.get("position","auto");"auto"===i&&50===rn.position&&(i="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=i}(t,e)}function cn(t){return t.replace(/<br(?: \/)?>/gi,"\n")}var dn=function(){function t(){this.state="INITIAL",this.buffer="",this.decoder=new en,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var e=t.prototype;return e.parse=function(t){var e=this;function n(){var t=e.buffer,n=0;for(t=cn(t);n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;var a=t.slice(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.slice(n),a}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var a="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var o=(a=n()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}for(var i=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(i?i=!1:a=n(),e.state){case"HEADER":/:/.test(a)?on(a,(function(t,e){}),/:/):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;if(e.cue=new tn(0,0,""),e.state="CUE",-1===a.indexOf("--\x3e")){e.cue.id=a;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{ln(a,e.cue,e.regionList)}catch(t){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var r=-1!==a.indexOf("--\x3e");if(!a||r&&(i=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=a;continue;case"BADCUE":a||(e.state="ID")}}}catch(t){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},e.flush=function(){try{if((this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state||"BADWEBVTT"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){this.onparsingerror&&this.onparsingerror(t)}return this.onflush&&this.onflush(),this},t}(),fn=n(11),pn=n(13),mn=/\r\n|\n\r|\n|\r/g,gn=function(t,e,n){return void 0===n&&(n=0),t.slice(n,n+e.length)===e},bn=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()};function vn(t,e,n){return bn(t.toString())+bn(e.toString())+bn(n)}function _n(t,e,n,a,o,r,s,l){var c,d=new dn,u=Object(j.f)(new Uint8Array(t)).trim().replace(mn,"\n").split("\n"),h=[],f=Object(fn.a)(e,n),p="00:00.000",m=0,g=0,b=!0;d.oncue=function(t){var e=a[o],n=a.ccOffset,i=(m-f)/9e4;null!=e&&e.new&&(void 0!==g?n=a.ccOffset=e.start:function(t,e,n){var a=t[e],o=t[a.prevCC];if(!o||!o.new&&a.new)return t.ccOffset=t.presentationOffset=a.start,void(a.new=!1);for(;null!==(i=o)&&void 0!==i&&i.new;){var i;t.ccOffset+=a.start-o.start,a.new=!1,o=t[(a=o).prevCC]}t.presentationOffset=n}(a,o,i)),i&&(n=i-a.presentationOffset);var s=t.endTime-t.startTime,l=Object(pn.d)(9e4*(t.startTime+n-g),9e4*r)/9e4;t.startTime=Math.max(l,0),t.endTime=Math.max(l+s,0);var c=t.text.trim();t.text=decodeURIComponent(encodeURIComponent(c)),t.id||(t.id=vn(t.startTime,t.endTime,c)),t.endTime>0&&h.push(t)},d.onparsingerror=function(t){c=t},d.onflush=function(){c?l(c):s(h)},u.forEach((function(t){if(b){if(gn(t,"X-TIMESTAMP-MAP=")){b=!1,t.slice(16).split(",").forEach((function(t){gn(t,"LOCAL:")?p=t.slice(6):gn(t,"MPEGTS:")&&(m=parseInt(t.slice(7)))}));try{g=function(t){var e=parseInt(t.slice(-3)),n=parseInt(t.slice(-6,-4)),a=parseInt(t.slice(-9,-7)),o=t.length>9?parseInt(t.substring(0,t.indexOf(":"))):0;if(!(Object(i.a)(e)&&Object(i.a)(n)&&Object(i.a)(a)&&Object(i.a)(o)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+t);return e+=1e3*n,(e+=6e4*a)+36e5*o}(p)/1e3}catch(t){c=t}return}""===t&&(b=!1)}d.parse(t+"\n")})),d.flush()}function yn(){return(yn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}var kn=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,wn=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,xn={left:"start",center:"center",right:"end",start:"start",end:"end"};function Dn(t,e,n,a,o){var i=Object(c.c)(new Uint8Array(t),["mdat"]);if(0!==i.length){var r=i.map((function(t){return Object(j.f)(t)})),s=Object(fn.c)(e,1,n);try{r.forEach((function(t){return a(function(t,e){var n=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!n)throw new Error("Invalid ttml");var a={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(a).reduce((function(t,e){return t[e]=n.getAttribute("ttp:"+e)||a[e],t}),{}),i="preserve"!==n.getAttribute("xml:space"),r=Tn(An(n,"styling","style")),s=Tn(An(n,"layout","region")),l=An(n,"body","[begin]");return[].map.call(l,(function(t){var n=function t(e,n){return[].slice.call(e.childNodes).reduce((function(e,a,o){var i;return"br"===a.nodeName&&o?e+"\n":null!==(i=a.childNodes)&&void 0!==i&&i.length?t(a,n):n?e+a.textContent.trim().replace(/\s+/g," "):e+a.textContent}),"")}(t,i);if(!n||!t.hasAttribute("begin"))return null;var a=Sn(t.getAttribute("begin"),o),l=Sn(t.getAttribute("dur"),o),c=Sn(t.getAttribute("end"),o);if(null===a)throw Cn(t);if(null===c){if(null===l)throw Cn(t);c=a+l}var d=new tn(a-e,c-e,n);d.id=vn(d.startTime,d.endTime,d.text);var u=s[t.getAttribute("region")],h=r[t.getAttribute("style")];d.position=10,d.size=80;var f=function(t,e,n){var a="http://www.w3.org/ns/ttml#styling",o=null,i=null!=t&&t.hasAttribute("style")?t.getAttribute("style"):null;return i&&n.hasOwnProperty(i)&&(o=n[i]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((function(n,i){var r=En(e,a,i)||En(t,a,i)||En(o,a,i);return r&&(n[i]=r),n}),{})}(u,h,r),p=f.textAlign;if(p){var m=xn[p];m&&(d.lineAlign=m),d.align=p}return yn(d,f),d})).filter((function(t){return null!==t}))}(t,s))}))}catch(t){o(t)}}else o(new Error("Could not parse IMSC1 mdat"))}function An(t,e,n){var a=t.getElementsByTagName(e)[0];return a?[].slice.call(a.querySelectorAll(n)):[]}function Tn(t){return t.reduce((function(t,e){var n=e.getAttribute("xml:id");return n&&(t[n]=e),t}),{})}function En(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function Cn(t){return new Error("Could not parse ttml timestamp "+t)}function Sn(t,e){if(!t)return null;var n=nn(t);return null===n&&(kn.test(t)?n=function(t,e){var n=kn.exec(t),a=(0|n[4])+(0|n[5])/e.subFrameRate;return 3600*(0|n[1])+60*(0|n[2])+(0|n[3])+a/e.frameRate}(t,e):wn.test(t)&&(n=function(t,e){var n=wn.exec(t),a=Number(n[1]);switch(n[2]){case"h":return 3600*a;case"m":return 60*a;case"ms":return 1e3*a;case"f":return a/e.frameRate;case"t":return a/e.tickRate}return a}(t,e))),n}var Ln=function(){function t(t){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var e=new Qe(this,"textTrack1"),n=new Qe(this,"textTrack2"),a=new Qe(this,"textTrack3"),o=new Qe(this,"textTrack4");this.cea608Parser1=new Je(1,e,n),this.cea608Parser2=new Je(3,a,o)}t.on(r.a.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(r.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(r.a.MANIFEST_LOADING,this.onManifestLoading,this),t.on(r.a.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(r.a.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(r.a.FRAG_LOADING,this.onFragLoading,this),t.on(r.a.FRAG_LOADED,this.onFragLoaded,this),t.on(r.a.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(r.a.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(r.a.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(r.a.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(r.a.BUFFER_FLUSHING,this.onBufferFlushing,this)}var e=t.prototype;return e.destroy=function(){var t=this.hls;t.off(r.a.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(r.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(r.a.MANIFEST_LOADING,this.onManifestLoading,this),t.off(r.a.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(r.a.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(r.a.FRAG_LOADING,this.onFragLoading,this),t.off(r.a.FRAG_LOADED,this.onFragLoaded,this),t.off(r.a.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.off(r.a.FRAG_DECRYPTED,this.onFragDecrypted,this),t.off(r.a.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(r.a.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.off(r.a.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},e.addCues=function(t,e,n,a,o){for(var i,s,l,c,d=!1,u=o.length;u--;){var h=o[u],f=(i=h[0],s=h[1],l=e,c=n,Math.min(s,c)-Math.max(i,l));if(f>=0&&(h[0]=Math.min(h[0],e),h[1]=Math.max(h[1],n),d=!0,f/(n-e)>.5))return}if(d||o.push([e,n]),this.config.renderTextTracksNatively){var p=this.captionsTracks[t];this.Cues.newCue(p,e,n,a)}else{var m=this.Cues.newCue(null,e,n,a);this.hls.trigger(r.a.CUES_PARSED,{type:"captions",cues:m,track:t})}},e.onInitPtsFound=function(t,e){var n=this,a=e.frag,o=e.id,i=e.initPTS,s=e.timescale,l=this.unparsedVttFrags;"main"===o&&(this.initPTS[a.cc]=i,this.timescale[a.cc]=s),l.length&&(this.unparsedVttFrags=[],l.forEach((function(t){n.onFragLoaded(r.a.FRAG_LOADED,t)})))},e.getExistingTrack=function(t){var e=this.media;if(e)for(var n=0;n<e.textTracks.length;n++){var a=e.textTracks[n];if(a[t])return a}return null},e.createCaptionsTrack=function(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)},e.createNativeTrack=function(t){if(!this.captionsTracks[t]){var e=this.captionsProperties,n=this.captionsTracks,a=this.media,o=e[t],i=o.label,r=o.languageCode,s=this.getExistingTrack(t);if(s)n[t]=s,$(n[t]),N(n[t],a);else{var l=this.createTextTrack("captions",i,r);l&&(l[t]=!0,n[t]=l)}}},e.createNonNativeTrack=function(t){if(!this.nonNativeCaptionsTracks[t]){var e=this.captionsProperties[t];if(e){var n={_id:t,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=n,this.hls.trigger(r.a.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}}},e.createTextTrack=function(t,e,n){var a=this.media;if(a)return a.addTextTrack(t,e,n)},e.onMediaAttaching=function(t,e){this.media=e.media,this._cleanTracks()},e.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach((function(e){$(t[e]),delete t[e]})),this.nonNativeCaptionsTracks={}},e.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},e._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var n=0;n<e.length;n++)$(e[n])}},e.onSubtitleTracksUpdated=function(t,e){var n=this;this.textTracks=[];var a=e.subtitleTracks||[],o=a.some((function(t){return"stpp.ttml.im1t"===t.textCodec}));if(this.config.enableWebVTT||o&&this.config.enableIMSC1){var i=this.tracks&&a&&this.tracks.length===a.length;if(this.tracks=a||[],this.config.renderTextTracksNatively){var s=this.media?this.media.textTracks:[];this.tracks.forEach((function(t,e){var a;if(e<s.length){for(var o=null,i=0;i<s.length;i++)if(In(s[i],t)){o=s[i];break}o&&(a=o)}if(a)$(a);else{var r=n._captionsOrSubtitlesFromCharacteristics(t);(a=n.createTextTrack(r,t.name,t.lang))&&(a.mode="disabled")}a&&(a.groupId=t.groupId,n.textTracks.push(a))}))}else if(!i&&this.tracks&&this.tracks.length){var l=this.tracks.map((function(t){return{label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t}}));this.hls.trigger(r.a.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:l})}}},e._captionsOrSubtitlesFromCharacteristics=function(t){var e;if(null!==(e=t.attrs)&&void 0!==e&&e.CHARACTERISTICS){var n=/transcribes-spoken-dialog/gi.test(t.attrs.CHARACTERISTICS),a=/describes-music-and-sound/gi.test(t.attrs.CHARACTERISTICS);if(n&&a)return"captions"}return"subtitles"},e.onManifestLoaded=function(t,e){var n=this;this.config.enableCEA708Captions&&e.captions&&e.captions.forEach((function(t){var e=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(e){var a="textTrack"+e[1],o=n.captionsProperties[a];o&&(o.label=t.name,t.lang&&(o.languageCode=t.lang),o.media=t)}}))},e.closedCaptionsForLevel=function(t){var e=this.hls.levels[t.level];return null==e?void 0:e.attrs["CLOSED-CAPTIONS"]},e.onFragLoading=function(t,e){var n=this.cea608Parser1,a=this.cea608Parser2,o=this.lastSn,i=this.lastPartIndex;if(this.enabled&&n&&a&&e.frag.type===O.b.MAIN){var r,s,l=e.frag.sn,c=null!=(r=null==e||null===(s=e.part)||void 0===s?void 0:s.index)?r:-1;l===o+1||l===o&&c===i+1||(n.reset(),a.reset()),this.lastSn=l,this.lastPartIndex=c}},e.onFragLoaded=function(t,e){var n=e.frag,a=e.payload,o=this.initPTS,s=this.unparsedVttFrags;if(n.type===O.b.SUBTITLE)if(a.byteLength){if(!Object(i.a)(o[n.cc]))return s.push(e),void(o.length&&this.hls.trigger(r.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Missing initial subtitle PTS")}));var l=n.decryptdata,c="stats"in e;if(null==l||null==l.key||"AES-128"!==l.method||c){var d=this.tracks[n.level],u=this.vttCCs;u[n.cc]||(u[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),d&&"stpp.ttml.im1t"===d.textCodec?this._parseIMSC1(n,a):this._parseVTTs(n,a,u)}}else this.hls.trigger(r.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})},e._parseIMSC1=function(t,e){var n=this,a=this.hls;Dn(e,this.initPTS[t.cc],this.timescale[t.cc],(function(e){n._appendCues(e,t.level),a.trigger(r.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}),(function(e){l.b.log("Failed to parse IMSC1: "+e),a.trigger(r.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:e})}))},e._parseVTTs=function(t,e,n){var a,o=this,i=this.hls;_n(null!==(a=t.initSegment)&&void 0!==a&&a.data?Object(c.b)(t.initSegment.data,new Uint8Array(e)):e,this.initPTS[t.cc],this.timescale[t.cc],n,t.cc,t.start,(function(e){o._appendCues(e,t.level),i.trigger(r.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}),(function(n){o._fallbackToIMSC1(t,e),l.b.log("Failed to parse VTT cue: "+n),i.trigger(r.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:n})}))},e._fallbackToIMSC1=function(t,e){var n=this,a=this.tracks[t.level];a.textCodec||Dn(e,this.initPTS[t.cc],this.timescale[t.cc],(function(){a.textCodec="stpp.ttml.im1t",n._parseIMSC1(t,e)}),(function(){a.textCodec="wvtt"}))},e._appendCues=function(t,e){var n=this.hls;if(this.config.renderTextTracksNatively){var a=this.textTracks[e];if(!a||"disabled"===a.mode)return;t.forEach((function(t){return B(a,t)}))}else{var o=this.tracks[e];if(!o)return;var i=o.default?"default":"subtitles"+e;n.trigger(r.a.CUES_PARSED,{type:"subtitles",cues:t,track:i})}},e.onFragDecrypted=function(t,e){var n=e.frag;if(n.type===O.b.SUBTITLE){if(!Object(i.a)(this.initPTS[n.cc]))return void this.unparsedVttFrags.push(e);this.onFragLoaded(r.a.FRAG_LOADED,e)}},e.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},e.onFragParsingUserdata=function(t,e){var n=this.cea608Parser1,a=this.cea608Parser2;if(this.enabled&&n&&a){var o=e.frag,i=e.samples;if(o.type!==O.b.MAIN||"NONE"!==this.closedCaptionsForLevel(o))for(var r=0;r<i.length;r++){var s=i[r].bytes;if(s){var l=this.extractCea608Data(s);n.addData(i[r].pts,l[0]),a.addData(i[r].pts,l[1])}}}},e.onBufferFlushing=function(t,e){var n=e.startOffset,a=e.endOffset,o=e.endOffsetSubtitles,i=e.type,r=this.media;if(r&&!(r.currentTime<a)){if(!i||"video"===i){var s=this.captionsTracks;Object.keys(s).forEach((function(t){return P(s[t],n,a)}))}if(this.config.renderTextTracksNatively&&0===n&&void 0!==o){var l=this.textTracks;Object.keys(l).forEach((function(t){return P(l[t],n,o)}))}}},e.extractCea608Data=function(t){for(var e=[[],[]],n=31&t[0],a=2,o=0;o<n;o++){var i=t[a++],r=127&t[a++],s=127&t[a++];if((0!==r||0!==s)&&0!=(4&i)){var l=3&i;0!==l&&1!==l||(e[l].push(r),e[l].push(s))}}return e},t}();function In(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}function On(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var Fn,Rn=function(){function t(t){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var e,n,a,o=t.prototype;return o.setStreamController=function(t){this.streamController=t},o.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},o.registerListeners=function(){var t=this.hls;t.on(r.a.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.on(r.a.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(r.a.MANIFEST_PARSED,this.onManifestParsed,this),t.on(r.a.BUFFER_CODECS,this.onBufferCodecs,this),t.on(r.a.MEDIA_DETACHING,this.onMediaDetaching,this)},o.unregisterListener=function(){var t=this.hls;t.off(r.a.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.off(r.a.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(r.a.MANIFEST_PARSED,this.onManifestParsed,this),t.off(r.a.BUFFER_CODECS,this.onBufferCodecs,this),t.off(r.a.MEDIA_DETACHING,this.onMediaDetaching,this)},o.onFpsDropLevelCapping=function(e,n){t.isLevelAllowed(n.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(n.droppedLevel)},o.onMediaAttaching=function(t,e){this.media=e.media instanceof HTMLVideoElement?e.media:null},o.onManifestParsed=function(t,e){var n=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,n.config.capLevelToPlayerSize&&e.video&&this.startCapping()},o.onBufferCodecs=function(t,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()},o.onMediaDetaching=function(){this.stopCapping()},o.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var t=this.hls.levels;if(t.length){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t.length-1),e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},o.getMaxLevel=function(e){var n=this,a=this.hls.levels;if(!a.length)return-1;var o=a.filter((function(a,o){return t.isLevelAllowed(o,n.restrictedLevels)&&o<=e}));return this.clientRect=null,t.getMaxLevelByMediaSize(o,this.mediaWidth,this.mediaHeight)},o.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},o.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},o.getDimensions=function(){if(this.clientRect)return this.clientRect;var t=this.media,e={width:0,height:0};if(t){var n=t.getBoundingClientRect();e.width=n.width,e.height=n.height,e.width||e.height||(e.width=n.right-n.left||t.width||0,e.height=n.bottom-n.top||t.height||0)}return this.clientRect=e,e},t.isLevelAllowed=function(t,e){return void 0===e&&(e=[]),-1===e.indexOf(t)},t.getMaxLevelByMediaSize=function(t,e,n){if(!t||!t.length)return-1;for(var a,o,i=t.length-1,r=0;r<t.length;r+=1){var s=t[r];if((s.width>=e||s.height>=n)&&(a=s,!(o=t[r+1])||a.width!==o.width||a.height!==o.height)){i=r;break}}return i},e=t,(n=[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var t=1;if(!this.hls.config.ignoreDevicePixelRatio)try{t=self.devicePixelRatio}catch(t){}return t}}])&&On(e.prototype,n),a&&On(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Mn=function(){function t(t){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}var e=t.prototype;return e.setStreamController=function(t){this.streamController=t},e.registerListeners=function(){this.hls.on(r.a.MEDIA_ATTACHING,this.onMediaAttaching,this)},e.unregisterListeners=function(){this.hls.off(r.a.MEDIA_ATTACHING,this.onMediaAttaching)},e.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},e.onMediaAttaching=function(t,e){var n=this.hls.config;if(n.capLevelOnFPSDrop){var a=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=a,a&&"function"==typeof a.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}},e.checkFPS=function(t,e,n){var a=performance.now();if(e){if(this.lastTime){var o=a-this.lastTime,i=n-this.lastDroppedFrames,s=e-this.lastDecodedFrames,c=1e3*i/o,d=this.hls;if(d.trigger(r.a.FPS_DROP,{currentDropped:i,currentDecoded:s,totalDroppedFrames:n}),c>0&&i>d.config.fpsDroppedMonitoringThreshold*s){var u=d.currentLevel;l.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(-1===d.autoLevelCapping||d.autoLevelCapping>=u)&&(u-=1,d.trigger(r.a.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:d.currentLevel}),d.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=a,this.lastDroppedFrames=n,this.lastDecodedFrames=e}},e.checkFPSInterval=function(){var t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},t}();!function(t){t.WIDEVINE="com.widevine.alpha",t.PLAYREADY="com.microsoft.playready"}(Fn||(Fn={}));var Nn="undefined"!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function Bn(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var $n,Pn,jn,zn=function(){function t(t){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=t,this._config=t.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var e,n,a,o=t.prototype;return o.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},o._registerListeners=function(){this.hls.on(r.a.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(r.a.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(r.a.MANIFEST_PARSED,this.onManifestParsed,this)},o._unregisterListeners=function(){this.hls.off(r.a.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(r.a.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(r.a.MANIFEST_PARSED,this.onManifestParsed,this)},o.getLicenseServerUrl=function(t){switch(t){case Fn.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+t+'"')},o._attemptKeySystemAccess=function(t,e,n){var a=this,o=function(t,e,n,a){if(t===Fn.WIDEVINE)return function(t,e,n){var a={audioCapabilities:[],videoCapabilities:[]};return t.forEach((function(t){a.audioCapabilities.push({contentType:'audio/mp4; codecs="'+t+'"',robustness:n.audioRobustness||""})})),e.forEach((function(t){a.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"',robustness:n.videoRobustness||""})})),[a]}(e,n,a);throw new Error("Unknown key-system: "+t)}(t,e,n,this._drmSystemOptions);l.b.log("Requesting encrypted media key-system access");var i=this.requestMediaKeySystemAccess(t,o);this.mediaKeysPromise=i.then((function(e){return a._onMediaKeySystemAccessObtained(t,e)})),i.catch((function(e){l.b.error('Failed to obtain key-system "'+t+'" access:',e)}))},o._onMediaKeySystemAccessObtained=function(t,e){var n=this;l.b.log('Access for key-system "'+t+'" obtained');var a={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};this._mediaKeysList.push(a);var o=Promise.resolve().then((function(){return e.createMediaKeys()})).then((function(e){return a.mediaKeys=e,l.b.log('Media-keys created for key-system "'+t+'"'),n._onMediaKeysCreated(),e}));return o.catch((function(t){l.b.error("Failed to create media-keys:",t)})),o},o._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach((function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))}))},o._onNewMediaKeySession=function(t){var e=this;l.b.log("New key-system session "+t.sessionId),t.addEventListener("message",(function(n){e._onKeySessionMessage(t,n.message)}),!1)},o._onKeySessionMessage=function(t,e){l.b.log("Got EME message event, creating license request"),this._requestLicense(e,(function(e){l.b.log("Received license data (length: "+(e?e.byteLength:e)+"), updating key-session"),t.update(e).catch((function(t){l.b.warn("Updating key-session failed: "+t)}))}))},o.onMediaEncrypted=function(t){var e=this;if(l.b.log('Media is encrypted using "'+t.initDataType+'" init data type'),!this.mediaKeysPromise)return l.b.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(r.a.ERROR,{type:s.b.KEY_SYSTEM_ERROR,details:s.a.KEY_SYSTEM_NO_KEYS,fatal:!0});var n=function(n){e._media&&(e._attemptSetMediaKeys(n),e._generateRequestWithPreferredKeySession(t.initDataType,t.initData))};this.mediaKeysPromise.then(n).catch(n)},o._attemptSetMediaKeys=function(t){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return l.b.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(r.a.ERROR,{type:s.b.KEY_SYSTEM_ERROR,details:s.a.KEY_SYSTEM_NO_KEYS,fatal:!0});l.b.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},o._generateRequestWithPreferredKeySession=function(t,e){var n=this,a=this._mediaKeysList[0];if(!a)return l.b.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(r.a.ERROR,{type:s.b.KEY_SYSTEM_ERROR,details:s.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(a.mediaKeysSessionInitialized)l.b.warn("Key-Session already initialized but requested again");else{var o=a.mediaKeysSession;if(!o)return l.b.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(r.a.ERROR,{type:s.b.KEY_SYSTEM_ERROR,details:s.a.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!e)return l.b.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(r.a.ERROR,{type:s.b.KEY_SYSTEM_ERROR,details:s.a.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});l.b.log('Generating key-session request for "'+t+'" init data type'),a.mediaKeysSessionInitialized=!0,o.generateRequest(t,e).then((function(){l.b.debug("Key-session generation succeeded")})).catch((function(t){l.b.error("Error generating key-session request:",t),n.hls.trigger(r.a.ERROR,{type:s.b.KEY_SYSTEM_ERROR,details:s.a.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},o._createLicenseXhr=function(t,e,n){var a=new hn;a.responseType="arraybuffer",a.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,a,t,e,n);var o=this._licenseXhrSetup;if(o)try{o.call(this.hls,a,t),o=void 0}catch(t){l.b.error(t)}try{a.readyState||a.open("POST",t,!0),o&&o.call(this.hls,a,t)}catch(t){throw new Error("issue setting up KeySystem license XHR "+t)}return a},o._onLicenseRequestReadyStageChange=function(t,e,n,a){if(4===t.readyState)if(200===t.status){this._requestLicenseFailureCount=0,l.b.log("License request succeeded");var o=t.response,i=this._licenseResponseCallback;if(i)try{o=i.call(this.hls,t,e)}catch(t){l.b.error(t)}a(o)}else{if(l.b.error("License Request XHR failed ("+e+"). Status: "+t.status+" ("+t.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(r.a.ERROR,{type:s.b.KEY_SYSTEM_ERROR,details:s.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var c=3-this._requestLicenseFailureCount+1;l.b.warn("Retrying license request, "+c+" attempts left"),this._requestLicense(n,a)}},o._generateLicenseRequestChallenge=function(t,e){if(t.mediaKeySystemDomain===Fn.WIDEVINE)return e;throw new Error("unsupported key-system: "+t.mediaKeySystemDomain)},o._requestLicense=function(t,e){l.b.log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return l.b.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(r.a.ERROR,{type:s.b.KEY_SYSTEM_ERROR,details:s.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var a=this.getLicenseServerUrl(n.mediaKeySystemDomain),o=this._createLicenseXhr(a,t,e);l.b.log("Sending license request to URL: "+a);var i=this._generateLicenseRequestChallenge(n,t);o.send(i)}catch(t){l.b.error("Failure requesting DRM license: "+t),this.hls.trigger(r.a.ERROR,{type:s.b.KEY_SYSTEM_ERROR,details:s.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},o.onMediaAttached=function(t,e){if(this._emeEnabled){var n=e.media;this._media=n,n.addEventListener("encrypted",this._onMediaEncrypted)}},o.onMediaDetached=function(){var t=this._media,e=this._mediaKeysList;t&&(t.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(e.map((function(t){if(t.mediaKeysSession)return t.mediaKeysSession.close().catch((function(){}))}))).then((function(){return t.setMediaKeys(null)})).catch((function(){})))},o.onManifestParsed=function(t,e){if(this._emeEnabled){var n=e.levels.map((function(t){return t.audioCodec})).filter((function(t){return!!t})),a=e.levels.map((function(t){return t.videoCodec})).filter((function(t){return!!t}));this._attemptKeySystemAccess(Fn.WIDEVINE,n,a)}},e=t,(n=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&Bn(e.prototype,n),a&&Bn(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Gn(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function Un(t,e,n){return e&&Gn(t.prototype,e),n&&Gn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return qn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0;return function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function qn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function Wn(){return(Wn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}!function(t){t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.MUXED="av",t.INIT="i",t.CAPTION="c",t.TIMED_TEXT="tt",t.KEY="k",t.OTHER="o"}($n||($n={})),function(t){t.DASH="d",t.HLS="h",t.SMOOTH="s",t.OTHER="o"}(Pn||(Pn={})),function(t){t.VOD="v",t.LIVE="l"}(jn||(jn={}));var Vn=function(){function t(e){var n=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){n.initialized&&(n.starved=!0),n.buffering=!0},this.onPlaying=function(){n.initialized||(n.initialized=!0),n.buffering=!1},this.applyPlaylistData=function(t){try{n.apply(t,{ot:$n.MANIFEST,su:!n.initialized})}catch(t){l.b.warn("Could not generate manifest CMCD data.",t)}},this.applyFragmentData=function(t){try{var e=t.frag,a=n.hls.levels[e.level],o=n.getObjectType(e),i={d:1e3*e.duration,ot:o};o!==$n.VIDEO&&o!==$n.AUDIO&&o!=$n.MUXED||(i.br=a.bitrate/1e3,i.tb=n.getTopBandwidth(o)/1e3,i.bl=n.getBufferLength(o)),n.apply(t,i)}catch(t){l.b.warn("Could not generate segment CMCD data.",t)}},this.hls=e;var a=this.config=e.config,o=a.cmcd;null!=o&&(a.pLoader=this.createPlaylistLoader(),a.fLoader=this.createFragmentLoader(),this.sid=o.sessionId||t.uuid(),this.cid=o.contentId,this.useHeaders=!0===o.useHeaders,this.registerListeners())}var e=t.prototype;return e.registerListeners=function(){var t=this.hls;t.on(r.a.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(r.a.MEDIA_DETACHED,this.onMediaDetached,this),t.on(r.a.BUFFER_CREATED,this.onBufferCreated,this)},e.unregisterListeners=function(){var t=this.hls;t.off(r.a.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(r.a.MEDIA_DETACHED,this.onMediaDetached,this),t.off(r.a.BUFFER_CREATED,this.onBufferCreated,this),this.onMediaDetached()},e.destroy=function(){this.unregisterListeners(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},e.onMediaAttached=function(t,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},e.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},e.onBufferCreated=function(t,e){var n,a;this.audioBuffer=null===(n=e.tracks.audio)||void 0===n?void 0:n.buffer,this.videoBuffer=null===(a=e.tracks.video)||void 0===a?void 0:a.buffer},e.createData=function(){var t;return{v:1,sf:Pn.HLS,sid:this.sid,cid:this.cid,pr:null===(t=this.media)||void 0===t?void 0:t.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},e.apply=function(e,n){void 0===n&&(n={}),Wn(n,this.createData());var a=n.ot===$n.INIT||n.ot===$n.VIDEO||n.ot===$n.MUXED;if(this.starved&&a&&(n.bs=!0,n.su=!0,this.starved=!1),null==n.su&&(n.su=this.buffering),this.useHeaders){var o=t.toHeaders(n);if(!Object.keys(o).length)return;e.headers||(e.headers={}),Wn(e.headers,o)}else{var i=t.toQuery(n);if(!i)return;e.url=t.appendQueryToUri(e.url,i)}},e.getObjectType=function(t){var e=t.type;return"subtitle"===e?$n.TIMED_TEXT:"initSegment"===t.sn?$n.INIT:"audio"===e?$n.AUDIO:"main"===e?this.hls.audioTracks.length?$n.VIDEO:$n.MUXED:void 0},e.getTopBandwidth=function(t){var e,n=0,a=this.hls;if(t===$n.AUDIO)e=a.audioTracks;else{var o=a.maxAutoLevel,i=o>-1?o+1:a.levels.length;e=a.levels.slice(0,i)}for(var r,s=Hn(e);!(r=s()).done;){var l=r.value;l.bitrate>n&&(n=l.bitrate)}return n>0?n:NaN},e.getBufferLength=function(t){var e=this.hls.media,n=t===$n.AUDIO?this.audioBuffer:this.videoBuffer;return n&&e?1e3*bt.bufferInfo(n,e.currentTime,this.config.maxBufferHole).len:NaN},e.createPlaylistLoader=function(){var t=this.config.pLoader,e=this.applyPlaylistData,n=t||this.config.loader;return function(){function t(t){this.loader=void 0,this.loader=new n(t)}var a=t.prototype;return a.destroy=function(){this.loader.destroy()},a.abort=function(){this.loader.abort()},a.load=function(t,n,a){e(t),this.loader.load(t,n,a)},Un(t,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),t}()},e.createFragmentLoader=function(){var t=this.config.fLoader,e=this.applyFragmentData,n=t||this.config.loader;return function(){function t(t){this.loader=void 0,this.loader=new n(t)}var a=t.prototype;return a.destroy=function(){this.loader.destroy()},a.abort=function(){this.loader.abort()},a.load=function(t,n,a){e(t),this.loader.load(t,n,a)},Un(t,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),t}()},t.uuid=function(){var t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.slice(e.lastIndexOf("/")+1)},t.serialize=function(t){for(var e,n=[],a=function(t){return!Number.isNaN(t)&&null!=t&&""!==t&&!1!==t},o=function(t){return Math.round(t)},i=function(t){return 100*o(t/100)},r={br:o,d:o,bl:i,dl:i,mtp:i,nor:function(t){return encodeURIComponent(t)},rtp:i,tb:o},s=Hn(Object.keys(t||{}).sort());!(e=s()).done;){var l=e.value,c=t[l];if(a(c)&&!("v"===l&&1===c||"pr"==l&&1===c)){var d=r[l];d&&(c=d(c));var u=typeof c,h=void 0;h="ot"===l||"sf"===l||"st"===l?l+"="+c:"boolean"===u?l:"number"===u?l+"="+c:l+"="+JSON.stringify(c),n.push(h)}}return n.join(",")},t.toHeaders=function(e){for(var n={},a=["Object","Request","Session","Status"],o=[{},{},{},{}],i={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},r=0,s=Object.keys(e);r<s.length;r++){var l=s[r];o[null!=i[l]?i[l]:1][l]=e[l]}for(var c=0;c<o.length;c++){var d=t.serialize(o[c]);d&&(n["CMCD-"+a[c]]=d)}return n},t.toQuery=function(e){return"CMCD="+encodeURIComponent(t.serialize(e))},t.appendQueryToUri=function(t,e){if(!e)return t;var n=t.includes("?")?"&":"?";return""+t+n+e},t}(),Kn=n(14),Yn=/^age:\s*[\d.]+\s*$/m,Xn=function(){function t(t){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=t?t.xhrSetup:null,this.stats=new Kn.a,this.retryDelay=0}var e=t.prototype;return e.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},e.abortInternal=function(){var t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,4!==t.readyState&&(this.stats.aborted=!0,t.abort()))},e.abort=function(){var t;this.abortInternal(),null!==(t=this.callbacks)&&void 0!==t&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},e.load=function(t,e,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=e,this.callbacks=n,this.retryDelay=e.retryDelay,this.loadInternal()},e.loadInternal=function(){var t=this.config,e=this.context;if(t){var n=this.loader=new hn,a=this.stats;a.loading.first=0,a.loaded=0;var o=this.xhrSetup;try{if(o)try{o(n,e.url)}catch(t){n.open("GET",e.url,!0),o(n,e.url)}n.readyState||n.open("GET",e.url,!0);var i=this.context.headers;if(i)for(var r in i)n.setRequestHeader(r,i[r])}catch(t){return void this.callbacks.onError({code:n.status,text:t.message},e,n)}e.rangeEnd&&n.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),n.onreadystatechange=this.readystatechange.bind(this),n.onprogress=this.loadprogress.bind(this),n.responseType=e.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),t.timeout),n.send()}},e.readystatechange=function(){var t=this.context,e=this.loader,n=this.stats;if(t&&e){var a=e.readyState,o=this.config;if(!n.aborted&&a>=2)if(self.clearTimeout(this.requestTimeout),0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start)),4===a){e.onreadystatechange=null,e.onprogress=null;var i=e.status;if(i>=200&&i<300){var r,s;if(n.loading.end=Math.max(self.performance.now(),n.loading.first),s="arraybuffer"===t.responseType?(r=e.response).byteLength:(r=e.responseText).length,n.loaded=n.total=s,!this.callbacks)return;var c=this.callbacks.onProgress;if(c&&c(n,t,r,e),!this.callbacks)return;var d={url:e.responseURL,data:r};this.callbacks.onSuccess(d,n,t,e)}else n.retry>=o.maxRetry||i>=400&&i<499?(l.b.error(i+" while loading "+t.url),this.callbacks.onError({code:i,text:e.statusText},t,e)):(l.b.warn(i+" while loading "+t.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),n.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),o.timeout)}},e.loadtimeout=function(){l.b.warn("timeout while loading "+this.context.url);var t=this.callbacks;t&&(this.abortInternal(),t.onTimeout(this.stats,this.context,this.loader))},e.loadprogress=function(t){var e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total)},e.getCacheAge=function(){var t=null;if(this.loader&&Yn.test(this.loader.getAllResponseHeaders())){var e=this.loader.getResponseHeader("age");t=e?parseFloat(e):null}return t},t}();function Zn(t){var e="function"==typeof Map?new Map:void 0;return(Zn=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,a)}function a(){return Jn(t,arguments,ea(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),ta(a,t)})(t)}function Jn(t,e,n){return(Jn=Qn()?Reflect.construct.bind():function(t,e,n){var a=[null];a.push.apply(a,e);var o=new(Function.bind.apply(t,a));return n&&ta(o,n.prototype),o}).apply(null,arguments)}function Qn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ta(t,e){return(ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ea(t){return(ea=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function na(){return(na=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}var aa=function(){function t(t){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||oa,this.controller=new self.AbortController,this.stats=new Kn.a}var e=t.prototype;return e.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},e.abortInternal=function(){var t=this.response;t&&t.ok||(this.stats.aborted=!0,this.controller.abort())},e.abort=function(){var t;this.abortInternal(),null!==(t=this.callbacks)&&void 0!==t&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},e.load=function(t,e,n){var a=this,o=this.stats;if(o.loading.start)throw new Error("Loader can only be used once.");o.loading.start=self.performance.now();var r=function(t,e){var n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(na({},t.headers))};return t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),n}(t,this.controller.signal),s=n.onProgress,l="arraybuffer"===t.responseType,c=l?"byteLength":"length";this.context=t,this.config=e,this.callbacks=n,this.request=this.fetchSetup(t,r),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout((function(){a.abortInternal(),n.onTimeout(o,t,a.response)}),e.timeout),self.fetch(this.request).then((function(n){if(a.response=a.loader=n,!n.ok){var r=n.status,c=n.statusText;throw new ia(c||"fetch, bad network response",r,n)}return o.loading.first=Math.max(self.performance.now(),o.loading.start),o.total=parseInt(n.headers.get("Content-Length")||"0"),s&&Object(i.a)(e.highWaterMark)?a.loadProgressively(n,o,t,e.highWaterMark,s):l?n.arrayBuffer():n.text()})).then((function(r){var l=a.response;self.clearTimeout(a.requestTimeout),o.loading.end=Math.max(self.performance.now(),o.loading.first),o.loaded=o.total=r[c];var d={url:l.url,data:r};s&&!Object(i.a)(e.highWaterMark)&&s(o,t,r,l),n.onSuccess(d,o,t,l)})).catch((function(e){if(self.clearTimeout(a.requestTimeout),!o.aborted){var i=e&&e.code||0,r=e?e.message:null;n.onError({code:i,text:r},t,e?e.details:null)}}))},e.getCacheAge=function(){var t=null;if(this.response){var e=this.response.headers.get("age");t=e?parseFloat(e):null}return t},e.loadProgressively=function(t,e,n,a,o){void 0===a&&(a=0);var i=new ge,r=t.body.getReader();return function s(){return r.read().then((function(r){if(r.done)return i.dataLength&&o(e,n,i.flush(),t),Promise.resolve(new ArrayBuffer(0));var l=r.value,c=l.length;return e.loaded+=c,c<a||i.dataLength?(i.push(l),i.dataLength>=a&&o(e,n,i.flush(),t)):o(e,n,l,t),s()})).catch((function(){return Promise.reject()}))}()},t}();function oa(t,e){return new self.Request(t.url,e)}var ia=function(t){var e,n;function a(e,n,a){var o;return(o=t.call(this,e)||this).code=void 0,o.details=void 0,o.code=n,o.details=a,o}return n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,ta(e,n),a}(Zn(Error)),ra=aa,sa=/\s/;function la(){return(la=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function ca(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function da(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ca(Object(n),!0).forEach((function(e){ua(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ua(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ha=da(da({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:un,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Xn,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:me,bufferController:Me,capLevelController:Rn,fpsController:Mn,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:Nn,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0},{cueHandler:{newCue:function(t,e,n,a){for(var o,i,r,s,l,c=[],d=self.VTTCue||self.TextTrackCue,u=0;u<a.rows.length;u++)if(r=!0,s=0,l="",!(o=a.rows[u]).isEmpty()){for(var h=0;h<o.chars.length;h++)sa.test(o.chars[h].uchar)&&r?s++:(l+=o.chars[h].uchar,r=!1);o.cueStartTime=e,e===n&&(n+=1e-4),s>=16?s--:s++;var f=cn(l.trim()),p=vn(e,n,f);t&&t.cues&&t.cues.getCueById(p)||((i=new d(e,n,f)).id=p,i.line=u+1,i.align="left",i.position=10+Math.min(80,10*Math.floor(8*s/32)),c.push(i))}return t&&c.length&&(c.sort((function(t,e){return"auto"===t.line||"auto"===e.line?0:t.line>8&&e.line>8?e.line-t.line:t.line-e.line})),c.forEach((function(e){return B(t,e)}))),c}},enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:Ae,subtitleTrackController:Ie,timelineController:Ln,audioStreamController:_e,audioTrackController:we,emeController:zn,cmcdController:Vn});function fa(t){var e=t.loader;e!==ra&&e!==Xn?(l.b.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(t){}return!1}()&&(t.loader=ra,t.progressive=!0,t.enableSoftwareAES=!0,l.b.log("[config]: Progressive streaming enabled, using FetchLoader"))}function pa(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var ma=function(){function t(e){void 0===e&&(e={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new ie.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var n=this.config=function(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==e.liveMaxLatencyDurationCount&&(void 0===e.liveSyncDurationCount||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(void 0===e.liveSyncDuration||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return la({},t,e)}(t.DefaultConfig,e);this.userConfig=e,Object(l.a)(n.debug),this._autoLevelCapping=-1,n.progressive&&fa(n);var a=n.abrController,o=n.bufferController,i=n.capLevelController,r=n.fpsController,s=this.abrController=new a(this),c=this.bufferController=new o(this),d=this.capLevelController=new i(this),u=new r(this),h=new R(this),f=new M(this),p=new H(this),m=this.levelController=new ut(this),g=new ht(this),b=this.streamController=new ue(this,g);d.setStreamController(b),u.setStreamController(b);var v=[h,f,m,b];this.networkControllers=v;var _=[s,c,d,u,p,g];this.audioTrackController=this.createController(n.audioTrackController,null,v),this.createController(n.audioStreamController,g,v),this.subtitleTrackController=this.createController(n.subtitleTrackController,null,v),this.createController(n.subtitleStreamController,g,v),this.createController(n.timelineController,null,_),this.emeController=this.createController(n.emeController,null,_),this.cmcdController=this.createController(n.cmcdController,null,_),this.latencyController=this.createController(V,null,_),this.coreComponents=_}t.isSupported=function(){return function(){var t=ee();if(!t)return!1;var e=ne(),n=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),a=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!n&&!!a}()};var e,n,a,i=t.prototype;return i.createController=function(t,e,n){if(t){var a=e?new t(this,e):new t(this);return n&&n.push(a),a}return null},i.on=function(t,e,n){void 0===n&&(n=this),this._emitter.on(t,e,n)},i.once=function(t,e,n){void 0===n&&(n=this),this._emitter.once(t,e,n)},i.removeAllListeners=function(t){this._emitter.removeAllListeners(t)},i.off=function(t,e,n,a){void 0===n&&(n=this),this._emitter.off(t,e,n,a)},i.listeners=function(t){return this._emitter.listeners(t)},i.emit=function(t,e,n){return this._emitter.emit(t,e,n)},i.trigger=function(t,e){if(this.config.debug)return this.emit(t,t,e);try{return this.emit(t,t,e)}catch(e){l.b.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.trigger(r.a.ERROR,{type:s.b.OTHER_ERROR,details:s.a.INTERNAL_EXCEPTION,fatal:!1,event:t,error:e})}return!1},i.listenerCount=function(t){return this._emitter.listenerCount(t)},i.destroy=function(){l.b.log("destroy"),this.trigger(r.a.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(t){return t.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(t){return t.destroy()})),this.coreComponents.length=0},i.attachMedia=function(t){l.b.log("attachMedia"),this._media=t,this.trigger(r.a.MEDIA_ATTACHING,{media:t})},i.detachMedia=function(){l.b.log("detachMedia"),this.trigger(r.a.MEDIA_DETACHING,void 0),this._media=null},i.loadSource=function(t){this.stopLoad();var e=this.media,n=this.url,a=this.url=o.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});l.b.log("loadSource:"+a),e&&n&&n!==a&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(e)),this.trigger(r.a.MANIFEST_LOADING,{url:t})},i.startLoad=function(t){void 0===t&&(t=-1),l.b.log("startLoad("+t+")"),this.networkControllers.forEach((function(e){e.startLoad(t)}))},i.stopLoad=function(){l.b.log("stopLoad"),this.networkControllers.forEach((function(t){t.stopLoad()}))},i.swapAudioCodec=function(){l.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},i.recoverMediaError=function(){l.b.log("recoverMediaError");var t=this._media;this.detachMedia(),t&&this.attachMedia(t)},i.removeLevel=function(t,e){void 0===e&&(e=0),this.levelController.removeLevel(t,e)},e=t,a=[{key:"version",get:function(){return"1.2.4"}},{key:"Events",get:function(){return r.a}},{key:"ErrorTypes",get:function(){return s.b}},{key:"ErrorDetails",get:function(){return s.a}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:ha},set:function(e){t.defaultConfig=e}}],(n=[{key:"levels",get:function(){return this.levelController.levels||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){l.b.log("set currentLevel:"+t),this.loadLevel=t,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){l.b.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){l.b.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){l.b.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){l.b.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(t){var e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){this._autoLevelCapping!==t&&(l.b.log("set autoLevelCapping:"+t),this._autoLevelCapping=t)}},{key:"bandwidthEstimate",get:function(){var t=this.abrController.bwEstimator;return t?t.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var t=this.levels,e=this.config.minAutoBitrate;if(!t)return 0;for(var n=t.length,a=0;a<n;a++)if(t[a].maxBitrate>=e)return a;return 0}},{key:"maxAutoLevel",get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(t){this.config.lowLatencyMode=t}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&pa(e.prototype,n),a&&pa(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();ma.defaultConfig=void 0}]).default)}var mn,gn='\n<video controls="true" width="100%" height="100%" id="m3u8video"></video>\n';async function bn(t,e){if(je("loadHlsVideo",t,e),e>20)je("loadHlsVideo, MAX ITER");else if(void 0!==newHls){var n,a=await Oe(),o=$("#m3u8video"),i=decodeURIComponent(t);if(0===o.length&&($("#stream").empty().append(gn),o=$("#m3u8video")),n=o[0],ADD_config.m3u8_potplayer_link){let e=$("<a>[M3U8 - Potplayer 에서 재생]</a>");e.attr("href","potplayer://"+t),lt(e.prop("outerHTML"))}newHls.isSupported()?(je("newHls.isSupported = true",n),(mn=new newHls).loadSource(i),mn.attachMedia(n),mn.on(newHls.Events.MANIFEST_PARSED,(function(){if(je("newHls.Events.MANIFEST_PARSED",n),je("newhls.levels = ",mn.levels),ADD_config.m3u8_maxQuality){let t=-1,e=-1;if(mn.levels.length>0){let n=mn.levels;for(let a=0;a<n.length;a++){let o=n[a];o.bitrate>t&&(t=o.bitrate,e=a)}-1!==e&&(mn.currentLevel=e)}}n.play()})),mn.on(newHls.Events.ERROR,(function(t,e){if(e.fatal){var n=e.type,a=e.details;je("FAIL TO LOAD HLS",t,e),lt(`M3U8 PLAYER 재생 중 치명적인 오류가 발생했습니다. Error Type:${n}, Error Details:${a}${void 0!==e.response&&void 0!==e.response.code?", Network Status:"+e.response.code:""}`),mn.destroy()}else je("newHls.Events.ERROR",t,e)})),mn.on(newHls.Events.LEVEL_SWITCHED,(function(t,e){a&&lt("M3U8 PLAYER LEVEL SWITCHED = "+e.level),je("HLS LEVEL SWITCHED",t,e)})),a&&(unsafeWindow.newhls=mn)):je("newHls.isSupported = FAIL")}else setTimeout((function(){bn(t,e+1)}),100)}function vn(t){je("m3u8_override",t);void 0===window.newHls&&pn(),$("header").addClass("onstream"),$("#stream").addClass("onstream"),$(".footer").hide(),$("#stream").empty().append(gn),$(document).leave("#m3u8video",(function(){if(je("leave m3u8video, destroy"),void 0!==mn&&void 0!==mn.destroy)try{mn.destroy()}catch(t){je("error from newhls.destroy()",t)}})),setTimeout((function(){bn(t,0)}),1e3)}var _n=je;"function"==typeof GM.registerMenuCommand&&GM.registerMenuCommand("상세 설정 열기",(function(){var t=$(window).width(),e=$(window).height(),n=t>850?850:t/5*4,a=t/2-n/2,o=e/2-e/5*4/2;window.open("https://www.dostream.com/addostream/settings/","winname","directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width="+n+",height="+e/5*4+",top="+o+",left="+a)}));const yn=je;const kn=je;function wn(e,n,a){e(n).on("hashchange",(function(n){kn("[page_change]",n);var o=a.location.href.toLowerCase();if(nomo_global.PAGE=Se(),nomo_global.PAGE_str=Le(),nomo_global.PAGE!==t.C_UCHAT){if(nomo_global.PAGE===t.C_STREAM)if(kn("url_current",o),nomo_global.ADD_now_playing.from="",nomo_global.ADD_now_playing.url=o,-1!==o.indexOf("/#/stream/m3u8/"))vn(a.location.href.split("/#/stream/m3u8/").pop()),nomo_global.ADD_now_playing.display_name="m3u8";else if(-1!==o.indexOf("/#/stream/nesports/")){!function(t){if(yn("get_nesports_playlist",t),-1==t.indexOf("https://game.naver.com/esports/"))return!1;let e=t.match(/https:\/\/game\.naver\.com\/esports\/([a-zA-Z0-9가-힣-_!@#$%^&*]+)\/live\/([a-zA-Z0-9가-힣-_!@#$%^&*]+)/i);if(null!==e&&e.length>2){let t=e[1],n=e[2];GM_xmlhttpRequest({url:`https://esports-api.game.naver.com/service/v1/match/liveContents/${n}?loungeId=${t}`,method:"GET",headers:{"Content-Type":"application/javascript"},timeout:2e3,onload:async function(t){if(200!==t.status)return yn("esports 파싱 중 에러 발생 - status !== 200",t),void lt("Esports 연결에 실패했습니다. status = "+t.status);var e=JSON.parse(t.responseText);if(yn("naver esports",t,e),void 0===e.content||null===e.content.match||void 0===e.content.match)return void lt("라이브 중인 경기를 찾을 수 없거나, 파싱 중 알 수 없는 에러가 발생했습니다.");let n,a=!1;if(void 0!==e.content.match.relay&&void 0!==e.content.match.relay.livePlayBack||(a=!0),a||(n=JSON.parse(e.content.match.relay.livePlayBack),yn("livePlayBack",n),null!=n&&null!==n.media&&void 0!==n.media&&void 0!==n.media.length||(a=!0)),a)if(e.content.match.matchStatus&&"BEFORE"===e.content.match.matchStatus&&e.content.match.startDate){let t="",n=e.content.match.startDate,a=new Date(n).format("yyyy.MM.dd amp hh:mm");t+="■ 다음 중계 일시 ■";try{e.content.match.title&&e.content.match.nameAcronym&&(t+=`<br />${e.content.match.nameAcronym}<br />${e.content.match.title}`)}catch(t){yn("parsing error 1",t)}t+=`<br />${a}`;try{e.content.match.homeTeam&&e.content.match.homeTeam.nameEngAcronym&&e.content.match.awayTeam&&e.content.match.awayTeam.nameEngAcronym&&(t+=` | ${e.content.match.homeTeam.nameEngAcronym}-${e.content.match.awayTeam.nameEngAcronym}`)}catch(t){yn("parsing error 2",t)}lt("<hr /><strong>라이브 중인 경기를 찾을 수 없습니다.</strong>");try{if(e.content.predictionListPage&&e.content.predictionListPage.matches&&e.content.predictionListPage.matches.length&&e.content.predictionListPage.matches.length>0){let a=!1,o=Number(new Date);for(let i=0;i<e.content.predictionListPage.matches.length;i++){let r=e.content.predictionListPage.matches[i];"BEFORE"===r.matchStatus&&(r.startDate<=n||r.startDate<=o||r.startDate-o>1728e5||(a||(a=!0,t+="<br /><br />■ 48시간 내 경기 일정 ■"),t+=`<br />${new Date(r.startDate).format("yyyy.MM.dd amp hh:mm")} | ${r.homeTeam.nameEngAcronym}-${r.awayTeam.nameEngAcronym}`))}}}catch(t){yn("parsing error 3",t)}lt(`<strong>${t}</strong><hr />`)}else lt("라이브 중인 경기를 찾을 수 없거나, 파싱 중 알 수 없는 에러가 발생했습니다.");else{try{let t="";if(e.content.predictionListPage&&e.content.predictionListPage.matches&&e.content.predictionListPage.matches.length&&e.content.predictionListPage.matches.length>0){let n=!1,a=!1,o=new Date,i=new Date(Number(o)+864e5);for(let r=0;r<e.content.predictionListPage.matches.length;r++){let s=e.content.predictionListPage.matches[r],l=new Date(s.startDate).toDateString(),c="";l===o.toDateString()?(n||(n=!0,t+="■ 오늘 경기 일정 ■"),c=new Date(s.startDate).format("yyyy.MM.dd amp hh:mm"),t+=`<br />${c} | ${s.homeTeam.nameEngAcronym}-${s.awayTeam.nameEngAcronym}`):l===i.toDateString()&&(a||(a=!0,n&&(t+="<br /><br />"),t+="■ 내일 경기 일정 ■"),c=new Date(s.startDate).format("yyyy.MM.dd amp hh:mm"),t+=`<br />${c} | ${s.homeTeam.nameEngAcronym}-${s.awayTeam.nameEngAcronym}`)}(a||n)&&lt(`<hr /><strong>${t}</strong><hr />`)}}catch(t){yn("parsing error 4",t)}for(var o=!1,i="",r=0;r<n.media.length;r++)if(void 0!==n.media[r].mediaId&&"HLS"===n.media[r].mediaId&&void 0!==n.media[r].path){i=n.media[r].path,o=!0;break}o?(yn("m3u8 url",i),nomo_global.ADD_now_playing.display_name="nesports",lt(`Loading <a style="text-decoration:underline" href="${i}" target="_blank">M3U8</a> video...`),vn(i)):lt("Esports 파싱에 실패했습니다.")}},onerror:async function(t){lt("Esports 파싱 중 에러가 발생했습니다. "+t),yn("esports 파싱 중 에러 발생 - onerror")},ontimeout:async function(){lt("Esports 파싱 중 에러가 발생했습니다. (Timeout)"),yn("esports 파싱 중 에러 발생 - ontimeout")}})}}(a.location.href.split("/#/stream/m3u8/").pop())}else-1!==o.indexOf("/#/stream/chzzk/")?ADD_config.chzzk_onlyVideo&&e(a).arrive("#stream > iframe",{existing:!0,onlyOnce:!0},(function(t){-1!==t.src.indexOf("chzzk.naver.com")&&-1===t.src.indexOf("?embed")&&(t.src=t.src+"?embed",nomo_global.ADD_now_playing.id=o.split("/").pop(),nomo_global.ADD_now_playing.from="chzzk",nomo_global.ADD_now_playing.display_name="",nomo_global.ADD_now_playing.toonat_link="",nomo_global.ADD_now_playing.twip_link="")})):(nomo_global.ADD_now_playing.id=o.split("/").pop(),nomo_global.ADD_now_playing.from="twitch",nomo_global.ADD_now_playing.display_name=u(nomo_global.ADD_now_playing.id),nomo_global.ADD_now_playing.toonat_link="",nomo_global.ADD_now_playing.twip_link="");ADD_config.popup_player&&nomo_global.PAGE!==t.C_MAIN&&(e(".stream_zoomout").remove(),e(".stream_zoomin_screen").remove());var i=o.indexOf("/twitch/"),r=o.indexOf("/multitwitch/");ADD_config.playing_chat_button&&-1!==i||-1!==r?e("#ADD_change_multi").css("opacity","1.0").fadeIn(300):e("#ADD_change_multi").css("opacity","0.0").hide(300),ADD_config.playing_quick_list_button&&nomo_global.PAGE===t.C_STREAM?e("#ADD_quick_list").css("opacity","1.0").fadeIn(300):e("#ADD_quick_list").css("opacity","0.0").hide(300),ADD_config.playing_setting_button||nomo_global.PAGE===t.C_MAIN?e("#ADD_config").css("opacity","1.0").fadeIn(300):e("#ADD_config").css("opacity","0.0").hide()}})).trigger("hashchange")}(async()=>{if(await Je(window),async function(){var t=await GM.getValue("mig",{190912:!0,"190225_json":!0});if(!t[190912]){je("Migration 시작 - 190912",t[190912]);var e=await GM.getValue("ADD_config");je("OLD VAR:",e.insagirl_select),void 0!==e&&(e.insagirl_select=2,await GM.setValue("ADD_config",e)),je("NEW VAR:",e.insagirl_select),t[190912]=!0,await GM.setValue("mig",t)}if(!t["190225_json"]){var n;je("Migration 시작 - 190225_json",t["190225_json"]);for(var a=await GM.listValues(),o=0;o<a.length;o++){var i=a[o],r=await GM.getValue(i);if(void 0!==i&&void 0!==r){if(console.log("old",o,i,r),r=Pe(r),"ADD_chat_manager_data"===i)for(n in r)void 0===r[n].modified_date?r[n].modified_date=Number(new Date):$.isNumeric(r[n].modified_date)||(r[n].modified_date=Number(new Date(r[n].modified_date.replace(/"/g,""))));if("ADD_Blocked_Chat"===i)for(n in r)void 0===r[n].created?r[n].created=Number(new Date):$.isNumeric(r[n].created)||(r[n].created=Number(new Date(r[n].created.replace(/"/g,""))));await GM.setValue(i,r)}}t["190225_json"]=!0,await GM.setValue("mig",t)}}(),window.GM_setting=dn,cn.DEBUG=nomo_global.DEBUG,await dn.init("ADD_config",cn),await dn.load(),nomo_global.PAGE!=t.C_CHZZK)if(nomo_global.PAGE==t.C_EMBEDED_TWITCH&&ADD_config.twitch_control&&ADD_config.twitch_disable_visibilitychange&&(unsafeWindow._addEventListener=unsafeWindow.addEventListener,unsafeWindow.addEventListener=function(t,e,n){"visibilitychange"!==t&&"blur"!==t&&"webkitvisibilitychange"!==t?(null==n&&(n=!1),unsafeWindow._addEventListener(t,e,n)):je("player.twitch.tv window 의 visibilitychange 이벤트 무력화",t,e,n)},unsafeWindow.document._addEventListener=unsafeWindow.document.addEventListener,unsafeWindow.document.addEventListener=function(t,e,n){"visibilitychange"!==t&&"blur"!==t&&"webkitvisibilitychange"!==t?(null==n&&(n=!1),unsafeWindow.document._addEventListener(t,e,n)):je("player.twitch.tv document 의 visibilitychange 이벤트 무력화",t,e,n)}),Element.prototype._addEventListener=Element.prototype.addEventListener,Element.prototype.addEventListener=function(t,e,n){if("click"===t&&"uha_chat_msgs"===this.id&&"ul"===this.nodeName.toLowerCase()){var a=e;e=function(t){0===$(t.target).parent("span.text").length&&a(t)}}null==n&&(n=!1),this._addEventListener(t,e,n)},nomo_global.PAGE==t.C_MAIN||nomo_global.PAGE==t.C_STREAM||nomo_global.PAGE==t.C_M3U8PLAYER)await ae(),await oe(),"firefox"===Ze&&"function"==typeof exportFunction?(unsafeWindow.dostream=exportFunction(Ce,unsafeWindow),unsafeWindow.dsStream=exportFunction(Ee,unsafeWindow)):(unsafeWindow.dsStream=Ee,unsafeWindow.dostream=Ce,Be()),C(),S(),I({message:!1}),$(document).ready((function(){var e;window.chat_manager_main=Kt,"firefox"===Ze&&"function"==typeof exportFunction?(unsafeWindow.dostream=exportFunction(Ce,unsafeWindow),unsafeWindow.dsStream=exportFunction(Ee,unsafeWindow)):(unsafeWindow.dsStream=Ee,unsafeWindow.dostream=Ce,Be()),we(),ve(),be(),function(){for(var t=0;t<ke.length;t++)e=ke[t],$(document).on("click","#"+e,(function(){De()}));var e;$(document).on("click",".show_blocked_chat",(async()=>{await Ae()}))}(),xe(),nomo_global.DEBUG&&(e=[{title:"임시로 DEBUG 모드 켜고 끄기",func:function(){nomo_global.DEBUG=!nomo_global.DEBUG,alert("nomo_global.DEBUG : "+nomo_global.DEBUG)}},{title:"메모 초기화",func:async function(){confirm("진짜 초기화?")&&(await Ie.setVal("ADD_chat_manager_data",[]),_n("채팅 매니저 데이터 초기화"))}},{title:"채팅에 글쓰기",func:function(){var t=$(".chat-container > iframe").contents().first().find("u-chat > iframe").contents().first().find("div.content.nano-content")[0],e='<div class="line" data-tiptext="55f2bc0c - {ago}" created="1546774913"><span class="nick" nick="55f2bc0c">55f2bc0c:</span>&nbsp;<span class="chatContent" style="color: #333333; font-size: 9pt;">\n                                '+prompt("imgur 이미지 주소 입력","https://imgur.com/a/45ps1")+"</span></div>";$(t).append(e)}},{title:"입력한 주소를 링크로 출력",func:function(){var t=$(".chat-container > iframe").contents().first().find("u-chat > iframe").contents().first().find("div.content.nano-content")[0],e=prompt("링크 주소 입력","https://imgur.com/a/45ps1"),n='<div class="line" data-tiptext="55f2bc0c - {ago}" created="1546774913">\n                                    <span class="nick" nick="55f2bc0c">55f2bc0c:</span>&nbsp;<span class="chatContent" style="color: #333333; font-size: 9pt;"><a target="_blank" href="'+e+'">'+e+"\n                                        </a></span></div>";$(t).append(n)}},{title:"Desktop notification 시도",func:function(){var e={title:"title",text:"body",image:t.ADD_assets_url+"doplus.png",timeout:6e3};GM.notification(e)}},{title:"버전 체크 시간 초기화",func:async function(){await Ie.setVal("ADD_version_last_check_time",new Date(Date.parse(new Date)-1728e5))}},{title:"개발중 기능 on-off",func:async function(){ADD_config.under_dev=!ADD_config.under_dev,await GM_setting.save(),ADD_config.under_dev?$(".ADD_under_dev").show():$(".ADD_under_dev").hide(),alert("개발중 기능 설정 변겅\nADD_config.under_dev: "+!ADD_config.under_dev+" → "+ADD_config.under_dev)}},{title:"입력한 설정 on-off",func:function(){setTimeout((async function(){var t=prompt("설정 이름 입력","");void 0!==ADD_config[t]&&"boolean"==typeof ADD_config[t]?(ADD_config[t]=!ADD_config[t],await GM_setting.save(),alert("설정변경 - ADD_config."+t+" : "+ADD_config[t])):alert(t+"을 찾을 수 없음")}),1)}},{title:"stream 내 video 접근",func:async function(){var t=$("#stream").find("iframe");_n("iframe",t,t[0],t[0].contentWindow)}},{title:"설정 페이지로 이동",func:function(){window.location.href="https://www.dostream.com/#/addostream"}},{title:"설정 창 띄우기",func:function(){var t=$('\n                <div class="lightbox-opened">\n                    <div style="display:flex;margin-top:50px;cursor:default;">\x3c!--lightbox-opened-white-background--\x3e\n                        <div class="modal-content" style="font-size:12px;text-align:left;margin:0 auto;max-width:1250px;">\n                            <div id="setting_contents" class="modal-body" style="padding:10px 50px 10px 50px;">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                ');$("body").append(t),GM_setting.createlayout($("#setting_contents"))}},{title:"chatlog_local 보기",func:function(){console.log($(".chat-container > iframe")[0].contentWindow.chatlog_local)}},{title:"modal 창 열기",func:function(){$('\n                <div style="position:absolute;top:50%;left:50%;" class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">\n                <div class="modal-dialog" role="document">\n                  <div class="modal-content">\n                    <div class="modal-header">\n                      <h4 class="modal-title" id="exampleModalLabel">New message</h4>\n                    </div>\n                    <div class="modal-body">\n                      <form>\n                        <div class="form-group">\n                          <label class="control-label">이동할 페이지를 입력하세요:</label>\n                          <input type="text" class="form-control" id="coord_input">\n                        </div>\n                      </form>\n                    </div>\n                    <div class="modal-footer">\n                      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n                      <button type="button" class="btn btn-primary">Go</button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n                ').appendTo("body")}},{title:"입력한 내용 우하하에 삽입",func:function(){var t=$("#uha_chat_msgs"),e=prompt("채팅내용 입력","https://imgur.com/a/45ps1"),n=`<li class="is_notme"><span class="name" data-date="${String(Number(new Date)).substr(0,10)}" data-sid="2fc48b61c2d7fdca" data-name="몽고뽕나무${Math.random()}">몽고뽕나무${Math.random()}</span>\n                <span class="text">${e}</span><time>17:42</time><span class="delete">👁</span></li>`;$(t).append(n)}},{title:"입력한 내용 링크로 우하하에 삽입",func:function(){var t=$("#uha_chat_msgs"),e=prompt("링크 입력","https://imgur.com/a/45ps1"),n=`<li class="is_notme"><span class="name" data-date="${String(Number(new Date)).substr(0,10)}" data-sid="2fc48b61c2d7fdca" data-name="몽고뽕나무${Math.random()}">몽고뽕나무${Math.random()}</span>\n                <span class="text"><a href="${e}" target="_uha_kr">${e}</a></span><time>17:42</time><span class="delete">👁</span></li>`;$(t).append(n)}},{title:"m3u8 테스트",func:function(){vn()}}],nomo_global.DEBUG&&($("#ADD_quick_list").before('\n<span id="ADD_test_button" class="btn btn-default">\n<span class="glyphicon glyphicon-wrench" style="color:#999;">\n</span>\n</span>\n'),$("#popup_ADD_config").before('\n<div id="popup_ADD_test" class="modal-dialog">\n<div class="modal-content">\n<div class="modal-body">\n    <table class="table table-condensed table-hover" style="margin-bottom:0px;">\n        <thead><tr><th>DEBUG MODE</th><th></th></tr></thead>\n        <tbody id="popup_ADD_test_tbody">\n        </tbody>\n    </table>\n</div>\n</div>\n</div>\n'),e.forEach((function(t){var e=$(`\n<tr class="active">\n    <td>${t.title}</td>\n    <td><span style="cursor:pointer;font-weight:700;">실행</span></td>\n</tr>\n`).on("click",(function(){t.func()}));$("#popup_ADD_test_tbody").append(e)})))),$(".nav-brand").removeClass("nav-brand").addClass("nav-brand_mod").empty().append('<div class="loader_container" style="display:none;"><div class="loader"></div></div>').on("click",(function(){nomo_global.PAGE===t.C_MAIN?(ae(),page=new dsStream,page.reload(),Te()):ADD_config.popup_player&&(ae(),function(){var t=nomo_global.ADD_now_playing.display_name,e="";if(-1!==t.indexOf("&").length){for(var n=t.split("&"),a=0;a<n.length;a++)0!==a&&(e+="&"),e+=u(n[a]);t=e}if(0===$(".stream_zoomout").length){je("stream_zoomout 생성"),$("#stream").addClass("stream_zoomout").attr("id","").after("<div id='stream'></div>"),$(".stream_zoomout").css("position","fixed").css("bottom","30px").css("left","30px").css("padding","0").css("margin","0").css("width","280px").css("height","157.5px").css("z-index","100").css("border-radius","4px").css("overflow","hidden");var o=$('\n        <div class="stream_zoomin_screen" style="display:none;background:rgba(0,0,0,.6);user-select:none;">\n            <div class="stream_zoom_header" style="width:280px;height:40px;padding:5px;position:absolute;z-index:101;background:rgba(0,0,0,.6);color:#fff;font-size:20px;vertical-align:middle;">\n                <div style="display:inline-flex;margin-left:10px;margin-right:10px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;cursor:default;">\n                    <span style="font-size:14px;">'+t+' 시청 중</span>\n                </div>\n                <div class="stream_zoomin_close" style="display:inline-flex;width:30px;height:30px;justify-content:center;cursor:pointer;float:right;font-family:unset;">\n                    \x3c!--<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>--\x3e\n                    X\n                </div>\n            </div>\n            <div class="stream_zoom_button_container" style="width:280px;height:117.5px;position:absolute;z-index:101;top:40px;left:0;display:flex;justify-content:center;align-items:center;color:#fff;">\n                <div class="button_expand" style="cursor:pointer;padding:10px;">\n                    <svg width="30px" height="30px" version="1.1" viewBox="0 0 20 20" x="0px" y="0px">\n                        <path d="M13.146 9.354l-.646-.646-1.146 1.146a.5.5 0 0 1-.707 0l-.5-.5a.5.5 0 0 1 0-.707L11.293 7.5l-.646-.646A.499.499 0 0 1 11 6h2.5a.5.5 0 0 1 .5.5V9a.5.5 0 0 1-.854.354zM18 3v11a.985.985 0 0 1-.235.621c-.022.027-.034.062-.058.086-.017.016-.04.023-.057.038A.987.987 0 0 1 17 15H13.003a1.001 1.001 0 1 1 0-2H16V4H6v4.997a1.001 1.001 0 1 1-2 0V3.003v-.002V3c0-.235.094-.442.229-.612.024-.03.038-.068.064-.095.015-.014.036-.021.051-.034A.989.989 0 0 1 5 2h12c.229 0 .43.09.598.22.035.027.078.043.109.073.011.012.016.028.027.04A.986.986 0 0 1 18 3zm-9.111 9c.614 0 1.11.498 1.11 1.111v3.778C10 17.502 9.504 18 8.89 18H3.112A1.112 1.112 0 0 1 2 16.889v-3.778C2 12.498 2.498 12 3.112 12h5.777z" style="fill:currentColor" fill-rule="evenodd"></path>\n                    </svg>\n                </div>\n                <div class="button_pause" style="margin-left:20px;cursor:pointer;padding:10px;display:none;">\n                <svg width="30px" height="30px" version="1.1" viewBox="0 0 20 20" x="0px" y="0px">\n                    <path d="M8 2a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h3zm7 0a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h3z" style="fill:currentColor" fill-rule="evenodd"></path>\n                </svg>\n                </div>\n            </div>\n            <div style="width:280px;height:157.5px;padding:5px 10px;position:absolute;z-index:100;background-color:#000;opacity:0.5;"></div>\n        </div>');$(".stream_zoomout").prepend(o),o.find(".button_expand").on("click",(function(){window.location.href=`${nomo_global.ADD_now_playing.url}`})),$(".stream_zoomout").on("mouseover",(function(){$(".stream_zoomin_screen").fadeIn("fast"),$(".stream_zoomin_screen").one("mouseleave",(function(){$(this).fadeOut("fast")}))})),$(".stream_zoomin_close").on("click",(function(){$(".stream_zoomout").remove(),$(".stream_zoomin_screen").remove()}))}window.open($(this).attr("href"),"_self")}())})),me(),wn(jQuery,window,document),$(document).arrive("#uha_chat",{onlyOnce:!0,existing:!0},(function(){Yt(),async function(){if(Qe("ADD_chatting_arrive_for_UHAHA 함수 실행"),nomo_global.$GLOBAL_IFRAME_DOCUMENT=$(document),$(document).unbindArrive("li.is_notme"),ADD_config.chat_ctr){$(document).arrive("li.is_notme",(async t=>{if(ADD_config.uhaha_auto_remove){var e=Number(ADD_config.uhaha_auto_remove_count);e<200&&(e=200),nomo_global.uhaha_chat_auto_remove_counter-e>0&&(chatlog_local={},nomo_global.uhaha_chat_auto_remove_counter=0,$("#uha_chat_btnclear").trigger("click"),en=!0,setTimeout((function(){en=!1}),2e3),tn(`자동 싹쓸이 개수(${e})에 도달하여 채팅창을 초기화 했습니다.`))}nomo_global.uhaha_chat_auto_remove_counter=nomo_global.uhaha_chat_auto_remove_counter+1,an(t)})),$(document).arrive("li.is_me",(async t=>{an(t)})),chat_manager.init($("div#uha_chat")),nomo_global.GLOBAL_CHAT_CONTENT_DIV=$(this),void 0!==ADD_config.sys_meg&&ADD_config.sys_meg&&setTimeout((function(){Qe("채팅창에서 애드온 동작"),tn('<li class="uha_info"><span class="system">안내: </span>두스트림 애드온이 임시 동작중입니다(우하하).<br />일부 기능만 제공합니다.</li>',!0)}),3e3),$(document).on("click","span.name",(async function(){Qe("우하하 span.name 클릭됨",$(this).attr("data-sid"));var t=$(this),e=t.attr("data-sid"),n=t.text(),a=t.closest("li").find("span.text").text();0===$("uhaha_unique_id").length?$("#uha_chat_targetname").after(`<br /><span id="uhaha_unique_id">고유ID:${e}</span>`):void 0===e?$("uhaha_unique_id").html(""):$("uhaha_unique_id").html(`고유ID:${e}`),0===$("#uhaha_memo").length&&$('<span id="uhaha_memo" style="cursor:pointer;color:red;">메모하기</span><br />').on("click",(async function(){var t="[UHAHA]"+n+":"+a.substr(0,40),o={nick:e,display_name:n,detail_content:t};await chat_manager.openSimplelayout(o)})).insertBefore("#uha_chat_contextmenu_close");var o=$("div.chat-container").first()[0].offsetHeight,i=$("#uha_chat_contextmenu"),r=Number(i.css("top").replace("px","")),s=r+Number(i.css("height").replace("px",""))-o+30;s>0&&i.css("top",r-s+"px")}));var t=`\n        #uha_chat_msgs > li > .name:after{\n            color:#555;\n        }\n        #uha_chat_targetname {\n            padding: 5px;\n            font-size: 14px;\n        }\n        #uha_chat_whisper, #uha_chat_invite, #uha_chat_mute, #uha_chat_contextmenu_close, #uhaha_unique_id, #uhaha_forced_dancha, #uhaha_memo {\n            font-size: 12px;\n            padding: 2px 5px;\n            border-top:1px solid #ccc;\n            display: inline-block;\n            width: 100%;\n        }\n        #uha_chat_msgs.uhaha_delete_button_hide li span.delete {\n            display:none !important;\n        }\n        ${K}\n        `;GM.addStyle(t),$("#uha_chat_msgs").off("click","a"),$(document).on("click",".imgur_safe_button",(function(){$(this).closest(".imgur_container").removeClass("blurred"),$(this).parent(".imgur_safe_screen").addClass("clicked").fadeOut(300)})).on("click",".imgur_control_hide",(function(){Qe("Chatting 내 호출된 imgur 이미지 에서 - 버튼 클릭됨"),$(this).closest(".imgur_container").addClass("blurred");var t=$(this).closest(".imgur_container").find(".imgur_safe_screen");if(t.hasClass("clicked")){var e=Number(ADD_config.imgur_preview_opacity);$.isNumeric(ADD_config.imgur_preview_opacity)?(e<0||e>1)&&(e=.93):e=.93,t.removeClass("clicked").fadeTo(300,e)}else $(this).closest(".imgur_container").removeClass("blurred"),t.addClass("clicked").fadeOut(300)})).on("click",".imgur_control_remove",(function(){Qe("Chatting 내 호출된 imgur 이미지 에서 x 버튼 클릭됨"),$(this).closest(".imgur_container").remove()})),$(document).on("click",".imgur_image_in_chat.open-lightbox",(function(t){t.preventDefault();var e=$(this).attr("src");$("html").addClass("no-scroll");var n="";n=nt(e)?"<video class='chat_image' loop controls muted autoplay src=\""+e+'"></video>':"<img class='chat_image' src=\""+e+'" />',$("body").append('<div class="lightbox-opened">'+n+"</div>")})),$("#uha_chat_btnclear").on("click",(function(){en=!0,setTimeout((function(){en=!1}),2e3),chatlog_local={},nomo_global.uhaha_chat_auto_remove_counter=0})),on(),ADD_config.uhaha_chat_scroll&&(Qe("CHAT - Scroll 이벤트 ON"),$("#uha_chat_msgs").on("wheel.chatScrollFunc mousewheel.chatScrollFunc",(function(t){var e=-1;if("mousewheel"==t.type?e=t.originalEvent.wheelDelta:"wheel"==t.type&&(e=-1*t.originalEvent.deltaY),e>=0){if($(this).get(0).scrollHeight>$(this).innerHeight()){if(0===$("#uha_chat").find(".latest_chat_new_container").length){var n=$('\n                            <div style="position:relative;">\n                                <div class="latest_chat_new_container" style="display:none;">\n                                    <div class="latest_chat_new" style="background:rgba(0,0,0,.75);bottom:0px;color:#faf9fa;padding:5px;height:28px;font-size:12px;position:absolute;justify-content:center;align-items:center;text-align:center;width:100%;box-sizing:border-box;z-index:1000;cursor:pointer;border-radius:4px;">\n                                        <span>아래에서 더 많은 메시지를 확인하세요.</span>\n                                    </div>\n                                </div>\n                            </div>\n                            ');$("#uha_chat").append(n),n.on("click",(function(){nomo_global.isGoScrollDown=!0,tt(),$("#uha_chat").find(".latest_chat_new_container").hide()}))}$("#uha_chat").find(".latest_chat_new_container").stop("true","true").show(),nomo_global.isGoScrollDown=!1}}else nomo_global.isGoScrollDown&&(nomo_global.isGoScrollDown=!0,$("#uha_chat").find(".latest_chat_new_container").stop("true","true").hide()),$(this)[0].scrollHeight-$(this)[0].scrollTop-$(this).height()<=ADD_config.chat_scroll_down_min&&(nomo_global.isGoScrollDown=!0,tt(),$("#uha_chat").find(".latest_chat_new_container").stop("true","true").hide())}))),R(2)}nomo_global.DEBUG&&ADD_config.broadcaster_mode&&(nomo_global.$GLOBAL_IFRAME_DOCUMENT=$(document),L())}()}))}));else if(nomo_global.PAGE==t.C_UCHAT)P(2),setTimeout((function(){P(2)}),3e5),$(document).ready((function(){je("DOCUMENT_READY"),unsafeWindow.ADD_send_sys_msg=st,unsafeWindow.chat_manager=Kt,"firefox"===Ze&&0===$("u-chat").length||(S(),I({message:!1}),R(),Z())}));else if(nomo_global.PAGE==t.C_SETTING_NW)window.chat_manager=Kt,$(document).ready((function(){$("body").empty().css("padding","0px 30px 30px 30px"),$("head").append('\n                <link href="/js/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">\n                <link href="/css/dostream.css?20180429" media="screen" rel="stylesheet" type="text/css">\n            '),document.title="두스트림 - ADDostream 상세 설정 페이지",C(),S(),ve(),dn.createlayout($("body"))}));else{if(nomo_global.PAGE===t.C_EMBEDED_TWITCH)return void(ADD_config.twitch_control&&$(document).ready((function(){$(document).arrive("div.player-video",{onlyOnce:!0,existing:!0},(function(){je("EMBEDED_PLAYER",unsafeWindow.player);var t=0,e=!1,n=setInterval((function(){void 0!==unsafeWindow.player&&(e=unsafeWindow.player.isPlaying()),je("현재 상태:",e),e?(clearInterval(n),ADD_config.twitch_start_highest_quality&&setTimeout((function(){var t=unsafeWindow.player.getQualities()[1];je("highest_quality",unsafeWindow.player.getQualities()),unsafeWindow.player.setQuality(t.group),je("최고 화질 설정",t)}),2e3)):(je("1초 후 재시도 합니다. 현재 시도 수:",t+=1),t>10&&(je("10회 시도에 실패하였습니다"),clearInterval(n)))}),1e3);$(document).arrive(".pl-error",(function(t){var e=$(t),n=e.text();je("pl_error 생성됨",n),n.indexOf("#")&&(e.html(n+"<br />1초후 자동 새로고침"),setTimeout((function(){unsafeWindow.player.play()}),1e3))}))}))})));if(nomo_global.PAGE===t.C_INSAGIRL){if(window.chat_manager=Kt,!ADD_config.insagirl_modify_directly)return;return void async function(){je("인사걸에서 실행됨",document.location.href);var t=void 0,e=0,n=void 0,a=void 0;ADD_config.insagirl_block_by_nick&&await chat_manager.reloadData(),$(document).arrive("#hrmbody > tr",{existing:!0},(async o=>{var i=$(o);if(i.hasClass("fired")||"tr"!==i.prop("tagName").toLowerCase())return!1;i.addClass("fired");var r="",s=i.find("a").first();try{r=i.text().split(")")[1].split(":").shift()}catch(t){je("error: coord_nick",t)}if(void 0!==s&&s.length>0){var l=s.attr("href");if(ADD_config.insagirl_block_by_nick&&void 0!==chat_manager&&chat_manager.getIsBlock(r))e=0,je("채팅 매니저에 의한 차단",r),i.remove();else if(ADD_config.insagirl_block_dobae&&t===l&&(ADD_config.insagirl_block_dobae_by_href||!ADD_config.insagirl_block_dobae_by_href&&a===r))i.remove(),e+=1;else{if(e>1&&(je("중복",e),n.find("td").first().append("<span class='fired' style='background-color:lightpink;border-radius:50%;margin-left:5px;white-space:nowrap;padding:5px;font-size:0.85em;' title='중복' alt='중복'>+"+e+"</span>"),e=0),-1!==l.toLowerCase().indexOf("dostream.com/#/stream/twitch/")||-1!==l.toLowerCase().indexOf("dostream.com/#/stream/multitwitch/")){for(var c="",d=l.split("/").pop().split("&"),h=0;h<d.length;h++)0!==h&&(c+="&"),c+=u(d[h]);void 0===c&&""===c||s.after(" <span class='fired' style='font-weight:700;'>["+Xe(c)+"]</span>")}n=i}t=l,a=r}else t=void 0,n=i,a=r}))}()}nomo_global.PAGE==t.C_TWITCH_AUTH&&$(document).ready((function(){$("body").empty().css("padding","0px 30px 30px 30px"),$("head").append('\n                <link href="/js/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">\n                <link href="/css/dostream.css?20180429" media="screen" rel="stylesheet" type="text/css">\n            '),document.title="두스트림 - Twitch Auth 페이지",C(),S(),async function(t){je("run createTwitchOAuthLayout. saved token: ",nomo_global.TwitchOAuthToken),GM.addStyle("\n        .twitchAuthLayoutContainer {max-width:800px;margin:0 auto; padding-bottom:30px; letter-spacing:-0.5px; font-size:16px;line-height:160%;}\n        #checkTwitchOAuthResultsContainer {}\n        #checkTwitchOAuthResults { margin:5px 0px 5px 15px; padding-left:15px; border-left:3px solid #eee;}\n        #checkTwitchOAuthResults, #checkTwitchOAuthResults table { font-size:16px; }\n        .twitchAuthLayoutContainer h1 {font-size:32px;margin:30px 0;}\n        .twitchAuthLayoutContainer .btn {margin:20px 0; display:block; font-size:16px;}\n        .twitchAuthLayoutContainer a:hover, .twitchAuthLayoutContainer a:visited, .twitchAuthLayoutContainer a:focus {text-decoration:none;}\n        .btn-twitch {background-color:#6441A4; color:#fff;}\n        .btn-twitch:hover, .btn-twitch:focus {background-color:#52318e;}\n        .twitchAuthLayoutContainer .footer {margin-top:0px;text-align:center;}\n    ");var e=$(`\n    <div class="twitchAuthLayoutContainer">\n        <a href="https://www.dostream.com/addostream/twitch/auth/"><h1>Dostream+ Twitch 계정 연결 안내 페이지</h1></a>\n        <span><a href="https://blog.twitch.tv/en/2021/07/15/legacy-twitch-api-v5-shutdown-details-and-timeline/" target="_blank">Twitch 정책 변경</a>으로 인하여, Dostream+ 의 <span style="text-decoration:underline;">메인에 스트리머 추가</span> 기능과 <span style="text-decoration:underline;">트위치 클립 섬네일 미리보기</span> 기능을 사용하려면 Twitch 계정과 Dostream+ 을 연동해야 합니다. 해당 기능을 사용하기 위해 Twitch 계정과 Dostream+ 를 연동하려면 아래의 <span style="background-color:#6441A4; color:#fff;">Twitch 와 Dostream+ 연동 하기</span>을 클릭하세요.\n        <br /><br />\n        Twitch 계정이 없거나, Dostream+ 에 연동하기 찝찝하다면 연동하지 않아도 됩니다. 이 때 <span style="text-decoration:underline;">메인에 스트리머 추가</span> 기능이 켜져있는 경우 매 접속 시 안내 메시지를 채팅에 1회 출력하므로, 이것이 거슬린다면 설정에서 해당 기능을 끄세요. 트위치 클립 섬네일 기능의 경우 연동하지 않으면 섬네일이 검정 이미지로 표시됩니다.</span>\n        <br /><br />\n        <a href="${z}" target="_self"><span class="btn btn-lg btn-primary btn-twitch">Twitch 와 Dostream+ 연동 하기</span></a>\n        <span id="checkTwitchOAuth" class="btn btn-lg btn-primary">현재 인증 여부 확인</span></a>\n        <div id="checkTwitchOAuthResultsContainer" style="display:none;">\n            Twitch 계정과 Dostream+ 가 정상적으로 연결된 경우, Twitch API 로부터 가져온 풍월량의 Twitch Profile 정보가 아래에 표시될 것입니다.\n            <div id="checkTwitchOAuthResults"></div>\n        </div>\n        <a href="https://www.twitch.tv/settings/connections" target="_blank"><span class="btn btn-lg btn-primary">연결 끊으러 가기 (https://www.twitch.tv/settings/connections)</span></a>\n    </div>\n    `);e.find("#checkTwitchOAuth").on("click",(function(){q()})),t.append(e);var n=new URLSearchParams(window.location.hash.substr(1));if(n.get("access_token")){var a=n.get("access_token");je("GOT access_token",a),await G(a),q()&&($(".twitchAuthLayoutContainer").empty().append(`<div style="padding:30px;text-align:center;font-size:18px;">Twitch 계정과 Dostream+ 의 연동이 완료되었습니다.\n            <br />${window.opener?"3초 후 자동으로 창이 닫힙니다.":"이 창을 닫아도 됩니다."}<br /><br /><span style="font-size:14px;letter-spacing:0.5px;">Token : ${a}</span></div>`),window.opener&&setTimeout((function(){window.close()}),3e3))}}($("body"))}))}else{if(je("CHZZK"),window.self===window.top)return void je("CHZZK TOP WINDOW");if(ADD_config.chzzk_onlyVideo){let t,e,n=!1,a=function(){if(n)return;n=!0;let t=document.querySelectorAll(".pzp-pc__viewmode-button");if(1==t.length)t[0].click();else for(let e=0;e<t.length;e++){let n=t[e];if("넓은 화면"===n.getAttribute("aria-label")){n.click();break}}document.querySelector('[class^="live_chatting_header_button__"]').click()};$(document).arrive("video.webplayer-internal-video",{onlyOnce:!0,existing:!0},(function(n){je("elem",n),t=n,e=$(t),t.readyState>=2?a():t.addEventListener("loadedmetadata",(function e(){t.removeEventListener("loadedmetadata",e),a()}))})),GM_addStyle("\n            .NCCL_pzp_qset { border-radius: 8px; color: #fff; padding: 4px 6px !important; opacity:0; transition-property: opacity; transition-duration: 0.2s; }\n            .pzp.pzp-pc.pzp-pc--controls .NCCL_pzp_qset { opacity:1; position:relative }\n            .pzp.pzp-pc.pzp-pc--controls .NCCL_pzp_qset:hover .NCCL_pzp_qset_tooltip { visibility: visible }\n            .pzp.pzp-pc.pzp-pc--controls .NCCL_pzp_qset .NCCL_pzp_qset_tooltip{\n            font-family: -apple-system, BlinkMacSystemFont, Helvetica, Apple SD Gothic Neo, sans-serif;\n            -webkit-font-smoothing: antialiased;\n            color: #fff;\n            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n            margin: 0;\n            padding: 0;\n            position: absolute;\n            top: -40px;\n            left: 50%;\n            height: 27px;\n            padding: 0 12px;\n            background-color: rgba(0, 0, 0, 0.6);\n            border-radius: 14px;\n            font-size: 13px;\n            line-height: 28px;\n            text-align: center;\n            color: #fff;\n            white-space: nowrap;\n            visibility: hidden;\n            transition-property: opacity;\n            transform: translateX(-50%);\n        }\n            ");let o={isSetMaxQuality:!1,insertQsetDisplay:function(){0==$(document).find(".NCCL_pzp_qset").length&&null==this.$NCCL_pzp_qset&&(this.$NCCL_pzp_qset=$('<div class="NCCL_pzp_qset"></div>'),$(document).find(".pzp-pc__bottom-buttons-right").prepend(this.$NCCL_pzp_qset))}};$(document).arrive(".pzp-pc-ui-setting-quality-item",{onlyOnce:!0,existing:!0},(function(t){if(o.isSetMaxQuality)return;$(t).closest("ul").find("li").length>1&&$(document).arrive(".pzp-pc-setting-intro-quality",{onlyOnce:!0,existing:!0},(function(t){o.insertQsetDisplay();let e=$(t).find(".pzp-pc-ui-setting-intro-panel__value").text();o.latestVideoQuality=e,o.$NCCL_pzp_qset.html(`${e}`),setTimeout((function(){o.$NCCL_pzp_qset.addClass("BANJJAK")}),200),setTimeout((function(){o.$NCCL_pzp_qset.removeClass("BANJJAK")}),3e3),new MutationObserver((function(t){t.forEach((function(t){o.firstPlayed?(je(t),o.insertQsetDisplay(),o.$NCCL_pzp_qset.text(t.target.wholeText),setTimeout((function(){o.$NCCL_pzp_qset.fadeIn(300)}),200),setTimeout((function(){o.$NCCL_pzp_qset.fadeOut(300)}),3e3)):o.latestVideoQuality!==t.target.wholeText&&(o.$NCCL_pzp_qset.text(t.target.wholeText),o.latestVideoQuality=t.target.wholeText)}))})).observe(t,{attributes:!1,childList:!1,characterData:!0,subtree:!0})}))}))}}})()})()})();